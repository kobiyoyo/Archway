  [1m[35m (1618.4ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_CLONE_development" ENCODING = 'unicode'[0m
  [1m[35m (909.9ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_CLONE_test" ENCODING = 'unicode'[0m
  [1m[35m (316.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (206.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8148762895516731390)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-01-17 12:48:32.283113"], ["updated_at", "2020-01-17 12:48:32.283113"]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(8148762895516731390)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_CLONE_development" ENCODING = 'unicode'[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_CLONE_test" ENCODING = 'unicode'[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (30.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "83e6e9510955ef04f606b0339b1f0d53760104f9"], ["created_at", "2020-01-17 12:48:48.422092"], ["updated_at", "2020-01-17 12:48:48.422092"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (210.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (304.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-01-17 12:48:49.040872"], ["updated_at", "2020-01-17 12:48:49.040872"]]
  [1m[35m (42.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (25.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-01-17 12:48:49.100695"], ["key", "environment"]]
  [1m[35m (152.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "83e6e9510955ef04f606b0339b1f0d53760104f9"], ["created_at", "2020-01-17 12:48:49.296535"], ["updated_at", "2020-01-17 12:48:49.296535"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8148762895516731390)[0m
  [1m[35m (5.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20200117130754)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (304.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (48.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (40.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (19.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200117130754"]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(8148762895516731390)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_up" for ::1 at 2020-01-17 14:11:28 +0100
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 213)
  Rendered /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 547)
  Rendered /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 260.2ms | Allocations: 9371)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: b8da895a0e9dad042448
Version: webpack 4.41.5
Time: 3201ms
Built at: 17/01/2020 14:11:41
                                     Asset       Size       Chunks                         Chunk Names
    js/application-dcddf4d84d8d8e69f47f.js   7.27 KiB  application  [emitted] [immutable]  application
js/application-dcddf4d84d8d8e69f47f.js.map   3.53 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-dcddf4d84d8d8e69f47f.js js/application-dcddf4d84d8d8e69f47f.js.map
[./app/javascript/packs/application.js] 3.37 KiB {application} [built] [failed] [1 error]

ERROR in ./app/javascript/packs/application.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
Error: Package exports for '/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/helper-compilation-targets' do not define a '.' subpath
    at applyExports (internal/modules/cjs/loader.js:485:15)
    at resolveExports (internal/modules/cjs/loader.js:508:12)
    at Function.Module._findPath (internal/modules/cjs/loader.js:577:20)
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:879:27)
    at Function.Module._load (internal/modules/cjs/loader.js:785:27)
    at Module.require (internal/modules/cjs/loader.js:956:19)
    at require (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/preset-env/lib/debug.js:8:33)
    at Module._compile (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1103:10)
    at Module.load (internal/modules/cjs/loader.js:914:32)
    at Function.Module._load (internal/modules/cjs/loader.js:822:14)
    at Module.require (internal/modules/cjs/loader.js:956:19)
    at require (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/preset-env/lib/index.js:11:14)
    at Module._compile (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1103:10)
    at Module.load (internal/modules/cjs/loader.js:914:32)
    at Function.Module._load (internal/modules/cjs/loader.js:822:14)
    at Module.require (internal/modules/cjs/loader.js:956:19)
    at require (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at requireModule (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/files/plugins.js:165:12)
    at loadPreset (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/files/plugins.js:83:17)
    at createDescriptor (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-descriptors.js:154:9)
    at /home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-descriptors.js:109:50
    at Array.map (<anonymous>)
    at createDescriptors (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-descriptors.js:109:29)
    at createPresetDescriptors (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-descriptors.js:101:10)
    at presets (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-descriptors.js:47:19)
    at mergeChainOpts (/home/chubiyojo/Desktop/Code Review/New Project 8/FACEBOOK-CLONE/node_modules/@babel/core/lib/config/config-chain.js:320:26)

Completed 200 OK in 12733ms (Views: 12690.7ms | ActiveRecord: 10.7ms | Allocations: 33598)


Started GET "/users/sign_in" for ::1 at 2020-01-17 14:12:03 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 215)
  Rendered /home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 53.5ms | Allocations: 2018)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 78.4ms | ActiveRecord: 0.0ms | Allocations: 7266)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8148762895516731390)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOmniauthToUsers (20200117131421)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[36mprimary::SchemaMigration Create (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200117131421"]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(8148762895516731390)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_up" for ::1 at 2020-01-17 14:25:30 +0100
  
ArgumentError (Invalid route name, already in use: 'new_user_session' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:5:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2020-03-11 11:48:43 +0100
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms | Allocations: 1663)


Started GET "/login" for ::1 at 2020-03-11 11:48:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 738)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 25.2ms | Allocations: 4299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 132.9ms | ActiveRecord: 21.4ms | Allocations: 56023)


Started POST "/login" for ::1 at 2020-03-11 11:49:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"G8uON18DgON6J9QIjLgwyaEYJ/q2CamKhuaYTdW14W30J6+BgIO7EFkNr0bmOjcWWMOaA3ZWn5QI2vbrBWGaPQ==", "user"=>{"email"=>"dani@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dani@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 166ms (ActiveRecord: 2.1ms | Allocations: 7462)


Started GET "/" for ::1 at 2020-03-11 11:49:09 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (3.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (2.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 3.7ms | Allocations: 1028)
  Rendered posts/index.html.erb within layouts/application (Duration: 90.5ms | Allocations: 19472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 82.1ms | ActiveRecord: 16.3ms | Allocations: 25270)


Started GET "/users" for ::1 at 2020-03-11 11:49:11 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 959)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 1.7ms | Allocations: 7290)


Started GET "/friends/create/2" for ::1 at 2020-03-11 11:49:13 +0100
  
ActionController::RoutingError (No route matches [GET] "/friends/create/2"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-03-11 11:50:46 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1012)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 14.4ms | ActiveRecord: 1.8ms | Allocations: 7828)


Started POST "/friends/create/2" for ::1 at 2020-03-11 11:50:48 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"FLVquqoIXyhTgpYJ8SOQbKlFnEzP9DlHNAfF6SDo40mP6FuU0hX9oKnu5bfBU8pMEqw3QCxEdMUyVB7Z5oXCYQ==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (8.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-03-11 10:50:48.828824"], ["updated_at", "2020-03-11 10:50:48.828824"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/users/2
Completed 302 Found in 41ms (ActiveRecord: 15.2ms | Allocations: 10815)


Started GET "/users/2" for ::1 at 2020-03-11 11:50:48 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2486)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 1.4ms | Allocations: 7756)


Started GET "/login" for ::1 at 2020-03-11 11:51:01 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 19ms (ActiveRecord: 0.9ms | Allocations: 1795)


Started GET "/logout" for ::1 at 2020-03-11 11:51:03 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 0.3ms | Allocations: 3056)


Started GET "/" for ::1 at 2020-03-11 11:51:03 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 294)


Started GET "/login" for ::1 at 2020-03-11 11:51:03 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 622)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2015)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 7380)


Started POST "/login" for ::1 at 2020-03-11 11:51:10 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"h8PVtg2paRlxGwny7AajX8FfCzuwmeAQfThV4bILkSqnxYoH97eAq3Cudt09MCBNPRBqu4XcDZujdCQ8JCzpjw==", "user"=>{"email"=>"obi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "obi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 160ms (ActiveRecord: 3.1ms | Allocations: 4213)


Started GET "/" for ::1 at 2020-03-11 11:51:11 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 3.2ms | Allocations: 688)
  Rendered posts/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 6070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 33.2ms | ActiveRecord: 3.9ms | Allocations: 11875)


Started GET "/friends" for ::1 at 2020-03-11 11:51:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2270)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 69.3ms | ActiveRecord: 2.3ms | Allocations: 8223)


Started GET "/" for ::1 at 2020-03-11 11:51:17 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (1.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 1.6ms | Allocations: 515)
  Rendered posts/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 5343)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 21.1ms | ActiveRecord: 5.3ms | Allocations: 10466)


Started GET "/friends" for ::1 at 2020-03-11 11:51:19 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  Rendered friendships/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 9.2ms | ActiveRecord: 1.9ms | Allocations: 7141)


Started GET "/login" for ::1 at 2020-03-11 11:51:21 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1781)


Started GET "/logout" for ::1 at 2020-03-11 11:51:23 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2230)


Started GET "/" for ::1 at 2020-03-11 11:51:23 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 283)


Started GET "/login" for ::1 at 2020-03-11 11:51:23 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 5082)


Started POST "/login" for ::1 at 2020-03-11 11:51:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ul5dsqMpSJ7uh/KNZZsYlL1dvWe6pINuGlzWC1rN5jow6z7KcHW5uLSGeDVUr92I8w/FwYyhgTNn7QxyWubdDQ==", "user"=>{"email"=>"dani@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dani@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 143ms (ActiveRecord: 0.5ms | Allocations: 2737)


Started GET "/" for ::1 at 2020-03-11 11:51:28 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 1.7ms | Allocations: 514)
  Rendered posts/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 5330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.0ms | ActiveRecord: 3.2ms | Allocations: 10462)


Started GET "/users" for ::1 at 2020-03-11 11:51:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 826)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 2.1ms | Allocations: 6413)


Started POST "/friends/create/2" for ::1 at 2020-03-11 11:51:34 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"RCs/ogMl1tzSTfrxTxIHmrjuYggr59WaaBR5DAPNzT4xZk0VMXI5duUfR1+O7WAUUyQk92NaDBLdkHb7ILVeaQ==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/users/2
Completed 302 Found in 16ms (ActiveRecord: 2.3ms | Allocations: 6849)


Started GET "/users/2" for ::1 at 2020-03-11 11:51:35 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2196)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 1.8ms | Allocations: 7325)


Started GET "/logout" for ::1 at 2020-03-11 11:51:48 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 2208)


Started GET "/" for ::1 at 2020-03-11 11:51:48 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-03-11 11:51:48 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 5067)


Started POST "/login" for ::1 at 2020-03-11 11:51:54 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"sBVI5qX6CM5HCeszs2/PWKrSGlh5Sk7otZD9WH0dLqQR/isMdm8m4XJ+tFEpnaLl4VceBGGOE6NZJqxkDbYS8g==", "user"=>{"email"=>"obi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "obi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 143ms (ActiveRecord: 0.6ms | Allocations: 2736)


Started GET "/" for ::1 at 2020-03-11 11:51:55 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (7.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (2.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 514)
  Rendered posts/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 5330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 23.4ms | ActiveRecord: 13.0ms | Allocations: 10461)


Started GET "/users" for ::1 at 2020-03-11 11:51:57 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 969)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 8.8ms | ActiveRecord: 1.3ms | Allocations: 6551)


Started GET "/friends" for ::1 at 2020-03-11 11:52:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  Rendered friendships/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 11.2ms | ActiveRecord: 4.0ms | Allocations: 7139)


Started GET "/users" for ::1 at 2020-03-11 11:52:04 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 969)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 1.6ms | Allocations: 6554)


Started POST "/friends/create/1" for ::1 at 2020-03-11 11:52:06 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"40k0+3y/5FpaVWrukLrDOImE/On1Zp2fTTYVJRVzzoxC9hP7iwP5Gh9RNQ6r0E5n/zQd58F1Bx3TIpXlW840yQ==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/users/1
Completed 302 Found in 24ms (ActiveRecord: 6.7ms | Allocations: 6845)


Started GET "/users/1" for ::1 at 2020-03-11 11:52:06 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 1.8ms | Allocations: 7292)


Started GET "/logout" for ::1 at 2020-03-11 11:52:10 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 2219)


Started GET "/" for ::1 at 2020-03-11 11:52:10 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-03-11 11:52:10 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms | Allocations: 5071)


Started POST "/login" for ::1 at 2020-03-11 11:52:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"EpE/T4A5VdGL31xuRUrvTQiKHTaDIJqvww22fA96U+v143r6/uKaoAX/jwDAcEWtlzzwaG++7iMl8SOFlD4NgA==", "user"=>{"email"=>"dani@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dani@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 140ms (ActiveRecord: 0.8ms | Allocations: 1957)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"EpE/T4A5VdGL31xuRUrvTQiKHTaDIJqvww22fA96U+v143r6/uKaoAX/jwDAcEWtlzzwaG++7iMl8SOFlD4NgA==", "user"=>{"email"=>"dani@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1138)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 147ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 4998)


Started POST "/login" for ::1 at 2020-03-11 11:52:20 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"iXXuFXjFDvQhFFkpDPhswDvb4IQRwAC/dR35VPPxS/huB6ugBh7Bha80ikeJwsYgpG0N2v1edDOT4WytaLUVkw==", "user"=>{"email"=>"dani@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dani@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 151ms (ActiveRecord: 0.6ms | Allocations: 2738)


Started GET "/" for ::1 at 2020-03-11 11:52:20 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/index.html.erb:11
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:16
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  ↳ app/views/posts/index.html.erb:17
  Rendered comments/_form.html.erb (Duration: 1.8ms | Allocations: 514)
  Rendered posts/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 5330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 20.5ms | ActiveRecord: 4.0ms | Allocations: 10467)


Started GET "/friends" for ::1 at 2020-03-11 11:52:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 2999)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.9ms | ActiveRecord: 2.7ms | Allocations: 8250)


Started GET "/friends" for ::1 at 2020-03-11 11:52:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2989)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 14.9ms | ActiveRecord: 2.6ms | Allocations: 8250)


Started GET "/logout" for ::1 at 2020-03-11 11:52:40 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 2215)


Started GET "/" for ::1 at 2020-03-11 11:52:40 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-03-11 11:52:40 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 5067)


Started GET "/signup" for ::1 at 2020-03-11 11:52:47 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 213)
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 188)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 57.2ms | ActiveRecord: 0.0ms | Allocations: 8390)


Started POST "/" for ::1 at 2020-03-11 11:53:24 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"qlu5OmqQC9H6bk1+cxbNq4hmqFDDcmWtfBi4BvYiGLgNNIuk7LCVvNIicT9LRxB/6SFYHCgHUuItBpBAJKoflQ==", "user"=>{"first_name"=>"sto", "last_name"=>"sto", "gender"=>"male", "date_of_birth"=>"2001-03-29", "email"=>"sto@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sto@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "gender", "first_name", "last_name", "date_of_birth") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "sto@gmail.com"], ["encrypted_password", "$2a$11$ytIVU80kNCiZRA1avwRiRegbKnZEQfxzzfbeIyJLvHNIMNszCQa.2"], ["created_at", "2020-03-11 10:53:24.366289"], ["updated_at", "2020-03-11 10:53:24.366289"], ["gender", "male"], ["first_name", "sto"], ["last_name", "sto"], ["date_of_birth", "2001-03-29"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 160ms (ActiveRecord: 5.6ms | Allocations: 8338)


Started GET "/" for ::1 at 2020-03-11 11:53:24 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 4]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1872)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 10.4ms | ActiveRecord: 2.0ms | Allocations: 7010)


Started GET "/logout" for ::1 at 2020-03-11 11:53:30 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2214)


Started GET "/" for ::1 at 2020-03-11 11:53:30 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 287)


Started GET "/login" for ::1 at 2020-03-11 11:53:30 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 5079)


Started GET "/signup" for ::1 at 2020-03-11 11:53:31 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 150)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1940)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 5805)


Started POST "/" for ::1 at 2020-03-11 11:54:13 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"A0pmZdzH+eJcqK0dgQ3YIRXwyFl8s0AEfHDHp/lZILE1o6XbdeoPLRsZ+EOxb7ae66X1b8PU4rPUk7Kc+xNtwQ==", "user"=>{"first_name"=>"stan", "last_name"=>"stan", "gender"=>"male", "date_of_birth"=>"2001-03-31", "email"=>"stan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "stan@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "gender", "first_name", "last_name", "date_of_birth") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "stan@gmail.com"], ["encrypted_password", "$2a$11$JmBPAqhEMotp3r3DxG12cujUJWrm4F2Y96Krc3fvkargTK.cjKf5O"], ["created_at", "2020-03-11 10:54:13.695585"], ["updated_at", "2020-03-11 10:54:13.695585"], ["gender", "male"], ["first_name", "stan"], ["last_name", "stan"], ["date_of_birth", "2001-03-31"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 152ms (ActiveRecord: 4.7ms | Allocations: 7167)


Started GET "/" for ::1 at 2020-03-11 11:54:13 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (3.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 1863)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 11.5ms | ActiveRecord: 5.8ms | Allocations: 7004)


Started GET "/users" for ::1 at 2020-03-11 11:54:18 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 5], ["user_id", 5], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 10.7ms | ActiveRecord: 1.6ms | Allocations: 6856)


Started POST "/friends/create/4" for ::1 at 2020-03-11 11:54:22 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xyw+d7BV2SND6X00oGL14MQwDWCFZ+535euwx/6WdCAUZ8RUlPy/cmP0F2j68Vmpv9YtfGr742Si5VmC+0bPAQ==", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["friend_id", 4], ["created_at", "2020-03-11 10:54:22.235591"], ["updated_at", "2020-03-11 10:54:22.235591"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["friend_id", 5], ["created_at", "2020-03-11 10:54:22.240772"], ["updated_at", "2020-03-11 10:54:22.240772"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/users/4
Completed 302 Found in 29ms (ActiveRecord: 10.3ms | Allocations: 7356)


Started GET "/users/4" for ::1 at 2020-03-11 11:54:22 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2178)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 12.9ms | ActiveRecord: 1.1ms | Allocations: 7309)


Started GET "/" for ::1 at 2020-03-11 11:54:50 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1863)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 12.0ms | ActiveRecord: 3.3ms | Allocations: 6989)


Started GET "/logout" for ::1 at 2020-03-11 11:54:55 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2215)


Started GET "/" for ::1 at 2020-03-11 11:54:55 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 282)


Started GET "/login" for ::1 at 2020-03-11 11:54:55 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 5068)


Started POST "/login" for ::1 at 2020-03-11 11:55:04 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"16eOiMdpKHW/pWus3l00yU9nvBO4ZCAkIhMPzb+/DWObVZ6t1Z6Z/r02RCB46Vqxqk1gXfgxOFNSEXdd2/eWqw==", "user"=>{"email"=>"stan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "stan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 144ms (ActiveRecord: 0.7ms | Allocations: 2744)


Started GET "/" for ::1 at 2020-03-11 11:55:04 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1863)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 3.6ms | Allocations: 6995)


Started GET "/login" for ::1 at 2020-03-11 11:55:09 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1780)


Started GET "/logout" for ::1 at 2020-03-11 11:55:11 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.9ms | Allocations: 2219)


Started GET "/" for ::1 at 2020-03-11 11:55:11 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 287)


Started GET "/login" for ::1 at 2020-03-11 11:55:11 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1143)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 5072)


Started POST "/login" for ::1 at 2020-03-11 11:55:19 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"GnK2tViW2cZ5yDYpW9jYrHzGVvUViWze0IfAL1XkCXr0uCXvqjGFAa5B7TRSJARufUZ3Z5urSMIcZmuL4MSUwQ==", "user"=>{"email"=>"sto@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sto@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 1.8ms | Allocations: 2737)


Started GET "/" for ::1 at 2020-03-11 11:55:19 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 4]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1863)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 1.1ms | Allocations: 6997)


Started GET "/friends" for ::1 at 2020-03-11 11:55:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3662)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 13.8ms | ActiveRecord: 2.5ms | Allocations: 8917)


Started GET "/friends/accept/5" for ::1 at 2020-03-11 11:55:29 +0100
  
ActionController::RoutingError (No route matches [GET] "/friends/accept/5"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-03-11 11:56:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 4119)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 2.8ms | Allocations: 10491)


Started GET "/friends/deny/5" for ::1 at 2020-03-11 11:56:45 +0100
  
ActionController::RoutingError (No route matches [GET] "/friends/deny/5"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-03-11 11:57:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 4215)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 17.8ms | ActiveRecord: 3.3ms | Allocations: 10586)


Started GET "/users/5" for ::1 at 2020-03-11 11:57:12 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2412)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.3ms | ActiveRecord: 1.2ms | Allocations: 8205)


Started PUT "/friends/accept/5" for ::1 at 2020-03-11 11:57:41 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"iWgBQtFWPTr2j/hZ6DYbFB+cs5PZ5TyeGFpWLjJ4qqxWCZUN5QJ7G5n7jelY2Xc6zkJl7ZejM5njoU6b5cqB5w==", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 4], ["friend_id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 5], ["id", 9], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mFriendship Update (4.3ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-03-11 10:57:41.881733"], ["id", 9]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 5], ["friend_id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 4], ["id", 8], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[36mFriendship Update (5.3ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-03-11 10:57:41.881733"], ["id", 8]]
  ↳ app/models/friendship.rb:33:in `accept_one_side'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 55ms (ActiveRecord: 16.2ms | Allocations: 12796)


Started GET "/friends" for ::1 at 2020-03-11 11:57:41 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 2997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 1.6ms | Allocations: 8273)


Started DELETE "/friends/deny/5" for ::1 at 2020-03-11 11:57:46 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"vqbryWnoihRYoIJV8B+a4yVCqxU1K1x5pluyPUoY80w8xRF7GQgFLZhtQDfspcOjlbDsM3Tcxw7kdqxaxCSXkQ==", "commit"=>"unfriend stan", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 4], ["friend_id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 9]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 5], ["friend_id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 8]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 20ms (ActiveRecord: 5.4ms | Allocations: 6086)


Started GET "/friends" for ::1 at 2020-03-11 11:57:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  Rendered friendships/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 12.7ms | ActiveRecord: 3.5ms | Allocations: 7168)


Started GET "/users" for ::1 at 2020-03-11 11:57:58 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 4], ["user_id", 4], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1456)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 9.7ms | ActiveRecord: 2.1ms | Allocations: 7178)


Started POST "/friends/create/5" for ::1 at 2020-03-11 11:58:01 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xktAsBZ6kwKEdrIheW1c501TYiZdFRgWBtPgBYl167CZ17YEnFCT0kv2FpTGOGUG+KDIVROsOiev/i0lBCplyg==", "id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["friend_id", 5], ["created_at", "2020-03-11 10:58:01.286929"], ["updated_at", "2020-03-11 10:58:01.286929"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["friend_id", 4], ["created_at", "2020-03-11 10:58:01.291078"], ["updated_at", "2020-03-11 10:58:01.291078"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/users/5
Completed 302 Found in 26ms (ActiveRecord: 9.7ms | Allocations: 7359)


Started GET "/users/5" for ::1 at 2020-03-11 11:58:01 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "accepted"]]
  ↳ app/views/users/show.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 4], ["status", "pending"]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2178)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.8ms | ActiveRecord: 1.5ms | Allocations: 7307)


Started GET "/logout" for ::1 at 2020-03-11 11:58:06 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2213)


Started GET "/" for ::1 at 2020-03-11 11:58:06 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-03-11 11:58:06 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 618)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2008)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 7377)


Started POST "/login" for ::1 at 2020-03-11 11:58:13 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"2T0JXLqA/AzKpVCpVdLxwf8Mt1YqhWiJW+rX1EmSKkmdN2ynT7tesgZhOEponif79VP33Wh5JD+rmX5cUBI5ig==", "user"=>{"email"=>"stan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "stan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 0.3ms | Allocations: 4193)


Started GET "/" for ::1 at 2020-03-11 11:58:13 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2)[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered posts/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2285)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 1.5ms | Allocations: 8099)


Started GET "/friends" for ::1 at 2020-03-11 11:58:16 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:14
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3855)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 13.1ms | ActiveRecord: 3.8ms | Allocations: 9115)


Started DELETE "/friends/deny/4" for ::1 at 2020-03-11 11:58:18 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"y1K7wWJxkGLEhO8q2mn3aaQjNOIKuSiNAJmpLm8+A6L3Weshuvwy51ttlLCN0H9nQm8XL/946B7sTnhZqOiSCg==", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:39:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 5], ["friend_id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (1.3ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 11]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 4], ["friend_id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 10]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 26ms (ActiveRecord: 10.5ms | Allocations: 6069)


Started GET "/friends" for ::1 at 2020-03-11 11:58:18 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:1
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 5], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:1
  Rendered friendships/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 2.9ms | Allocations: 7165)


  [1m[36mUser Load (134.5ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "adamega@mail.com"], ["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (131.8ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "adamega@mail.com"], ["updated_at", "2020-04-21 15:10:02.594860"], ["id", 3]]
  [1m[35m (38.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (67.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2 LIMIT $3[0m  [["user_id", 3], ["status", "accepted"], ["LIMIT", 11]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "users"."first_name" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  [1m[36mFriendship Load (1.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[35m (31.3ms)[0m  [1m[34mSELECT "first_name" FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2 LIMIT $3[0m  [["user_id", 3], ["status", "accepted"], ["LIMIT", 11]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2 LIMIT $3[0m  [["user_id", 3], ["status", "accepted"], ["LIMIT", 11]]
Started GET "/" for ::1 at 2020-04-21 16:44:32 +0100
  [1m[35m (69.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 88ms (ActiveRecord: 0.0ms | Allocations: 1711)


Started GET "/login" for ::1 at 2020-04-21 16:44:37 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 27.3ms | Allocations: 749)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5863.6ms | Allocations: 297163)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 15.4ms | Allocations: 1093)
Completed 200 OK in 7946ms (Views: 7553.8ms | ActiveRecord: 21.1ms | Allocations: 410026)


Started POST "/login" for ::1 at 2020-04-21 16:45:33 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"PvQgmB1otTFqlbMv59JhCDYE4t8h6fMaLJnWhwUMFTlHBBgYACXhJkjaTAjA7Qzg4kiMzmfX2t17pFH7SsVIoQ==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 930ms (ActiveRecord: 1.2ms | Allocations: 7251)


Started GET "/" for ::1 at 2020-04-21 16:45:34 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 53.7ms | Allocations: 1566)
  [1m[36mPost Load (240.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (68.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 40], ["record_id", 38], ["record_id", 37], ["record_id", 36], ["record_id", 35], ["record_id", 34], ["record_id", 33], ["record_id", 21], ["record_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (98.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["post_id", 40], ["post_id", 38], ["post_id", 37], ["post_id", 36], ["post_id", 35], ["post_id", 34], ["post_id", 33], ["post_id", 21], ["post_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (16.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (53.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (73.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (70.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 32.8ms | Allocations: 1885)
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.7ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 3.7ms | Allocations: 446)
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (1.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 8.0ms | Allocations: 451)
  Rendered comments/_form.html.erb (Duration: 1.7ms | Allocations: 455)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.0ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.6ms | Allocations: 446)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 17], ["id", 16]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [2 times] (Duration: 1.5ms | Allocations: 530)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  Rendered collection of posts/_post.html.erb [9 times] (Duration: 921.4ms | Allocations: 81116)
  Rendered posts/index.html.erb within layouts/application (Duration: 1831.6ms | Allocations: 107886)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.7ms | Allocations: 678)
Completed 200 OK in 1903ms (Views: 1228.8ms | ActiveRecord: 663.8ms | Allocations: 118453)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803/dad.png" for ::1 at 2020-04-21 16:45:37 +0100
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--2b9a25127edbd11494e239ec64ef38176ee716fc/1.png" for ::1 at 2020-04-21 16:45:42 +0100
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--269289eb55132935c0ce4abef776032f7465c201/IMG_20190912_133453_684.jpg" for ::1 at 2020-04-21 16:45:42 +0100
Processing by ActiveStorage::BlobsController#show as PNG
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803", "filename"=>"dad"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--269289eb55132935c0ce4abef776032f7465c201", "filename"=>"IMG_20190912_133453_684"}
  [1m[36mActiveStorage::Blob Load (2.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
[36m  Disk Storage (239.9ms) [0m[34mGenerated URL for file at key: 6mqm90dgu3f2pniy4p7y65pkdkxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUwOjQyLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a9ffb70d278dabad6960b1e160872de7234e3ccf/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUwOjQyLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a9ffb70d278dabad6960b1e160872de7234e3ccf/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png
Completed 302 Found in 266ms (ActiveRecord: 2.3ms | Allocations: 2754)


  [1m[36mActiveStorage::Blob Load (4.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: py0xwgjlcnx1vl1qq0984ojk75s2 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDMuMTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--0f1711df8e67142ec4025438e5f59c7574efc26e/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDMuMTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--0f1711df8e67142ec4025438e5f59c7574efc26e/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg
Completed 302 Found in 259ms (ActiveRecord: 118.5ms | Allocations: 4387)


Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--2b9a25127edbd11494e239ec64ef38176ee716fc", "filename"=>"1"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 45n2zhen4zckkny3qdr4ebjq1eo6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDUuMzc1WiIsInB1ciI6ImJsb2Jfa2V5In19--71aa07b1da3e42030866b82b01ae2707e0ede17e/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDUuMzc1WiIsInB1ciI6ImJsb2Jfa2V5In19--71aa07b1da3e42030866b82b01ae2707e0ede17e/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 2005)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUwOjQyLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a9ffb70d278dabad6960b1e160872de7234e3ccf/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png" for ::1 at 2020-04-21 16:45:50 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDMuMTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--0f1711df8e67142ec4025438e5f59c7574efc26e/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg" for ::1 at 2020-04-21 16:45:50 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDUuMzc1WiIsInB1ciI6ImJsb2Jfa2V5In19--71aa07b1da3e42030866b82b01ae2707e0ede17e/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png" for ::1 at 2020-04-21 16:45:50 +0100
Processing by ActiveStorage::DiskController#show as PNG
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad.png\"; filename*=UTF-8''dad.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUwOjQyLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a9ffb70d278dabad6960b1e160872de7234e3ccf", "filename"=>"dad"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"IMG_20190912_133453_684.jpg\"; filename*=UTF-8''IMG_20190912_133453_684.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDMuMTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--0f1711df8e67142ec4025438e5f59c7574efc26e", "filename"=>"IMG_20190912_133453_684"}
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"1.png\"; filename*=UTF-8''1.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTU6NTA6NDUuMzc1WiIsInB1ciI6ImJsb2Jfa2V5In19--71aa07b1da3e42030866b82b01ae2707e0ede17e", "filename"=>"1"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 716)


Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 712)


Completed 404 Not Found in 14ms (ActiveRecord: 0.0ms | Allocations: 2907)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 16:46:41 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (75.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 17], ["user_id", 17], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 7], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 8], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 9], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 10], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 11], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 15], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 344.6ms | Allocations: 44429)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 40.3ms | Allocations: 681)
Completed 200 OK in 913ms (Views: 816.8ms | ActiveRecord: 84.5ms | Allocations: 55647)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--81e2269a3a7350bf1d788596e629ee72990939b1/profile.jpg" for ::1 at 2020-04-21 16:46:45 +0100
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--81e2269a3a7350bf1d788596e629ee72990939b1", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 3dtoxhyirnvo6ovp6w5i7gzsjpfl (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUxOjQ1LjM3M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fee8b06482073f156f0fc5ee9297629dc97cedd0/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUxOjQ1LjM3M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fee8b06482073f156f0fc5ee9297629dc97cedd0/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1917)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUxOjQ1LjM3M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fee8b06482073f156f0fc5ee9297629dc97cedd0/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 16:46:46 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUxOjQ1LjM3M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fee8b06482073f156f0fc5ee9297629dc97cedd0", "filename"=>"profile"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1066)


Started GET "/friends" for ::1 at 2020-04-21 16:47:11 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 107.5ms | Allocations: 10853)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 582ms (Views: 564.2ms | ActiveRecord: 8.6ms | Allocations: 22246)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 16:47:12 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1944)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:47:12 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 714)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:47:16 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"RvTcA3ee6ojXCSsMZ8GOeKLcBEZvEPwStwL1z9AN5aDv3UmMj3TNaCxEw51eIhiJJPpUFtGFlBNd0D34yigbbA==", "id"=>"19"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 3.5ms | Allocations: 5817)


  
NoMethodError (undefined method `Where' for #<Class:0x00007fb9a9502390>
Did you mean?  when):
  
app/models/friendship.rb:30:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:47:51 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 157.0ms | Allocations: 23005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 391ms (Views: 155.5ms | ActiveRecord: 60.8ms | Allocations: 54737)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:47:53 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 53ms (ActiveRecord: 0.0ms | Allocations: 780)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:47:59 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"a0PiBmqY6bBFiLxHyS/vE6RXksnfRbMpA5aEZdrR9F7CaneJknLOUL7FVNbwzHniInHCmWHQ2yjpRExSwPQKkg==", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.9ms | Allocations: 9039)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status=' for #<Friendship::ActiveRecord_Relation:0x00007fb99492dbf0>):
  
app/models/friendship.rb:31:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:48:51 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (5.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 173.9ms | Allocations: 22969)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 679)
Completed 200 OK in 391ms (Views: 241.6ms | ActiveRecord: 42.5ms | Allocations: 54411)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:48:54 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 9ms (ActiveRecord: 0.0ms | Allocations: 784)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:48:56 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"+pA+QiP3e+ziBL6JVl8by5dqY/vhEqDnjacFsRwd8R1TuavN2x1cDBlJVhhvvI06EUwzq1+HyOZndc2GBjgP0Q==", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 133ms (ActiveRecord: 1.0ms | Allocations: 9008)


  [1m[36mCACHE Friendship Load (0.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `updated_at=' for #<Friendship::ActiveRecord_Relation:0x00007fb9a83655b0>
Did you mean?  update_all):
  
app/models/friendship.rb:32:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:50:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 132.0ms | Allocations: 22969)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.7ms | Allocations: 679)
Completed 200 OK in 292ms (Views: 137.1ms | ActiveRecord: 47.2ms | Allocations: 54421)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:50:02 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 779)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:50:04 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Jd4vPenWhrA5RDaMXY7XKRXa6PBzN4fLafN2PnsDv7SM97qyETyhUMIJ3h1kbUHYk/y4oM2i78qDIb4JYSZBeA==", "id"=>"19"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[36mFriendship Load (2.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 44ms (ActiveRecord: 2.7ms | Allocations: 8996)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status' for #<Friendship::ActiveRecord_Relation:0x00007fb9a8e236c8>):
  
app/models/friendship.rb:30:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:50:56 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Jd4vPenWhrA5RDaMXY7XKRXa6PBzN4fLafN2PnsDv7SM97qyETyhUMIJ3h1kbUHYk/y4oM2i78qDIb4JYSZBeA==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:6:in `accept'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 107ms (ActiveRecord: 20.9ms | Allocations: 29763)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status=' for #<Friendship::ActiveRecord_Relation:0x00007fb9b085cd18>):
  
app/models/friendship.rb:31:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:51:31 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Jd4vPenWhrA5RDaMXY7XKRXa6PBzN4fLafN2PnsDv7SM97qyETyhUMIJ3h1kbUHYk/y4oM2i78qDIb4JYSZBeA==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:6:in `accept'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 186ms (ActiveRecord: 28.2ms | Allocations: 29757)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status=' for #<Friendship::ActiveRecord_Relation:0x00007fb9a95c3c70>):
  
app/models/friendship.rb:31:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:51:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 69.5ms | Allocations: 23001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 679)
Completed 200 OK in 112ms (Views: 76.5ms | ActiveRecord: 21.8ms | Allocations: 34756)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:51:44 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 786)


Started GET "/friends" for ::1 at 2020-04-21 16:51:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 9715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 18.1ms | Allocations: 674)
Completed 200 OK in 110ms (Views: 77.7ms | ActiveRecord: 13.4ms | Allocations: 20194)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:51:47 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE1OjUyOjEyLjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cc904d86f493f5c278d6f16084665123f6e006bd", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 720)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:51:49 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"1XRUJxl+WJv2302hTMQIzCtHTfwGHaFdNz2JBc6KN6t8XcGo4ZR/ew2SpTB1J549rWEdrLiIyVzd70Ey1K/JZw==", "id"=>"19"}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 33ms (ActiveRecord: 5.1ms | Allocations: 5625)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status=' for #<Friendship::ActiveRecord_Relation:0x00007fb99c26efa0>):
  
app/models/friendship.rb:31:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:55:41 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 99.9ms | Allocations: 22970)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.6ms | Allocations: 679)
Completed 200 OK in 274ms (Views: 107.9ms | ActiveRecord: 41.4ms | Allocations: 54399)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 16:55:42 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 2276)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:55:42 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426", "filename"=>"dad (1)"}
Completed 404 Not Found in 25ms (ActiveRecord: 0.0ms | Allocations: 720)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:55:53 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Rhj7sVC/PD2XJKMUzHHIrpd7kcKHR6YwF+48HvY9fjXvMW4+qFUb3WxpS4X1kl5fEV3BkjnSzjH9PPQp7BiA+Q==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.7ms | Allocations: 5238)


  
NoMethodError (undefined method `accept' for #<Class:0x00007fb994394630>):
  
app/controllers/friendships_controller.rb:19:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 16:57:19 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  Rendered friendships/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1679)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 0.4ms | Allocations: 5197)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check 
<div class="columns space-x">
	<div class="column is-3 is-offset-2">
		
		<figure class="image is-1by1">
			<% if @user.avatar.attached? %>
			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
			<% else %>
			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
			<% end %>
		 
		</figure>
	</div>
	<div class="is-3">
		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
		<h4 class="is-size-4"><%= @user.email %> </h4>
		<h4 class="is-size-4"><%= @user.gender %> </h4>
		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
		<h1><% if current_user == @user %> </h1>
		<%= link_to 'Edit Profile', edit_user_registration_path %>
		<% end %>
	</div>

</div>






<% if @friends.count > 0 || @requested_friends.count > 0 %>


<h2 class="has-text-centered is-size-2">My friends</h2>

  <% @friends.each do |friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if friend.avatar.attached?  %>
                    <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 


<h2 class="has-text-centered is-size-2">Requested friends</h2>
  <% @requested_friends.each do |requested_friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if requested_friend.avatar.attached?  %>
                    <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
                <div class="buttons">
				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
				</div>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 


):
1:    
2:    <div class="columns space-x">
3:    	<div class="column is-3 is-offset-2">
4:    		
5:    		<figure class="image is-1by1">
6:    			<% if @user.avatar.attached? %>
7:    			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
8:    			<% else %>
9:    			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
10:    			<% end %>
11:    		 
12:    		</figure>
13:    	</div>
14:    	<div class="is-3">
15:    		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
16:    		<h4 class="is-size-4"><%= @user.email %> </h4>
17:    		<h4 class="is-size-4"><%= @user.gender %> </h4>
18:    		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
19:    		<h1><% if current_user == @user %> </h1>
20:    		<%= link_to 'Edit Profile', edit_user_registration_path %>
21:    		<% end %>
22:    	</div>
23:    
24:    </div>
25:    
26:    
27:    
28:    
29:    
30:    
31:    <% if @friends.count > 0 || @requested_friends.count > 0 %>
32:    
33:    
34:    <h2 class="has-text-centered is-size-2">My friends</h2>
35:    
36:      <% @friends.each do |friend| %>
37:        <div class="box">
38:            <article class="media">
39:              <div class="media-left">
40:                <figure class="image is-64x64">
41:                <% if friend.avatar.attached?  %>
42:                        <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
43:                    <% else %>
44:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
45:                     <% end %>
46:                </figure>
47:              </div>
48:              <div class="media-content">
49:                <div class="content">
50:                  <p>
51:                    <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
52:                    <br>
53:                    <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
54:    	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
55:                  </p>
56:                </div>
57:    
58:              </div>
59:            </article>
60:        </div>
61:    <% end %> 
62:    
63:    
64:    <h2 class="has-text-centered is-size-2">Requested friends</h2>
65:      <% @requested_friends.each do |requested_friend| %>
66:        <div class="box">
67:            <article class="media">
68:              <div class="media-left">
69:                <figure class="image is-64x64">
70:                <% if requested_friend.avatar.attached?  %>
71:                        <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
72:                    <% else %>
73:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
74:                     <% end %>
75:                </figure>
76:              </div>
77:              <div class="media-content">
78:                <div class="content">
79:                  <p>
80:                    <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
81:                    <br>
82:                    <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
83:                    <div class="buttons">
84:    				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
85:    				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
86:    				</div>
87:                  </p>
88:                </div>
89:    
90:              </div>
91:            </article>
92:        </div>
93:    <% end %> 
  
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:96: syntax error, unexpected end-of-input, expecting end
Started GET "/friends" for ::1 at 2020-04-21 16:57:48 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  Rendered friendships/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1799)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.6ms | Allocations: 5317)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check 
<div class="columns space-x">
	<div class="column is-3 is-offset-2">
		
		<figure class="image is-1by1">
			<% if @user.avatar.attached? %>
			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
			<% else %>
			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
			<% end %>
		 
		</figure>
	</div>
	<div class="is-3">
		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
		<h4 class="is-size-4"><%= @user.email %> </h4>
		<h4 class="is-size-4"><%= @user.gender %> </h4>
		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
		<h1><% if current_user == @user %> </h1>
		<%= link_to 'Edit Profile', edit_user_registration_path %>
		<% end %>
	</div>

</div>






<% if @friends.count > 0 || @requested_friends.count > 0 %>


<h2 class="has-text-centered is-size-2">My friends</h2>

  <% @friends.each do |friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if friend.avatar.attached?  %>
                    <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 


<h2 class="has-text-centered is-size-2">Requested friends</h2>
  <% @requested_friends.each do |requested_friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if requested_friend.avatar.attached?  %>
                    <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
                <div class="buttons">
				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
				</div>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 

=======
<h3>My friends</h3>
<% @friends.each do |friend| %>
 <div>	<%= friend.email %></div>
 <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>

 <%= form_tag  deny_request_path(friend.id) ,method: 'delete' do %>
 <%= submit_tag "unfriend #{friend.first_name}" %>
 <% end %>

 
<% end %>

):
1:    
2:    <div class="columns space-x">
3:    	<div class="column is-3 is-offset-2">
4:    		
5:    		<figure class="image is-1by1">
6:    			<% if @user.avatar.attached? %>
7:    			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
8:    			<% else %>
9:    			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
10:    			<% end %>
11:    		 
12:    		</figure>
13:    	</div>
14:    	<div class="is-3">
15:    		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
16:    		<h4 class="is-size-4"><%= @user.email %> </h4>
17:    		<h4 class="is-size-4"><%= @user.gender %> </h4>
18:    		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
19:    		<h1><% if current_user == @user %> </h1>
20:    		<%= link_to 'Edit Profile', edit_user_registration_path %>
21:    		<% end %>
22:    	</div>
23:    
24:    </div>
25:    
26:    
27:    
28:    
29:    
30:    
31:    <% if @friends.count > 0 || @requested_friends.count > 0 %>
32:    
33:    
34:    <h2 class="has-text-centered is-size-2">My friends</h2>
35:    
36:      <% @friends.each do |friend| %>
37:        <div class="box">
38:            <article class="media">
39:              <div class="media-left">
40:                <figure class="image is-64x64">
41:                <% if friend.avatar.attached?  %>
42:                        <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
43:                    <% else %>
44:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
45:                     <% end %>
46:                </figure>
47:              </div>
48:              <div class="media-content">
49:                <div class="content">
50:                  <p>
51:                    <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
52:                    <br>
53:                    <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
54:    	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
55:                  </p>
56:                </div>
57:    
58:              </div>
59:            </article>
60:        </div>
61:    <% end %> 
62:    
63:    
64:    <h2 class="has-text-centered is-size-2">Requested friends</h2>
65:      <% @requested_friends.each do |requested_friend| %>
66:        <div class="box">
67:            <article class="media">
68:              <div class="media-left">
69:                <figure class="image is-64x64">
70:                <% if requested_friend.avatar.attached?  %>
71:                        <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
72:                    <% else %>
73:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
74:                     <% end %>
75:                </figure>
76:              </div>
77:              <div class="media-content">
78:                <div class="content">
79:                  <p>
80:                    <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
81:                    <br>
82:                    <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
83:                    <div class="buttons">
84:    				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
85:    				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
86:    				</div>
87:                  </p>
88:                </div>
89:    
90:              </div>
91:            </article>
92:        </div>
93:    <% end %> 
94:    
95:    =======
96:    <h3>My friends</h3>
97:    <% @friends.each do |friend| %>
98:     <div>	<%= friend.email %></div>
99:     <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
100:    
101:     <%= form_tag  deny_request_path(friend.id) ,method: 'delete' do %>
102:     <%= submit_tag "unfriend #{friend.first_name}" %>
103:     <% end %>
104:    
105:     
106:    <% end %>
  
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:108: syntax error, unexpected end-of-input, expecting end
Started GET "/friends" for ::1 at 2020-04-21 16:58:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  Rendered friendships/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1783)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.3ms | Allocations: 5301)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check 
<div class="columns space-x">
	<div class="column is-3 is-offset-2">
		
		<figure class="image is-1by1">
			<% if @user.avatar.attached? %>
			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
			<% else %>
			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
			<% end %>
		 
		</figure>
	</div>
	<div class="is-3">
		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
		<h4 class="is-size-4"><%= @user.email %> </h4>
		<h4 class="is-size-4"><%= @user.gender %> </h4>
		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
		<h1><% if current_user == @user %> </h1>
		<%= link_to 'Edit Profile', edit_user_registration_path %>
		<% end %>
	</div>

</div>






<% if @friends.count > 0 || @requested_friends.count > 0 %>


<h2 class="has-text-centered is-size-2">My friends</h2>

  <% @friends.each do |friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if friend.avatar.attached?  %>
                    <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 


<h2 class="has-text-centered is-size-2">Requested friends</h2>
  <% @requested_friends.each do |requested_friend| %>
    <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
            <% if requested_friend.avatar.attached?  %>
                    <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
                <% else %>
                       <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
                 <% end %>
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
                <br>
                <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
                <div class="buttons">
				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
				</div>
              </p>
            </div>

          </div>
        </article>
    </div>
<% end %> 

=======
<h3>My friends</h3>
<% @friends.each do |friend| %>
 <div>	<%= friend.email %></div>
 <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>

 <%= form_tag  deny_request_path(friend.id) ,method: 'delete' do %>
 <%= submit_tag "unfriend #{friend.first_name}" %>
 <% end %>

):
1:    
2:    <div class="columns space-x">
3:    	<div class="column is-3 is-offset-2">
4:    		
5:    		<figure class="image is-1by1">
6:    			<% if @user.avatar.attached? %>
7:    			<%= image_tag @user.avatar,size: '180',class:'is-rounded' %>
8:    			<% else %>
9:    			 <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
10:    			<% end %>
11:    		 
12:    		</figure>
13:    	</div>
14:    	<div class="is-3">
15:    		<h2 class="has-text-centered is-size-2"><%= @user.first_name %> <%= @user.last_name %>  </h2>
16:    		<h4 class="is-size-4"><%= @user.email %> </h4>
17:    		<h4 class="is-size-4"><%= @user.gender %> </h4>
18:    		<h4 class="is-size-4"><%= @user.date_of_birth %> </h4>
19:    		<h1><% if current_user == @user %> </h1>
20:    		<%= link_to 'Edit Profile', edit_user_registration_path %>
21:    		<% end %>
22:    	</div>
23:    
24:    </div>
25:    
26:    
27:    
28:    
29:    
30:    
31:    <% if @friends.count > 0 || @requested_friends.count > 0 %>
32:    
33:    
34:    <h2 class="has-text-centered is-size-2">My friends</h2>
35:    
36:      <% @friends.each do |friend| %>
37:        <div class="box">
38:            <article class="media">
39:              <div class="media-left">
40:                <figure class="image is-64x64">
41:                <% if friend.avatar.attached?  %>
42:                        <%= image_tag friend.avatar,size: '128' ,class:'is-rounded' %>
43:                    <% else %>
44:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
45:                     <% end %>
46:                </figure>
47:              </div>
48:              <div class="media-content">
49:                <div class="content">
50:                  <p>
51:                    <strong><%= friend.first_name %> <%= friend.last_name %></strong> 
52:                    <br>
53:                    <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
54:    	            <%= button_to 'Unfriend', deny_request_path(friend), method: :delete, class:'button is-light' %>
55:                  </p>
56:                </div>
57:    
58:              </div>
59:            </article>
60:        </div>
61:    <% end %> 
62:    
63:    
64:    <h2 class="has-text-centered is-size-2">Requested friends</h2>
65:      <% @requested_friends.each do |requested_friend| %>
66:        <div class="box">
67:            <article class="media">
68:              <div class="media-left">
69:                <figure class="image is-64x64">
70:                <% if requested_friend.avatar.attached?  %>
71:                        <%= image_tag requested_friend.avatar,size: '128' ,class:'is-rounded' %>
72:                    <% else %>
73:                           <img src="https://bulma.io/images/placeholders/128x128.png" class="is-rounded">
74:                     <% end %>
75:                </figure>
76:              </div>
77:              <div class="media-content">
78:                <div class="content">
79:                  <p>
80:                    <strong><%= requested_friend.first_name %> <%= requested_friend.last_name %></strong> 
81:                    <br>
82:                    <%= link_to 'View Profile', user_profile_path(requested_friend), class:'btn btn-info' %>
83:                    <div class="buttons">
84:    				 <%= button_to 'Accept', accept_request_path(requested_friend), method: :put, class:'button is-primary'  %>
85:    				 <%= button_to 'Decline', deny_request_path(requested_friend), method: :delete, class:'button is-danger'  %>
86:    				</div>
87:                  </p>
88:                </div>
89:    
90:              </div>
91:            </article>
92:        </div>
93:    <% end %> 
94:    
95:    =======
96:    <h3>My friends</h3>
97:    <% @friends.each do |friend| %>
98:     <div>	<%= friend.email %></div>
99:     <%= link_to 'View Profile', user_profile_path(friend), class:'btn btn-info' %>
100:    
101:     <%= form_tag  deny_request_path(friend.id) ,method: 'delete' do %>
102:     <%= submit_tag "unfriend #{friend.first_name}" %>
103:     <% end %>
  
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
app/views/friendships/index.html.erb:105: syntax error, unexpected end-of-input, expecting end
Started GET "/friends" for ::1 at 2020-04-21 16:58:17 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 79.7ms | Allocations: 10767)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 16.9ms | Allocations: 1025)
Completed 200 OK in 202ms (Views: 188.5ms | ActiveRecord: 5.2ms | Allocations: 22908)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:58:18 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 710)


Started GET "/friends" for ::1 at 2020-04-21 16:58:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 80.9ms | Allocations: 22968)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 679)
Completed 200 OK in 255ms (Views: 84.8ms | ActiveRecord: 32.2ms | Allocations: 54291)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 16:58:36 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 782)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:58:38 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"vEwO/0sqBhNknv/5NWsZesyJesrDKGSAwfWwrUqCPFAVZZtws8Ah85/TF2gMiI+LSq8qmn29DIErJ3iaUKfCnA==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 724ms (ActiveRecord: 0.8ms | Allocations: 139461)


  
NameError (undefined local variable or method `user' for #<FriendshipsController:0x00007fb99c168c00>
Did you mean?  super):
  
app/controllers/friendships_controller.rb:20:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 16:59:32 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"vEwO/0sqBhNknv/5NWsZesyJesrDKGSAwfWwrUqCPFAVZZtws8Ah85/TF2gMiI+LSq8qmn29DIErJ3iaUKfCnA==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 358ms (ActiveRecord: 19.5ms | Allocations: 91351)


  
NoMethodError (undefined method `accept_one_side' for #<FriendshipsController:0x00007fb9a98dbb10>
Did you mean?  accept_request_url):
  
app/controllers/friendships_controller.rb:20:in `accept'
Started GET "/friends" for ::1 at 2020-04-21 17:00:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 115.9ms | Allocations: 25059)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 679)
Completed 200 OK in 163ms (Views: 127.8ms | ActiveRecord: 19.2ms | Allocations: 37175)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:00:06 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjAwOjQyLjc4NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ae576a5feac0154358041dbcf0f818d7b47ff426", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 785)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:00:08 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 366ms (ActiveRecord: 2.5ms | Allocations: 72006)


  
NoMethodError (undefined method `accept_one_side' for #<FriendshipsController:0x00007fb9aa4bce48>
Did you mean?  accept_request_url):
  
app/controllers/friendships_controller.rb:20:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:01:03 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
Completed 500 Internal Server Error in 97ms (ActiveRecord: 17.9ms | Allocations: 22656)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/friendships_controller.rb:18:in `accept_one_side'
app/controllers/friendships_controller.rb:25:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:01:46 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 419ms (ActiveRecord: 17.7ms | Allocations: 91371)


  
NoMethodError (undefined method `accept_one_side' for #<FriendshipsController:0x00007fb9a42c7a30>
Did you mean?  accept_request_url):
  
app/controllers/friendships_controller.rb:20:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:02:03 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 16.3ms | Allocations: 22717)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/friendships_controller.rb:18:in `accept_one_side'
app/controllers/friendships_controller.rb:25:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:02:28 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 19], ["LIMIT", 11]]
Completed 500 Internal Server Error in 152ms (ActiveRecord: 17.4ms | Allocations: 25105)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 19], ["LIMIT", 11]]
  
NoMethodError (undefined method `status=' for #<ActiveRecord::Relation []>):
  
app/controllers/friendships_controller.rb:19:in `accept_one_side'
app/controllers/friendships_controller.rb:25:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:03:52 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Completed 500 Internal Server Error in 152ms (ActiveRecord: 26.3ms | Allocations: 24530)


  
NoMethodError (undefined method `save!' for #<ActiveRecord::Relation []>):
  
app/controllers/friendships_controller.rb:21:in `accept_one_side'
app/controllers/friendships_controller.rb:25:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:04:07 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Completed 500 Internal Server Error in 117ms (ActiveRecord: 25.2ms | Allocations: 24571)


  
NoMethodError (undefined method `save' for #<ActiveRecord::Relation []>):
  
app/controllers/friendships_controller.rb:21:in `accept_one_side'
app/controllers/friendships_controller.rb:25:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:05:32 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mmVtOXiZNmJ0tFCLFsC/NJ1lfVDiROTxverAhbxHQjczTPi2gHMRgo/5uBovIynFG0MtAFzRjPBXOAiypmK8+w==", "id"=>"19"}
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:45:in `find_user'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" IS NULL[0m  [["user_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Redirected to http://localhost:3000/friends
Completed 302 Found in 123ms (ActiveRecord: 31.9ms | Allocations: 23696)


Started GET "/friends" for ::1 at 2020-04-21 17:05:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (28.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 175.7ms | Allocations: 22978)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 9.2ms | Allocations: 679)
Completed 200 OK in 688ms (Views: 635.0ms | ActiveRecord: 44.3ms | Allocations: 34758)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 17:05:37 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (122.6ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 167ms (ActiveRecord: 1.0ms | Allocations: 2282)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:05:41 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 713)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:05:47 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"e+fLdzrQdH+qtNEKQRmwM9toDi+MZCacLGwdhUPjDYzSzl74wjpTn1H5OZt4+ibCXU5efzLxTp3GvtWyWcbzQA==", "id"=>"19"}
  [1m[36mUser Load (12.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:45:in `find_user'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" IS NULL[0m  [["user_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Redirected to http://localhost:3000/friends
Completed 302 Found in 47ms (ActiveRecord: 17.2ms | Allocations: 3942)


Started GET "/friends" for ::1 at 2020-04-21 17:05:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 39.0ms | Allocations: 9715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 68ms (Views: 55.0ms | ActiveRecord: 4.4ms | Allocations: 20202)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:05:48 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjEwOjQxLjU1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--75579a3e13c7ce31175a67f094c3524c12ac550f", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 710)


Started GET "/friends" for ::1 at 2020-04-21 17:10:41 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 203.4ms | Allocations: 23005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 679)
Completed 200 OK in 344ms (Views: 217.4ms | ActiveRecord: 41.0ms | Allocations: 54341)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 17:10:44 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (2.6ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 14ms (ActiveRecord: 0.9ms | Allocations: 2281)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:10:47 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 713)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:10:49 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"wdbMp2mXoG8d246jHkKStzGNFPSCoUFk8kQrn75eV6Jo/1kokX2Hj+aWZjInoQRGt6tEpDw0KWUYluOopHupbg==", "id"=>"19"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 7.1ms | Allocations: 4954)


  
NoMethodError (undefined method `save' for #<ActiveRecord::Relation []>):
  
app/controllers/friendships_controller.rb:20:in `accept_one_side'
app/controllers/friendships_controller.rb:24:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:13:28 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"wdbMp2mXoG8d246jHkKStzGNFPSCoUFk8kQrn75eV6Jo/1kokX2Hj+aWZjInoQRGt6tEpDw0KWUYluOopHupbg==", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" IS NULL[0m  [["user_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Redirected to http://localhost:3000/friends
Completed 302 Found in 187ms (ActiveRecord: 20.5ms | Allocations: 23719)


Started GET "/friends" for ::1 at 2020-04-21 17:13:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 113.8ms | Allocations: 22967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 679)
Completed 200 OK in 187ms (Views: 162.1ms | ActiveRecord: 18.2ms | Allocations: 34737)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:13:30 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df", "filename"=>"dad (1)"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 787)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:13:37 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"1Fq2XlTj7IFK5Q15qCMFYmziIy7TzZxprDv6CEJr2AR9cyPRrAnLYbGo5eiRwJOT6sRzfm1Y9GhG6TI/WE4myA==", "id"=>"19"}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" IS NULL[0m  [["user_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Redirected to http://localhost:3000/friends
Completed 302 Found in 64ms (ActiveRecord: 5.1ms | Allocations: 3949)


Started GET "/friends" for ::1 at 2020-04-21 17:13:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 9716)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 256ms (Views: 247.0ms | ActiveRecord: 4.1ms | Allocations: 20218)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:13:38 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 721)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 17:13:43 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"FXP7i09wB9iQb6NScfcLdwhBTr2VY3GmCsPFxpn/JMI00v/ibdMWIjLB7rT9TGeD6WTrDINBTRMXrEjgP5OhmQ==", "id"=>"19"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (2.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (81.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 86]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 19], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (37.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 456ms (ActiveRecord: 128.9ms | Allocations: 9973)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:31:in `deny'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:13:49 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"VqU5lAy2QUkcadzIP6a5NmucjQU5I1/R1eHDxyI9bNX/jKwb9FxmqeckNFkGRS/H7brdVYe2N9A/MwvwOBiSGQ==", "id"=>"19"}
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" IS NULL AND "friendships"."friend_id" = $1[0m  [["friend_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" IS NULL[0m  [["user_id", 19]]
  ↳ app/controllers/friendships_controller.rb:19:in `accept_one_side'
Redirected to http://localhost:3000/friends
Completed 302 Found in 21ms (ActiveRecord: 5.6ms | Allocations: 3946)


Started GET "/friends" for ::1 at 2020-04-21 17:13:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.0ms | Allocations: 9715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 46.3ms | ActiveRecord: 4.4ms | Allocations: 20205)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:13:50 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjE1OjQ1LjI5NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--351c6053098aae93eab6442c00c4609e67dbb9df", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 719)


Started GET "/friends" for ::1 at 2020-04-21 17:16:08 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 135.3ms | Allocations: 22969)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 679)
Completed 200 OK in 442ms (Views: 213.4ms | ActiveRecord: 48.6ms | Allocations: 54431)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 17:16:12 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 21ms (ActiveRecord: 0.5ms | Allocations: 2281)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:16:13 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18", "filename"=>"dad (1)"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 708)


Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:16:15 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"SfCHtryKGWVslq9+r7h+FsvINk4DSOrjBrHG34hDtjvg2RI5RGA+hZfbR++WW+jnTe5mHr3dguLsYw7okmZI9w==", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (13.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 19]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (11.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 19], ["id", 86], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (33.0ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 16:16:15.812698"], ["id", 86]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:6:in `accept'
Completed 500 Internal Server Error in 178ms (ActiveRecord: 71.1ms | Allocations: 14919)


  
NoMethodError (undefined method `updated_at=' for #<Friendship::ActiveRecord_Relation:0x00007fb9944af0d8>
Did you mean?  update_all):
  
app/models/friendship.rb:32:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:17:00 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"SfCHtryKGWVslq9+r7h+FsvINk4DSOrjBrHG34hDtjvg2RI5RGA+hZfbR++WW+jnTe5mHr3dguLsYw7okmZI9w==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (90.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 19]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 19], ["id", 86], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (11.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 16:17:01.043941"], ["id", 86]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 19], ["id", 86], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 16:17:00.902006"], ["id", 86]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:6:in `accept'
Completed 500 Internal Server Error in 260ms (ActiveRecord: 148.4ms | Allocations: 37323)


  
NoMethodError (undefined method `save!' for #<Friendship::ActiveRecord_Relation:0x00007fb9b070ece0>):
  
app/models/friendship.rb:33:in `accept_one_side'
app/models/friendship.rb:8:in `block in accept'
app/models/friendship.rb:6:in `accept'
app/controllers/friendships_controller.rb:19:in `accept'
Started PUT "/friends/accept/19" for ::1 at 2020-04-21 17:17:21 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"SfCHtryKGWVslq9+r7h+FsvINk4DSOrjBrHG34hDtjvg2RI5RGA+hZfbR++WW+jnTe5mHr3dguLsYw7okmZI9w==", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 19]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 19], ["id", 86], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.0ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 16:17:21.968839"], ["id", 86]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 19], ["id", 86], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 16:17:21.934379"], ["id", 86]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 19], ["friend_id", 17]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 169ms (ActiveRecord: 62.5ms | Allocations: 36364)


Started GET "/friends" for ::1 at 2020-04-21 17:17:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 115.9ms | Allocations: 28283)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 679)
Completed 200 OK in 149ms (Views: 117.4ms | ActiveRecord: 19.5ms | Allocations: 39638)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:17:24 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18", "filename"=>"dad (1)"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 783)


Started GET "/logout" for ::1 at 2020-04-21 17:17:48 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 86ms (ActiveRecord: 0.8ms | Allocations: 3507)


Started GET "/" for ::1 at 2020-04-21 17:17:48 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 447)


Started GET "/login" for ::1 at 2020-04-21 17:17:48 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 21.7ms | Allocations: 623)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 55.9ms | Allocations: 2717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 686)
Completed 200 OK in 127ms (Views: 125.1ms | ActiveRecord: 0.0ms | Allocations: 12667)


Started POST "/login" for ::1 at 2020-04-21 17:17:57 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"t/6S/UNd68pjvu9SNpSTKY6LMfIawnPh8lP2zyAJ/MhZgf+cYIVZunN5fPy+mlnoCWkOl91YTO4igZb0AjlJIQ==", "user"=>{"email"=>"1@g.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "1@g.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 50ms (ActiveRecord: 0.8ms | Allocations: 2011)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"t/6S/UNd68pjvu9SNpSTKY6LMfIawnPh8lP2zyAJ/MhZgf+cYIVZunN5fPy+mlnoCWkOl91YTO4igZb0AjlJIQ==", "user"=>{"email"=>"1@g.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1791)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 648)
Completed 200 OK in 630ms (Views: 19.8ms | ActiveRecord: 0.0ms | Allocations: 10141)


Started POST "/login" for ::1 at 2020-04-21 17:18:05 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"MT4HbcNo9JlnOQ+MBByAK3BJRunrfIH/xL3LhFEDCqXfQWoM4LBG6Xf+nCKMEkrq96t5jCzmvvAUb6u/czO/TA==", "user"=>{"email"=>"chubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "chubi@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 9ms (ActiveRecord: 1.2ms | Allocations: 1995)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"MT4HbcNo9JlnOQ+MBByAK3BJRunrfIH/xL3LhFEDCqXfQWoM4LBG6Xf+nCKMEkrq96t5jCzmvvAUb6u/czO/TA==", "user"=>{"email"=>"chubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 648)
Completed 200 OK in 313ms (Views: 24.0ms | ActiveRecord: 0.0ms | Allocations: 10123)


Started POST "/login" for ::1 at 2020-04-21 17:18:12 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"nUrrIHEckLdibUQSz+WfYpHnZ5iwvvie8Z/1hSjB1fNzNYZBUsQix3Kq17xH61WjFgVY/Xckx5EhTZW+CvFgGg==", "user"=>{"email"=>"franc@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "franc@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 294ms (ActiveRecord: 0.5ms | Allocations: 4370)


Started GET "/" for ::1 at 2020-04-21 17:18:12 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 14.1ms | Allocations: 941)
  [1m[36mPost Load (56.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 12]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 12]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 16]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 16]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (24.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 12], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 16]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 16]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 16]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 12]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [3 times] (Duration: 18.0ms | Allocations: 1048)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 14.6ms | Allocations: 1858)
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 136.7ms | Allocations: 11779)
  Rendered posts/index.html.erb within layouts/application (Duration: 298.6ms | Allocations: 21376)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 678)
Completed 200 OK in 348ms (Views: 253.6ms | ActiveRecord: 88.7ms | Allocations: 31923)


Started GET "/users" for ::1 at 2020-04-21 17:18:18 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (15.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 12], ["user_id", 12], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 7], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 8], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 9], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 10], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 11], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (3.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 15], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 200.9ms | Allocations: 51870)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 680)
Completed 200 OK in 231ms (Views: 197.6ms | ActiveRecord: 26.0ms | Allocations: 62968)


Started POST "/friends/create/17" for ::1 at 2020-04-21 17:18:25 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"6HqmQ0XTU5VN+Ydt2KiVOEVvkcQaRDeVEhi8Z0icQgg5kGU5cLVP95D60GO0atMcWtbYA5RRwVicww+v1D/auA==", "id"=>"17"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 12], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 42ms (ActiveRecord: 2.2ms | Allocations: 7363)


Started GET "/friends" for ::1 at 2020-04-21 17:18:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 12], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 12], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.0ms | Allocations: 679)
Completed 200 OK in 84ms (Views: 74.6ms | ActiveRecord: 2.2ms | Allocations: 13403)


Started GET "/logout" for ::1 at 2020-04-21 17:18:34 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 3.6ms | Allocations: 2430)


Started GET "/" for ::1 at 2020-04-21 17:18:34 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 340)


Started GET "/login" for ::1 at 2020-04-21 17:18:34 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 685)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms | Allocations: 10304)


Started POST "/login" for ::1 at 2020-04-21 17:18:44 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Pc9zIN1E0JDptJ3Xbrr7Jbau5tZ2bDc/KbXSXxbMGawdxc2d19EKV9g/YOmyxf5/bP06SghoveJlKt0/h0IdXg==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 253ms (ActiveRecord: 0.6ms | Allocations: 2907)


Started GET "/" for ::1 at 2020-04-21 17:18:44 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.4ms | Allocations: 674)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (21.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 40], ["record_id", 38], ["record_id", 37], ["record_id", 36], ["record_id", 35], ["record_id", 34], ["record_id", 33], ["record_id", 21], ["record_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["post_id", 40], ["post_id", 38], ["post_id", 37], ["post_id", 36], ["post_id", 35], ["post_id", 34], ["post_id", 33], ["post_id", 21], ["post_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 19]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 5.1ms | Allocations: 1541)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 446)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (1.0ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.9ms | Allocations: 446)
  [1m[36mActiveStorage::Blob Load (1.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 4.4ms | Allocations: 222)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.7ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.9ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.8ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 17], ["id", 16]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [2 times] (Duration: 2.4ms | Allocations: 530)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 446)
  Rendered collection of posts/_post.html.erb [10 times] (Duration: 319.4ms | Allocations: 69232)
  Rendered posts/index.html.erb within layouts/application (Duration: 417.4ms | Allocations: 86508)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 678)
Completed 200 OK in 445ms (Views: 390.9ms | ActiveRecord: 47.0ms | Allocations: 96356)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803/dad.png" for ::1 at 2020-04-21 17:18:45 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803", "filename"=>"dad"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: 6mqm90dgu3f2pniy4p7y65pkdkxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIzOjQ1Ljc3OFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--bdc9e2a96993ee946a8a70cfb03c8fdd97d61346/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIzOjQ1Ljc3OFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--bdc9e2a96993ee946a8a70cfb03c8fdd97d61346/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2172)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIzOjQ1Ljc3OFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--bdc9e2a96993ee946a8a70cfb03c8fdd97d61346/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png" for ::1 at 2020-04-21 17:18:47 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad.png\"; filename*=UTF-8''dad.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIzOjQ1Ljc3OFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--bdc9e2a96993ee946a8a70cfb03c8fdd97d61346", "filename"=>"dad"}
Completed 404 Not Found in 20ms (ActiveRecord: 0.0ms | Allocations: 713)


Started GET "/friends" for ::1 at 2020-04-21 17:18:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 14946)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 79ms (Views: 67.2ms | ActiveRecord: 5.3ms | Allocations: 25417)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 17:18:57 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE2OjIxOjEzLjY3NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--25bfefbab2f369e7762b45edd5b2d728aadabf18", "filename"=>"dad (1)"}
Completed 404 Not Found in 15ms (ActiveRecord: 0.0ms | Allocations: 716)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 17:19:14 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"eOmG3BuF5cmX33ATEP7z3yHYQbJ3G/5tknwxY8cBi6y3Oa+Ozy3g7b+UQmCp7LBkp3ShnfkZy4Q1A4JY1a/7Wg==", "id"=>"19"}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (11.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 86]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (1.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 19], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (11.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 109ms (ActiveRecord: 33.5ms | Allocations: 6674)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/logout" for ::1 at 2020-04-21 17:19:27 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.4ms | Allocations: 2420)


Started GET "/" for ::1 at 2020-04-21 17:19:27 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 334)


Started GET "/login" for ::1 at 2020-04-21 17:19:27 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1790)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 684)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms | Allocations: 10293)


  [1m[35m (19.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (57.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5069.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "FACEBOOK_CLONE_development"[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5010.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "FACEBOOK_CLONE_development"[0m
Started GET "/" for ::1 at 2020-04-21 20:06:33 +0100
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 51ms (ActiveRecord: 0.0ms | Allocations: 1299)


Started GET "/login" for ::1 at 2020-04-21 20:06:36 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 56.7ms | Allocations: 742)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5225.1ms | Allocations: 37135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 86.1ms | Allocations: 1103)
Completed 200 OK in 5967ms (Views: 5813.7ms | ActiveRecord: 38.6ms | Allocations: 68377)


Started POST "/login" for ::1 at 2020-04-21 20:06:47 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ph7ppISlu20ZkQGIv4K6/SHXgrJeREUobGd/PGaNMqH+tOA8KFZJD7G8FNQD22JVYhKrsY1x2NFtsdcqJN/f0g==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 1046ms (ActiveRecord: 1.9ms | Allocations: 5968)


Started GET "/" for ::1 at 2020-04-21 20:06:48 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 125.3ms | Allocations: 1381)
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (4.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 40], ["record_id", 38], ["record_id", 37], ["record_id", 36], ["record_id", 35], ["record_id", 34], ["record_id", 33], ["record_id", 21], ["record_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["post_id", 40], ["post_id", 38], ["post_id", 37], ["post_id", 36], ["post_id", 35], ["post_id", 34], ["post_id", 33], ["post_id", 21], ["post_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (16.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 19]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (51.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (16.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 17.5ms | Allocations: 1890)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.2ms | Allocations: 446)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 2.0ms | Allocations: 451)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 455)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.1ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.4ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.2ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 5.4ms | Allocations: 446)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 17], ["id", 16]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [2 times] (Duration: 1.9ms | Allocations: 530)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.3ms | Allocations: 446)
  Rendered collection of posts/_post.html.erb [10 times] (Duration: 686.1ms | Allocations: 84332)
  Rendered posts/index.html.erb within layouts/application (Duration: 1162.7ms | Allocations: 113870)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 678)
Completed 200 OK in 1188ms (Views: 1047.5ms | ActiveRecord: 135.0ms | Allocations: 124442)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803/dad.png" for ::1 at 2020-04-21 20:06:49 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1203791c5433cf0610309a1840d0e3d13d785803", "filename"=>"dad"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
[36m  Disk Storage (5.1ms) [0m[34mGenerated URL for file at key: 6mqm90dgu3f2pniy4p7y65pkdkxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png
Completed 302 Found in 50ms (ActiveRecord: 0.4ms | Allocations: 2285)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png" for ::1 at 2020-04-21 20:06:50 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad.png\"; filename*=UTF-8''dad.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718", "filename"=>"dad"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 711)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a10521206c8fc7c035eab5cc8db6d6a6a88f3fea/harry.png" for ::1 at 2020-04-21 20:06:50 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a10521206c8fc7c035eab5cc8db6d6a6a88f3fea", "filename"=>"harry"}
  [1m[36mActiveStorage::Blob Load (10.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 8484hdfj59xtudq59w5h0thp2fsz (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56/harry.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22harry.png%22%3B+filename%2A%3DUTF-8%27%27harry.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56/harry.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22harry.png%22%3B+filename%2A%3DUTF-8%27%27harry.png
Completed 302 Found in 32ms (ActiveRecord: 10.0ms | Allocations: 1895)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--2b9a25127edbd11494e239ec64ef38176ee716fc/1.png" for ::1 at 2020-04-21 20:06:50 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--2b9a25127edbd11494e239ec64ef38176ee716fc", "filename"=>"1"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 45n2zhen4zckkny3qdr4ebjq1eo6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png)[0m
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--269289eb55132935c0ce4abef776032f7465c201/IMG_20190912_133453_684.jpg" for ::1 at 2020-04-21 20:06:50 +0100
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 3083)


Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--269289eb55132935c0ce4abef776032f7465c201", "filename"=>"IMG_20190912_133453_684"}
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: py0xwgjlcnx1vl1qq0984ojk75s2 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg
Completed 302 Found in 10ms (ActiveRecord: 2.0ms | Allocations: 2047)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56/harry.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22harry.png%22%3B+filename%2A%3DUTF-8%27%27harry.png" for ::1 at 2020-04-21 20:06:52 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"harry.png\"; filename*=UTF-8''harry.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56", "filename"=>"harry"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 717)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png" for ::1 at 2020-04-21 20:06:52 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg" for ::1 at 2020-04-21 20:06:52 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"IMG_20190912_133453_684.jpg\"; filename*=UTF-8''IMG_20190912_133453_684.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0", "filename"=>"IMG_20190912_133453_684"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"1.png\"; filename*=UTF-8''1.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785", "filename"=>"1"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 717)


Completed 404 Not Found in 15ms (ActiveRecord: 0.0ms | Allocations: 1838)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:07:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (4.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 108.6ms | Allocations: 15155)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 679)
Completed 200 OK in 214ms (Views: 191.0ms | ActiveRecord: 13.6ms | Allocations: 26646)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 20:07:02 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1962)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:07:04 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 709)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:07:07 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"vrZ3sPboFb3qsBmOW0YiHm7oirK8AH0EnUbyeohbp32d2hFRlMwbteyhbwuKaPNE0JQESnQ9HykbvbyMBt/0gQ==", "id"=>"19"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 86]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 19], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 7.7ms | Allocations: 10203)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started DELETE "/friends/deny/16" for ::1 at 2020-04-21 20:07:14 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"7+DCtvBvGOjAYlAoUuL9oZC64+9rM7QDqBhTge9/0j5s/Z8w5hEjuju/oEE1Rc60yuJ8mP17i8jSngPTO6bClQ==", "id"=>"16"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 82]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 16], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 81]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 81ms (ActiveRecord: 57.4ms | Allocations: 6527)


Started GET "/friends" for ::1 at 2020-04-21 20:07:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5522)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 68ms (Views: 58.4ms | ActiveRecord: 4.5ms | Allocations: 16029)


Started GET "/friends" for ::1 at 2020-04-21 20:07:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.8ms | Allocations: 5522)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 61ms (Views: 41.6ms | ActiveRecord: 7.3ms | Allocations: 16016)


Started GET "/users" for ::1 at 2020-04-21 20:07:29 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 17], ["user_id", 17], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 7], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 8], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 9], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 10], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 11], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 15], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 127.2ms | Allocations: 49132)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 680)
Completed 200 OK in 154ms (Views: 134.9ms | ActiveRecord: 11.8ms | Allocations: 60239)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--81e2269a3a7350bf1d788596e629ee72990939b1/profile.jpg" for ::1 at 2020-04-21 20:07:30 +0100
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--81e2269a3a7350bf1d788596e629ee72990939b1", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 3dtoxhyirnvo6ovp6w5i7gzsjpfl (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1899)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:07:30 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 717)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:07:30 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 713)


Started POST "/friends/create/16" for ::1 at 2020-04-21 20:07:52 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xbW0tka+/GY3nscUKPAdzDROIThSixITXCyiARKeg2pH24W5SDM1iqeUu98F7bE5awxYCs5YHlQqaOPy4qwDkA==", "id"=>"16"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (352.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 17], ["friend_id", 16], ["created_at", "2020-04-21 19:07:52.571515"], ["updated_at", "2020-04-21 19:07:52.571515"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (1.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 16], ["friend_id", 17], ["created_at", "2020-04-21 19:07:52.936854"], ["updated_at", "2020-04-21 19:07:52.936854"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 404ms (ActiveRecord: 368.5ms | Allocations: 8202)


Started GET "/friends" for ::1 at 2020-04-21 20:07:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 5530)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 678)
Completed 200 OK in 36ms (Views: 27.6ms | ActiveRecord: 3.2ms | Allocations: 16037)


Started GET "/logout" for ::1 at 2020-04-21 20:07:58 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 157ms (ActiveRecord: 1.0ms | Allocations: 3090)


Started GET "/" for ::1 at 2020-04-21 20:07:59 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 344)


Started GET "/login" for ::1 at 2020-04-21 20:07:59 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 211)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1805)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 686)
Completed 200 OK in 25ms (Views: 19.8ms | ActiveRecord: 0.0ms | Allocations: 10318)


Started POST "/login" for ::1 at 2020-04-21 20:08:06 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ST2Qq0n+dZy6g60dl91/5+/FZ3WJApRY5aL/pMKneFJXrh9eBtNFpg1HJxpig0I2IBcYxB4BN4h5rR4vWwTOUQ==", "user"=>{"email"=>"olga@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "olga@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 282ms (ActiveRecord: 0.7ms | Allocations: 2918)


Started GET "/" for ::1 at 2020-04-21 20:08:06 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 678)
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 16]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 678)
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 3.6ms | Allocations: 12689)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:08:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 53.5ms | Allocations: 17099)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 79ms (Views: 61.7ms | ActiveRecord: 10.4ms | Allocations: 27694)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:08:14 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 711)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:08:14 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 7ms (ActiveRecord: 0.0ms | Allocations: 711)


Started PUT "/friends/accept/18" for ::1 at 2020-04-21 20:08:23 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"V1k0UOdVfZuMVJFIzAqtuC4u3rPB5OuwayRQOcUDjVc8PkETTnc2wujT3DJr1wD5feEanDfaPFu51y3sn7s7uw==", "id"=>"18"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (1.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 16], ["friend_id", 18]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 18], ["id", 83], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:08:23.617409"], ["id", 83]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 18], ["id", 83], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:08:23.591752"], ["id", 83]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 18], ["friend_id", 16]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[35m (223.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 282ms (ActiveRecord: 233.7ms | Allocations: 12534)


Started GET "/friends" for ::1 at 2020-04-21 20:08:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 37.8ms | Allocations: 10709)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 70ms (Views: 50.9ms | ActiveRecord: 10.2ms | Allocations: 21206)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:08:24 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 714)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:08:24 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 7ms (ActiveRecord: 0.0ms | Allocations: 714)


Started PUT "/friends/accept/17" for ::1 at 2020-04-21 20:08:28 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"rSwMrT8hrXjd1lY9cvCYClLZDta6AkZSuuEkbLDj+wLfSGiCLQze1wYiqvObEf3nDs9VaQo8ZcnbvbbFL6fhAw==", "id"=>"17"}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 16], ["friend_id", 17]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 17], ["id", 88], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:08:28.106134"], ["id", 88]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 17], ["id", 88], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:08:28.079598"], ["id", 88]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 16]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 16], ["id", 87], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:08:28.140267"], ["id", 87]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 16], ["id", 87], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:08:28.079598"], ["id", 87]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 116ms (ActiveRecord: 37.4ms | Allocations: 19363)


Started GET "/friends" for ::1 at 2020-04-21 20:08:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (1.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 177.6ms | Allocations: 16053)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 209ms (Views: 195.9ms | ActiveRecord: 6.9ms | Allocations: 26555)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:08:28 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:08:28 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 715)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 715)


Started DELETE "/friends/deny/17" for ::1 at 2020-04-21 20:10:34 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"F/VxJH8YmfHVkcFO9I4lK7bztHm5ClYyOWYA40T7ZXzypC1kh8xwyfxkooC6rgjRhhB2sE5QGFxOICXw0LueNQ==", "id"=>"17"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 16], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (41.0ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 88]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 87]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 93ms (ActiveRecord: 62.4ms | Allocations: 6533)


Started GET "/friends" for ::1 at 2020-04-21 20:10:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 46.0ms | Allocations: 9089)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 80ms (Views: 66.7ms | ActiveRecord: 7.4ms | Allocations: 19582)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:10:35 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 709)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:10:35 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 709)


Started DELETE "/friends/deny/18" for ::1 at 2020-04-21 20:10:37 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"sZXdeuSPNq2s0oGzYfSS0IPPYh/4833Q64P0ylzM+TScsZy55/nVIjZuwIM4XMyp/JwX6KbtTAaNbCQsRt8ejg==", "id"=>"18"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 16], ["friend_id", 18], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 83]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 18], ["friend_id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.7ms | Allocations: 6617)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:10:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (4.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 99.1ms | Allocations: 9090)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 211ms (Views: 186.0ms | ActiveRecord: 12.5ms | Allocations: 19573)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:10:45 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:10:45 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 716)


Completed 404 Not Found in 8ms (ActiveRecord: 0.0ms | Allocations: 2390)


Started GET "/users" for ::1 at 2020-04-21 20:10:51 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 16], ["user_id", 16], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 7], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 8], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 9], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 10], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 11], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 12], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 15], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 99.2ms | Allocations: 39298)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 122ms (Views: 103.5ms | ActiveRecord: 13.3ms | Allocations: 49671)


Started POST "/friends/create/17" for ::1 at 2020-04-21 20:11:06 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"6dbxtltI3ZUwF41co17/8GP7DUlDeXoI6zhLAo04KCe0PanxcaFWqqEd6DEfVDe8wSpb2N5SBs6yDPzg3huzDg==", "id"=>"17"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (1.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 16], ["friend_id", 17], ["created_at", "2020-04-21 19:11:06.057001"], ["updated_at", "2020-04-21 19:11:06.057001"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 17], ["friend_id", 16], ["created_at", "2020-04-21 19:11:06.065457"], ["updated_at", "2020-04-21 19:11:06.065457"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 56ms (ActiveRecord: 29.0ms | Allocations: 7933)


Started GET "/friends" for ::1 at 2020-04-21 20:11:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:7
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 18], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:42
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 16], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 9088)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 37.5ms | ActiveRecord: 6.0ms | Allocations: 19581)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:11:06 +0100
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6/profile.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22profile.jpg%22%3B+filename%2A%3DUTF-8%27%27profile.jpg" for ::1 at 2020-04-21 20:11:06 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Processing by ActiveStorage::DiskController#show as JPEG
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 710)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"profile.jpg\"; filename*=UTF-8''profile.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhNMlIwYjNob2VXbHliblp2Tm05MmNEWjNOV2szWjNwemFuQm1iQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjMwLjI2MFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b150fd3b5394a81cdc8b0d58d6852932b6d5bfe6", "filename"=>"profile"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 710)


Started GET "/logout" for ::1 at 2020-04-21 20:11:10 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.3ms | Allocations: 2414)


Started GET "/" for ::1 at 2020-04-21 20:11:10 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms | Allocations: 340)


Started GET "/login" for ::1 at 2020-04-21 20:11:10 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 30ms (Views: 28.1ms | ActiveRecord: 0.0ms | Allocations: 10292)


Started POST "/login" for ::1 at 2020-04-21 20:11:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"zrQYZmwn0juEWathNA6mdxGg6qbKdXZFakD4E4B/1zBzmEVx3xdidv76L9xYtkxcpQmfknCAlX4reYz2suazEA==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 288ms (ActiveRecord: 0.9ms | Allocations: 2913)


Started GET "/" for ::1 at 2020-04-21 20:11:17 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 40], ["record_id", 38], ["record_id", 37], ["record_id", 36], ["record_id", 35], ["record_id", 34], ["record_id", 33], ["record_id", 21], ["record_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["post_id", 40], ["post_id", 38], ["post_id", 37], ["post_id", 36], ["post_id", 35], ["post_id", 34], ["post_id", 33], ["post_id", 21], ["post_id", 20]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 19]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 40]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 4.6ms | Allocations: 1541)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 38]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 37]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 36]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 17]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 0.7ms | Allocations: 222)
  Rendered comments/_form.html.erb (Duration: 2.8ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 35]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 34]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.4ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 33]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 2.2ms | Allocations: 446)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 21]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.3ms | Allocations: 446)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 20]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN ($1, $2)[0m  [["id", 17], ["id", 16]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [2 times] (Duration: 1.6ms | Allocations: 530)
  Rendered comments/_form.html.erb (Duration: 1.2ms | Allocations: 446)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 39]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered comments/_form.html.erb (Duration: 1.5ms | Allocations: 446)
  Rendered collection of posts/_post.html.erb [10 times] (Duration: 223.4ms | Allocations: 69237)
  Rendered posts/index.html.erb within layouts/application (Duration: 279.2ms | Allocations: 82474)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 673)
Completed 200 OK in 306ms (Views: 279.3ms | ActiveRecord: 21.6ms | Allocations: 92415)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718/dad.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad.png%22%3B+filename%2A%3DUTF-8%27%27dad.png" for ::1 at 2020-04-21 20:11:18 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad.png\"; filename*=UTF-8''dad.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhObTF4YlRrd1pHZDFNMll5Y0c1cGVUUndOM2syTlhCclpHdDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDNXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJSaFpDNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjExOjUwLjA2NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6177d06bbe4920c1a132d73a36bbc0462122e718", "filename"=>"dad"}
Completed 404 Not Found in 7ms (ActiveRecord: 0.0ms | Allocations: 712)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785/1.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%221.png%22%3B+filename%2A%3DUTF-8%27%271.png" for ::1 at 2020-04-21 20:11:18 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"1.png\"; filename*=UTF-8''1.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhORFZ1TW5wb1pXNDBlbU5yYTI1NU0zRmtjalJsWW1weE1XVnZOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTldsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWpFdWNHNW5JanNnWm1sc1pXNWhiV1VxUFZWVVJpMDRKeWN4TG5CdVp3WTdCbFE2RVdOdmJuUmxiblJmZEhsd1pVa2lEbWx0WVdkbEwzQnVad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzY3WiIsInB1ciI6ImJsb2Jfa2V5In19--2fc25f09b5614af385504d84f5db9875dbe5b785", "filename"=>"1"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0/IMG_20190912_133453_684.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22IMG_20190912_133453_684.jpg%22%3B+filename%2A%3DUTF-8%27%27IMG_20190912_133453_684.jpg" for ::1 at 2020-04-21 20:11:18 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"IMG_20190912_133453_684.jpg\"; filename*=UTF-8''IMG_20190912_133453_684.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhjSGt3ZUhkbmFteGpibmd4ZG13eGNYRXdPVGcwYjJwck56VnpNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtsTlIxOHlNREU1TURreE1sOHhNek0wTlROZk5qZzBMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjblNVMUhYekl3TVRrd09URXlYekV6TXpRMU0xODJPRFF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRPSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--b028c0eeec5ed6881265efd39e673e5d73d61ac0", "filename"=>"IMG_20190912_133453_684"}
Completed 404 Not Found in 9ms (ActiveRecord: 0.0ms | Allocations: 2998)


Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1093)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56/harry.png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22harry.png%22%3B+filename%2A%3DUTF-8%27%27harry.png" for ::1 at 2020-04-21 20:11:19 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"harry.png\"; filename*=UTF-8''harry.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRFE0Tkdoa1ptbzFPWGgwZFdSeE5UbDNOV2d3ZEdod01tWnplZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1oaGNuSjVMbkJ1WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmFHRnljbmt1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkE9PSIsImV4cCI6IjIwMjAtMDQtMjFUMTk6MTE6NTAuMjkwWiIsInB1ciI6ImJsb2Jfa2V5In19--310033cdb8efb4b755dbc0c2d929c4c81fa08c56", "filename"=>"harry"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 718)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:11:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:71
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 8928)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 46.9ms | ActiveRecord: 4.1ms | Allocations: 19405)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:11:25 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 719)


Started PUT "/friends/accept/16" for ::1 at 2020-04-21 20:11:29 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"1N0rjvSkPgWVMcfEKV5pLSZ1Dlwl5MLrrNMyWhp1QUTRkjODJPrMq8AgHwn/pDOkEy+lHAMTWvrfRAPlVIocnQ==", "id"=>"16"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 16]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 16], ["id", 90], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:11:29.045864"], ["id", 90]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 16], ["id", 90], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:11:29.023320"], ["id", 90]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 16], ["friend_id", 17]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 17], ["id", 89], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:11:29.074294"], ["id", 89]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 17], ["id", 89], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (1.0ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:11:29.023320"], ["id", 89]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 98ms (ActiveRecord: 32.6ms | Allocations: 19363)


Started GET "/friends" for ::1 at 2020-04-21 20:11:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 93.8ms | Allocations: 14272)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 674)
Completed 200 OK in 120ms (Views: 103.8ms | ActiveRecord: 9.8ms | Allocations: 24776)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:11:29 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjEyOjAyLjg2NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--6b4e41a8d6b99ad2a8363d9d211396c26d12ee9c", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 711)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:11:50 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"QkNxzoJ3zc+SqrvzKHBekocgeJhXXFi5rEJwq/FuWI63I7g8yLcqIKSbHa0Kl2Z+ZldQ3k2GMVrB4OzxWQveAg==", "id"=>"19"}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (4.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 17], ["friend_id", 19], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (17.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 86]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (1.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 19], ["friend_id", 17], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 72ms (ActiveRecord: 33.7ms | Allocations: 6615)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:12:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 129.6ms | Allocations: 27631)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 679)
Completed 200 OK in 344ms (Views: 133.9ms | ActiveRecord: 43.4ms | Allocations: 59223)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-21 20:12:49 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (1.7ms) [0m[34mGenerated URL for file at key: k7b4xqyn7ghzl3mn72a1g7wrpvn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 24ms (ActiveRecord: 0.5ms | Allocations: 2279)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:12:51 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d", "filename"=>"dad (1)"}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 714)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:12:53 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"HNKeA+ssiAgegvVptPda+7avRw7MKUqz0rFxW+UMTAnpslfxoexv5yizUzeWEGIXV9hvSNbzI1C/E+0BTWnKhQ==", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.2ms | Allocations: 3196)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:13:22 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"HNKeA+ssiAgegvVptPda+7avRw7MKUqz0rFxW+UMTAnpslfxoexv5yizUzeWEGIXV9hvSNbzI1C/E+0BTWnKhQ==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 19.7ms | Allocations: 23987)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:14:16 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 132.4ms | Allocations: 27615)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 679)
Completed 200 OK in 285ms (Views: 151.2ms | ActiveRecord: 37.8ms | Allocations: 59077)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:14:17 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d", "filename"=>"dad (1)"}
Completed 404 Not Found in 13ms (ActiveRecord: 0.0ms | Allocations: 786)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:14:21 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"C1HPXxg9R7JgqBlFwYUlfm1MIKv3zva7a4n+lk7R98X+MQatUv2gXVaZvxvjYh2SjDsI7e0Un1gGK2LM5rRxSQ==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (1.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 19]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 7.0ms | Allocations: 8143)


  
ArgumentError (You are passing an instance of ActiveRecord::Base to `find`. Please pass the id of the object by calling `.id`.):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:14:43 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"C1HPXxg9R7JgqBlFwYUlfm1MIKv3zva7a4n+lk7R98X+MQatUv2gXVaZvxvjYh2SjDsI7e0Un1gGK2LM5rRxSQ==", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 19]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 145ms (ActiveRecord: 21.8ms | Allocations: 28032)


  
ArgumentError (You are passing an instance of ActiveRecord::Base to `find`. Please pass the id of the object by calling `.id`.):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:15:13 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"C1HPXxg9R7JgqBlFwYUlfm1MIKv3zva7a4n+lk7R98X+MQatUv2gXVaZvxvjYh2SjDsI7e0Un1gGK2LM5rRxSQ==", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 17]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" IN ($1, $2, $3, $4)[0m  [["id", 84], ["id", 85], ["id", 86], ["id", 90]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 132ms (ActiveRecord: 25.8ms | Allocations: 29694)


  
KeyError (key not found: nil):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started DELETE "/friends/deny/16" for ::1 at 2020-04-21 20:16:09 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"Ie+YkCv/2L2g+G57PdSMPmChFZOhOIhi45bhe+eSCEeqIcObhZ6uhbE7zMcpfmyPyYYoa/4XqcsykkOUVJ54Cw==", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 17], ["friend_id", 16]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 138ms (ActiveRecord: 22.7ms | Allocations: 27954)


  
ArgumentError (You are passing an instance of ActiveRecord::Base to `find`. Please pass the id of the object by calling `.id`.):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:16:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 99.2ms | Allocations: 27615)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.7ms | Allocations: 679)
Completed 200 OK in 241ms (Views: 108.7ms | ActiveRecord: 30.8ms | Allocations: 59121)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:16:30 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d", "filename"=>"dad (1)"}
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms | Allocations: 782)


Started DELETE "/friends/deny/16" for ::1 at 2020-04-21 20:16:33 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"8t5BOteXLlwcJITP9YWfkTqr6AiTuUA0bfIYine9dyJ5EBoxefZYZA3nJnPhL38gk4zV8MyWYZ289rplxLEHbg==", "id"=>"16"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.9ms | Allocations: 3201)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:17:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 19], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 17], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 43.4ms | Allocations: 14270)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 68ms (Views: 53.6ms | ActiveRecord: 8.1ms | Allocations: 24757)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-21 20:17:36 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhhemRpTkhoeGVXNDNaMmg2YkROdGJqY3lZVEZuTjNkeWNIWnVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTIxVDE5OjE3OjUwLjE5MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--b5765c20bc1fd081b7e25fdceb9c07d5b7a65b8d", "filename"=>"dad (1)"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 715)


Started DELETE "/friends/deny/19" for ::1 at 2020-04-21 20:17:39 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"ZHINOo09uiIZgPZwVsTaRlrLlgpZOm4mu+Xy//dS77KREsTIx/1dzS+xUC50I+Kqu7y+TEPgB8XWR26lXzdpPg==", "id"=>"19"}
  [1m[36mUser Load (14.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 15.8ms | Allocations: 3062)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/logout" for ::1 at 2020-04-21 20:17:46 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 2927)


Started GET "/" for ::1 at 2020-04-21 20:17:46 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 438)


Started GET "/login" for ::1 at 2020-04-21 20:17:46 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 1808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 686)
Completed 200 OK in 78ms (Views: 73.8ms | ActiveRecord: 0.0ms | Allocations: 10485)


Started POST "/login" for ::1 at 2020-04-21 20:17:55 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"S+ERfTJp0doLHVPl/h9ytnMeBTf0BgZpwbzKcEGxWlvk5KCn+PDdWJJYGkW2EKW4PVPEGM+VmrZ3YdBSsV1iXQ==", "user"=>{"email"=>"tehide@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tehide@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 262ms (ActiveRecord: 0.5ms | Allocations: 2929)


Started GET "/" for ::1 at 2020-04-21 20:17:55 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.4ms | Allocations: 728)
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 13]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 13]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (8.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4)[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 17], ["record_id", 15]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" IN ($1, $2)[0m  [["post_id", 17], ["post_id", 15]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 13], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 17]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 17]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 17]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 5.7ms | Allocations: 1595)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 15]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 15]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 15]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 13]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [2 times] (Duration: 1.6ms | Allocations: 530)
  Rendered comments/_form.html.erb (Duration: 2.7ms | Allocations: 446)
  Rendered collection of posts/_post.html.erb [2 times] (Duration: 56.4ms | Allocations: 14118)
  Rendered posts/index.html.erb within layouts/application (Duration: 143.5ms | Allocations: 23420)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 678)
Completed 200 OK in 169ms (Views: 147.3ms | ActiveRecord: 17.0ms | Allocations: 33459)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:17:58 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 13], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (10.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 13], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 13], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 13], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 13], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 81.0ms | Allocations: 6400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 120ms (Views: 87.0ms | ActiveRecord: 15.4ms | Allocations: 16874)


  [1m[35m (44.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "FACEBOOK_development"[0m
  [1m[35m (1048.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "FACEBOOK_CLONE_test"[0m
  [1m[35m (1536.8ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_development" ENCODING = 'unicode'[0m
  [1m[35m (1001.5ms)[0m  [1m[35mCREATE DATABASE "FACEBOOK_CLONE_test" ENCODING = 'unicode'[0m
Started GET "/friends" for ::1 at 2020-04-21 20:19:59 +0100
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.2.1) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.2.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (265.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (133.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2290713323800550565)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20200117130754)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (193.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (61.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (40.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200117130754"]]
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOmniauthToUsers (20200117131421)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200117131421"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePosts (20200117183459)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.4ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "content" text, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (47.0ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_user_id" ON "posts"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200117183459"]]
  [1m[35m (24.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFieldsToUsers (20200204004346)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "date_of_birth" date[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200204004346"]]
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20200210110647)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (96.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210110647"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToComments (20200210111201)
  [1m[35m (6.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  [1m[35m (44.2ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210111201"]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPostToComments (20200210114643)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "comments" ADD "post_id" bigint NOT NULL[0m
  [1m[35m (61.8ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_post_id" ON "comments"  ("post_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210114643"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20200210115157)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (75.0ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210115157"]]
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPostToLikes (20200210115221)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "likes" ADD "post_id" bigint NOT NULL[0m
  [1m[35m (56.9ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_post_id" ON "likes"  ("post_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "likes" ADD CONSTRAINT "fk_rails_87a8aac469"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210115221"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToLikes (20200210115244)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "likes" ADD "user_id" bigint[0m
  [1m[35m (50.0ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_user_id" ON "likes"  ("user_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "likes" ADD CONSTRAINT "fk_rails_1e09b5dabf"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200210115244"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFriendships (20200225075423)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (49.5ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" bigserial primary key, "user_id" integer, "friend_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (40.5ms)[0m  [1m[35mCREATE  INDEX  "index_friendships_on_user_id" ON "friendships"  ("user_id")[0m
  [1m[35m (65.7ms)[0m  [1m[35mCREATE  INDEX  "index_friendships_on_friend_id" ON "friendships"  ("friend_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200225075423"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToFriendship (20200302094851)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.4ms)[0m  [1m[35mALTER TABLE "friendships" ADD "status" character varying[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200302094851"]]
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20200320155001)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (100.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (74.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (96.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (39.8ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (76.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200320155001"]]
  [1m[35m (26.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-04-21 19:20:22.878704"], ["updated_at", "2020-04-21 19:20:22.878704"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(2290713323800550565)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/friends" for ::1 at 2020-04-21 20:20:35 +0100
  [1m[35m (5.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
Completed 401 Unauthorized in 82ms (ActiveRecord: 10.9ms | Allocations: 4141)


Started GET "/login" for ::1 at 2020-04-21 20:20:38 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 25.2ms | Allocations: 742)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2875.9ms | Allocations: 37126)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 33.8ms | Allocations: 1108)
Completed 200 OK in 3247ms (Views: 3153.4ms | ActiveRecord: 13.1ms | Allocations: 67453)


Started POST "/login" for ::1 at 2020-04-21 20:20:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"6Nod1DB60dQO+BX1S+UIP4R6Dmx6IwJwY38zIhAOsx7cRPj7pPEIDTudhbJyuipFawrK55PojYHGYhp5g9vY4Q==", "user"=>{"email"=>"tehide@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tehide@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 59ms (ActiveRecord: 1.0ms | Allocations: 2126)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"6Nod1DB60dQO+BX1S+UIP4R6Dmx6IwJwY38zIhAOsx7cRPj7pPEIDTudhbJyuipFawrK55PojYHGYhp5g9vY4Q==", "user"=>{"email"=>"tehide@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1797)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 648)
Completed 200 OK in 710ms (Views: 18.9ms | ActiveRecord: 0.0ms | Allocations: 10705)


Started GET "/signup" for ::1 at 2020-04-21 20:21:53 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 10.7ms | Allocations: 214)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 153)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 114.5ms | Allocations: 4240)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 710)
Completed 200 OK in 152ms (Views: 148.2ms | ActiveRecord: 0.0ms | Allocations: 13950)


Started POST "/" for ::1 at 2020-04-21 20:22:16 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"8YtBOENL0CHzNBX3yZ+Dfm9lpSXR25CqZpgiqudj/nhkGTItStzVZ84Bj5V1d1y+AFHIMKIPNnevuJXuyLfrNg==", "user"=>{"first_name"=>"Chubi", "last_name"=>"Adama", "gender"=>"female", "date_of_birth"=>"2020-04-23", "email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "gender", "first_name", "last_name", "date_of_birth") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "adamachubi@gmail.com"], ["encrypted_password", "$2a$11$NKk3IOS22iPSZFB0a45ROuobCr0xba0GRcWux/r0pH.uWUkWaYdYO"], ["created_at", "2020-04-21 19:22:16.617454"], ["updated_at", "2020-04-21 19:22:16.617454"], ["gender", "female"], ["first_name", "Chubi"], ["last_name", "Adama"], ["date_of_birth", "2020-04-23"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/friends
Completed 302 Found in 444ms (ActiveRecord: 25.0ms | Allocations: 9929)


Started GET "/friends" for ::1 at 2020-04-21 20:22:16 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (12.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 73.8ms | Allocations: 5711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 680)
Completed 200 OK in 191ms (Views: 88.5ms | ActiveRecord: 22.8ms | Allocations: 19991)


Started GET "/friends" for ::1 at 2020-04-21 20:22:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 49.8ms | ActiveRecord: 5.0ms | Allocations: 13393)


Started GET "/users" for ::1 at 2020-04-21 20:22:29 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 1034)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 693)
Completed 200 OK in 62ms (Views: 50.9ms | ActiveRecord: 1.5ms | Allocations: 12154)


Started GET "/logout" for ::1 at 2020-04-21 20:22:32 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms (ActiveRecord: 0.6ms | Allocations: 2980)


Started GET "/" for ::1 at 2020-04-21 20:22:32 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 429)


Started GET "/login" for ::1 at 2020-04-21 20:22:32 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 685)
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.0ms | Allocations: 10311)


Started POST "/login" for ::1 at 2020-04-21 20:22:37 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"nO2PEzt+TNxmligVlfRnN2gFwK0xv4vgN+aiB9nm2C5x9nlYlrsKXLQK/IOw10RZ9xyOypd0r5EUwUDE5wVEuA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 420ms (ActiveRecord: 4.7ms | Allocations: 3660)


Started GET "/" for ::1 at 2020-04-21 20:22:38 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 36.1ms | Allocations: 1314)
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 75.1ms | Allocations: 3662)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 104ms (Views: 92.8ms | ActiveRecord: 4.0ms | Allocations: 14310)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/logout" for ::1 at 2020-04-21 20:22:46 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 0.6ms | Allocations: 2488)


Started GET "/" for ::1 at 2020-04-21 20:22:46 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/login" for ::1 at 2020-04-21 20:22:46 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 211)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 686)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.0ms | Allocations: 10328)


Started GET "/signup" for ::1 at 2020-04-21 20:22:58 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 152)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 20.4ms | Allocations: 710)
Completed 200 OK in 55ms (Views: 43.5ms | ActiveRecord: 0.0ms | Allocations: 10919)


Started POST "/" for ::1 at 2020-04-21 20:23:26 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"xo/1mSTCyUjdK7KPf2b6x0+i/SyJuBNQSq6G/zOEjB633+LDAjYOTPivzj8f+iaB1EnpQsbH1pYvmCiB1oHFEQ==", "user"=>{"first_name"=>"daniel", "last_name"=>"Adama", "gender"=>"male", "date_of_birth"=>"2020-04-16", "email"=>"dan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (11.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "gender", "first_name", "last_name", "date_of_birth") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "dan@gmail.com"], ["encrypted_password", "$2a$11$88LmESppkSN2p3VEk8MNU.bMrH8F8OxfJh1w1DZZwEog7jSXdpNZS"], ["created_at", "2020-04-21 19:23:26.582766"], ["updated_at", "2020-04-21 19:23:26.582766"], ["gender", "male"], ["first_name", "daniel"], ["last_name", "Adama"], ["date_of_birth", "2020-04-16"]]
  [1m[35m (90.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 463ms (ActiveRecord: 102.7ms | Allocations: 7368)


Started GET "/" for ::1 at 2020-04-21 20:23:26 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 2729)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 673)
Completed 200 OK in 84ms (Views: 64.0ms | ActiveRecord: 5.0ms | Allocations: 12675)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:23:33 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (7.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 2919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 678)
Completed 200 OK in 81ms (Views: 53.9ms | ActiveRecord: 14.3ms | Allocations: 13516)


Started GET "/users" for ::1 at 2020-04-21 20:23:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 43.2ms | Allocations: 2209)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.2ms | Allocations: 681)
Completed 200 OK in 180ms (Views: 167.1ms | ActiveRecord: 4.3ms | Allocations: 12591)


Started POST "/friends/create/1" for ::1 at 2020-04-21 20:23:50 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"vuCjS/TPH0Jl/rr3clifuavP7YAvl0mk7fQ+xgTkP5VXx9YGPt32o/2ui058jHoi86JPyVq3zHsrgHM7RAer6A==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (2.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 19:23:51.346070"], ["updated_at", "2020-04-21 19:23:51.346070"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (2.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 19:23:51.373859"], ["updated_at", "2020-04-21 19:23:51.373859"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 808ms (ActiveRecord: 21.1ms | Allocations: 13477)


Started GET "/friends" for ::1 at 2020-04-21 20:23:51 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 2905)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 58ms (Views: 42.8ms | ActiveRecord: 4.9ms | Allocations: 13401)


Started GET "/friends" for ::1 at 2020-04-21 20:24:05 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 31.9ms | ActiveRecord: 5.0ms | Allocations: 13376)


Started GET "/users" for ::1 at 2020-04-21 20:24:10 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2199)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.0ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 31.8ms | ActiveRecord: 5.8ms | Allocations: 12572)


Started GET "/logout" for ::1 at 2020-04-21 20:24:11 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 0.4ms | Allocations: 2412)


Started GET "/" for ::1 at 2020-04-21 20:24:12 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/login" for ::1 at 2020-04-21 20:24:12 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.4ms | Allocations: 684)
Completed 200 OK in 41ms (Views: 37.0ms | ActiveRecord: 0.0ms | Allocations: 10303)


Started POST "/login" for ::1 at 2020-04-21 20:24:14 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"EFlaLWRu/MOstaUFn64ZOClemKlIqiucyEe4QriHRJ0Ss0AN+vIy6P2FYQ2HWrqCK2K7cFm9o1cUj1JcmDBOfA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 323ms (ActiveRecord: 0.8ms | Allocations: 2910)


Started GET "/" for ::1 at 2020-04-21 20:24:15 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 663)
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.9ms | Allocations: 673)
Completed 200 OK in 49ms (Views: 38.9ms | ActiveRecord: 4.9ms | Allocations: 12676)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:24:17 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 57.6ms | Allocations: 6418)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.2ms | Allocations: 674)
Completed 200 OK in 109ms (Views: 83.4ms | ActiveRecord: 12.9ms | Allocations: 17011)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 20:24:20 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"q66TalOfEBlL4DN6kwh+Xp/WAh6jHrCKz0h7+HKvG1JrXqGWf5hmiJd8f1Ogd7N9Acqu8UdGvDoCtShCHFK6zA==", "id"=>"2"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (1.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:24:20.767438"], ["id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:24:20.743625"], ["id", 2]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 19:24:20.797695"], ["id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (1.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 19:24:20.743625"], ["id", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 93ms (ActiveRecord: 27.3ms | Allocations: 19716)


Started GET "/friends" for ::1 at 2020-04-21 20:24:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 22.1ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.2ms | Allocations: 674)
Completed 200 OK in 73ms (Views: 56.6ms | ActiveRecord: 5.6ms | Allocations: 16020)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:24:24 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"LUKW8Ck/mochAO0GxRsVi4wK9PkzQrPV/QoZv+xzJHJsmQk7SuKLgFhqE0BLIcQQq0o7Iow5DGFnowdFtitftw==", "id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.3ms | Allocations: 3089)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/users" for ::1 at 2020-04-21 20:24:39 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 685)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 683)
Completed 200 OK in 39ms (Views: 26.5ms | ActiveRecord: 4.5ms | Allocations: 11065)


Started GET "/friends" for ::1 at 2020-04-21 20:25:57 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 41.1ms | Allocations: 7276)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 679)
Completed 200 OK in 206ms (Views: 57.7ms | ActiveRecord: 40.8ms | Allocations: 38996)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:26:01 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"5Ufalwd6rmIIALGDopMXqMNtYtZRs6+rzd+/heB8fdqknEVcZKe/ZXFqT8UsqcYz5C2tDe7IEB9XdqF/uiQGHw==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms | Allocations: 3193)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:23:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:26:54 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 679)
Completed 200 OK in 200ms (Views: 60.1ms | ActiveRecord: 30.8ms | Allocations: 38728)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:26:58 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"Aw+wHmttw/ua1hwEfbUv700C9znzFYSwxnEFAe9hz1pC1C/VCLDS/OO84kLzj/50akI44kxuOwRc2Bv7tTm0nw==", "id"=>"2"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 8.7ms | Allocations: 3233)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:23:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:32:54 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 64.1ms | Allocations: 7086)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.0ms | Allocations: 679)
Completed 200 OK in 199ms (Views: 72.3ms | ActiveRecord: 19.8ms | Allocations: 37689)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:32:58 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"9PxtLW7v1H2SpF093eE+6kOVzjYA/EliXmHV/j7Ylu+1J/LmDTLFeuvOo3tT2+9xZNUB7b+H9tbEyMsEZIDtKg==", "id"=>"2"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.9ms | Allocations: 3195)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:23:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:35:18 +0100
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 108.6ms | Allocations: 8507)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 31.2ms | Allocations: 1078)
Completed 200 OK in 3513ms (Views: 3196.2ms | ActiveRecord: 31.1ms | Allocations: 78506)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:35:25 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"pZU+ZBWkjgsZeKDvL/uy/xvMwxC9cfTkruHFRNdMgrvkTqGvdnmfDGASXqmhwWNkPIwMywIKS1A0SNu+jRT5fg==", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.3ms | Allocations: 3231)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:23:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:37:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 48.1ms | Allocations: 7276)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.9ms | Allocations: 681)
Completed 200 OK in 274ms (Views: 69.8ms | ActiveRecord: 38.9ms | Allocations: 38952)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:37:56 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"44PSFh1yQFIeOT4tniIMRZtWtYVPYeqdUCImyiJ1Y+uiWE3dfq9RVWdTwGsQGN3evBZ6XvAaVSnKizgweC0YLg==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.0ms | Allocations: 3264)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:41:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 37.7ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.8ms | Allocations: 679)
Completed 200 OK in 195ms (Views: 60.1ms | ActiveRecord: 35.7ms | Allocations: 38745)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:41:50 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"b7hyamuQHXYnJkP5e7CT/y1MZA79fifVlPo/owquDIouY+2hCE0McV5Mvb/1ikJkCgyr1UIFmGEOUyFZUPZ3Tw==", "id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 630ms (ActiveRecord: 2.9ms | Allocations: 139464)


  
NameError (undefined local variable or method `user' for #<FriendshipsController:0x000055832e596788>
Did you mean?  super):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:42:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 7269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 679)
Completed 200 OK in 142ms (Views: 46.1ms | ActiveRecord: 26.2ms | Allocations: 38619)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:42:27 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"UHNle/2LjIdwd9jiovUak6A88LOH2aDDDOsTpWQmCFERqPqwnladgAkdJqQsz8sIh3w/aDiiH3eWQg1fPn5zlA==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 560ms (ActiveRecord: 0.9ms | Allocations: 139419)


  
NameError (undefined local variable or method `user' for #<FriendshipsController:0x00007fdd68f35f50>
Did you mean?  super):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:43:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (2.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 43.9ms | Allocations: 7269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 231ms (Views: 58.3ms | ActiveRecord: 48.3ms | Allocations: 38610)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:43:04 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"23u7NQr1KQSXiQY9UkMgEE/qOpFdtIZZsEB5ZFKgPGuaoCT+aSg4A+7j+HvcefGLaKr1SuLPOe0q6WeeCPhHrg==", "id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.3ms | Allocations: 3127)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:43:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 43.2ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 679)
Completed 200 OK in 255ms (Views: 60.1ms | ActiveRecord: 41.6ms | Allocations: 38586)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:43:40 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"nXqB6jBiReGpXpD8Y4wYvTOKVw3qiqjityQSoiWRpf7coR4hU79U5tA0brrttskmFMqY1lXxF1YtjQxYf8neOw==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.2ms | Allocations: 3436)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:46:42 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.7ms | Allocations: 679)
Completed 200 OK in 180ms (Views: 71.8ms | ActiveRecord: 29.8ms | Allocations: 38596)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:46:46 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"hrQwSb6Ft3cf37kwt40plW8G8f9OqdVRuo7H5uE9d/nHb6+C3VimcGa1R3Y5t/gOSEY+JPHSauUgJ9kcu2UMPA==", "id"=>"2"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.4ms | Allocations: 3429)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:47:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.7ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 679)
Completed 200 OK in 139ms (Views: 44.3ms | ActiveRecord: 27.6ms | Allocations: 38591)


Started GET "/friends" for ::1 at 2020-04-21 20:47:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 5522)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 36.8ms | ActiveRecord: 3.5ms | Allocations: 16022)


Started GET "/logout" for ::1 at 2020-04-21 20:47:30 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2316ms (ActiveRecord: 1.6ms | Allocations: 184828)


Started GET "/" for ::1 at 2020-04-21 20:47:34 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms | Allocations: 451)


Started GET "/login" for ::1 at 2020-04-21 20:47:34 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 24.5ms | Allocations: 737)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 191.6ms | Allocations: 3711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 720)
Completed 200 OK in 216ms (Views: 214.3ms | ActiveRecord: 0.0ms | Allocations: 13705)


Started GET "/signup" for ::1 at 2020-04-21 20:47:41 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 15.7ms | Allocations: 214)
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 153)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 110.7ms | Allocations: 3883)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 710)
Completed 200 OK in 141ms (Views: 138.4ms | ActiveRecord: 0.0ms | Allocations: 13587)


Started GET "/signup" for ::1 at 2020-04-21 20:48:59 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 155)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2388)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 717)
Completed 200 OK in 143ms (Views: 45.9ms | ActiveRecord: 19.5ms | Allocations: 29005)


Started GET "/login" for ::1 at 2020-04-21 20:49:01 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 209)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 1801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.1ms | Allocations: 685)
Completed 200 OK in 71ms (Views: 61.9ms | ActiveRecord: 0.0ms | Allocations: 10567)


Started POST "/login" for ::1 at 2020-04-21 20:49:03 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Oxg4s2l0ScboFRCnNgXrbLlGhSQ7PQCxXZuzOEkg7En3wYeLSa65lDI6tXB+XHFtqNd3eGw7R33T+h1VeyqmFQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 835ms (ActiveRecord: 2.4ms | Allocations: 5140)


Started GET "/" for ::1 at 2020-04-21 20:49:04 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 25.7ms | Allocations: 1313)
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 56.5ms | Allocations: 6275)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 82ms (Views: 70.6ms | ActiveRecord: 5.5ms | Allocations: 16924)


Started GET "/friends" for ::1 at 2020-04-21 20:49:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (427.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (142.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 667.3ms | Allocations: 86298)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 678)
Completed 200 OK in 819ms (Views: 126.9ms | ActiveRecord: 592.5ms | Allocations: 102685)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:49:10 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"dNigpTt8mDmOBNYXRSCEbqyV2Muwn07+VwCoe8HQyeM88vAVniiTGlJVCbI/AUBSge+GMjNEsyc2mu4lOAeTuA==", "id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.9ms | Allocations: 3544)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:50:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 7273)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 137ms (Views: 40.2ms | ActiveRecord: 34.1ms | Allocations: 38823)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:50:53 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"9GGHTlByDvd/H+DONYfn9R4Nh4n8BKBcEF/zk3CcwRC8S9f+9SYF1KNOP2tPpiPJM3fZcH/fXYVxxbXNiUubSw==", "id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:42:in `find_user'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.7ms | Allocations: 3177)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 20:53:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 679)
Completed 200 OK in 1754ms (Views: 653.9ms | ActiveRecord: 44.2ms | Allocations: 38730)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 20:53:43 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"YvaIgXGTOLk+uRsy1QueHpASaBZeGYPTw0ZrSlQvieMq3Ngx1MczmuLoxJevKloivWg2793Cfgqi3C0UrfjTuA==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (27.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 2]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (217.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 348ms (ActiveRecord: 253.4ms | Allocations: 10022)


Started GET "/friends" for ::1 at 2020-04-21 20:53:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 29.2ms | ActiveRecord: 3.1ms | Allocations: 13394)


Started GET "/friends" for ::1 at 2020-04-21 20:55:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 34.8ms | ActiveRecord: 5.8ms | Allocations: 13397)


Started GET "/logout" for ::1 at 2020-04-21 20:55:19 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms | Allocations: 2921)


Started GET "/" for ::1 at 2020-04-21 20:55:20 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 439)


Started GET "/login" for ::1 at 2020-04-21 20:55:20 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 687)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.0ms | Allocations: 10490)


Started POST "/login" for ::1 at 2020-04-21 20:55:34 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"uuv5AIuiha07UsqQBWIILodyeW8wVoXO4q/EMHcWt9viokzQhc/7h/mve6oeputnCbtdAkmqtpQ82C4Bm+MjdA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 301ms (ActiveRecord: 1.3ms | Allocations: 2923)


Started GET "/" for ::1 at 2020-04-21 20:55:35 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.6ms | Allocations: 728)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 2799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 678)
Completed 200 OK in 36ms (Views: 28.9ms | ActiveRecord: 2.6ms | Allocations: 12930)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:55:40 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 31.0ms | ActiveRecord: 4.6ms | Allocations: 13382)


Started GET "/users" for ::1 at 2020-04-21 20:55:42 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 2556)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.4ms | Allocations: 680)
Completed 200 OK in 81ms (Views: 64.0ms | ActiveRecord: 1.7ms | Allocations: 13708)


Started POST "/friends/create/2" for ::1 at 2020-04-21 20:55:48 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"f2RIn/48QELEl3bvbWHvuG1lnrWqcVO1FOqAn8gLyWBC/PsFM+0hvq5PK7Y8KAbzrBYg6YHRJFTnRY8RF9165w==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (32.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 19:55:48.561999"], ["updated_at", "2020-04-21 19:55:48.561999"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (1.3ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 19:55:48.634529"], ["updated_at", "2020-04-21 19:55:48.634529"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (41.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 188ms (ActiveRecord: 77.1ms | Allocations: 8348)


Started GET "/friends" for ::1 at 2020-04-21 20:55:48 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.8ms | Allocations: 678)
Completed 200 OK in 56ms (Views: 43.4ms | ActiveRecord: 5.5ms | Allocations: 13418)


Started GET "/friends" for ::1 at 2020-04-21 20:55:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 33.9ms | ActiveRecord: 5.1ms | Allocations: 13373)


Started GET "/logout" for ::1 at 2020-04-21 20:55:57 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 0.3ms | Allocations: 2437)


Started GET "/" for ::1 at 2020-04-21 20:55:57 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/login" for ::1 at 2020-04-21 20:55:57 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 685)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.0ms | Allocations: 10307)


Started POST "/login" for ::1 at 2020-04-21 20:56:12 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"53AjTx8/GeChX5Epl+Gd5K0qdKPj5BBvBpWXsQXI7Gib2j+MG4YYrzxOgSJSkho1v08kK+B+oIOrWhpahhp9+w==", "user"=>{"email"=>"olga@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "olga@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.5ms | Allocations: 1991)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"53AjTx8/GeChX5Epl+Gd5K0qdKPj5BBvBpWXsQXI7Gib2j+MG4YYrzxOgSJSkho1v08kK+B+oIOrWhpahhp9+w==", "user"=>{"email"=>"olga@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 14.0ms | Allocations: 1787)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 648)
Completed 200 OK in 478ms (Views: 60.0ms | ActiveRecord: 0.0ms | Allocations: 10137)


Started POST "/login" for ::1 at 2020-04-21 20:56:32 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"qw1luyFZvDBBQxi5gDkjkiJCuagigU5MAiOY9vElGyrXp3l4JeC9f9xSCLJFSqRDMCfpICEb/qCv7BUdcveKuQ==", "user"=>{"email"=>"tehide@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tehide@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 3.1ms | Allocations: 1989)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"qw1luyFZvDBBQxi5gDkjkiJCuagigU5MAiOY9vElGyrXp3l4JeC9f9xSCLJFSqRDMCfpICEb/qCv7BUdcveKuQ==", "user"=>{"email"=>"tehide@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 648)
Completed 200 OK in 266ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 10132)


Started POST "/login" for ::1 at 2020-04-21 20:56:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"6ZwVPPYjMdo0JUteUvxGnypA57EzPulrCaSxwccZ1T2VNgn/8powlak0W1WXj8FOOCW3OTCkWYekazwqRMtErg==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.8ms | Allocations: 1993)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"6ZwVPPYjMdo0JUteUvxGnypA57EzPulrCaSxwccZ1T2VNgn/8powlak0W1WXj8FOOCW3OTCkWYekazwqRMtErg==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 648)
Completed 200 OK in 453ms (Views: 28.8ms | ActiveRecord: 0.0ms | Allocations: 10132)


Started POST "/login" for ::1 at 2020-04-21 20:56:54 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"diw6mzpzbbayCYCBLqq+m79OG3zp2Lazd7rsn7pZxkMKhiZYPsps+S8YkIrr2TlKrStL9OpCBl/adWF0OYtX0A==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anna@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (ActiveRecord: 12.4ms | Allocations: 1994)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"diw6mzpzbbayCYCBLqq+m79OG3zp2Lazd7rsn7pZxkMKhiZYPsps+S8YkIrr2TlKrStL9OpCBl/adWF0OYtX0A==", "user"=>{"email"=>"anna@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 648)
Completed 200 OK in 337ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 10132)


Started POST "/login" for ::1 at 2020-04-21 20:57:01 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"NwGooAFHHBDxZxMcazCOuL6thobv8k0nfSkl0yEzjttLq7RjBf4dX2x2AxeuQwlprMjWDuxo/cvQ5qg4ouEfSA==", "user"=>{"email"=>"anthony.emmy94@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "anthony.emmy94@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 19ms (ActiveRecord: 3.1ms | Allocations: 1997)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"NwGooAFHHBDxZxMcazCOuL6thobv8k0nfSkl0yEzjttLq7RjBf4dX2x2AxeuQwlprMjWDuxo/cvQ5qg4ouEfSA==", "user"=>{"email"=>"anthony.emmy94@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1783)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 648)
Completed 200 OK in 272ms (Views: 31.1ms | ActiveRecord: 0.0ms | Allocations: 10128)


Started POST "/login" for ::1 at 2020-04-21 20:57:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"l1CRvWADtOYsnEmxJ9h9aABbf3Xsa3HP/7GwX758zQrr+o1+ZLq1qbGNWbriq/q5Ej4v/e/xwSNSfj20Pa5cmQ==", "user"=>{"email"=>"emmyyoung@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "emmyyoung@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 11ms (ActiveRecord: 4.1ms | Allocations: 1990)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"l1CRvWADtOYsnEmxJ9h9aABbf3Xsa3HP/7GwX758zQrr+o1+ZLq1qbGNWbriq/q5Ej4v/e/xwSNSfj20Pa5cmQ==", "user"=>{"email"=>"emmyyoung@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.1ms | Allocations: 648)
Completed 200 OK in 355ms (Views: 34.3ms | ActiveRecord: 0.0ms | Allocations: 10129)


Started POST "/login" for ::1 at 2020-04-21 20:57:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ZRNYBmp3ifs5utiQZTTr+Q3VlO27Ad6Nhq1QHV5fngwZuUTFbs6ItKSryJugR2woH7DEZbibbmErYt323Y0Pnw==", "user"=>{"email"=>"franc@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "franc@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.3ms | Allocations: 1993)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"ZRNYBmp3ifs5utiQZTTr+Q3VlO27Ad6Nhq1QHV5fngwZuUTFbs6ItKSryJugR2woH7DEZbibbmErYt323Y0Pnw==", "user"=>{"email"=>"franc@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 648)
Completed 200 OK in 311ms (Views: 20.8ms | ActiveRecord: 0.0ms | Allocations: 10129)


Started POST "/login" for ::1 at 2020-04-21 20:57:27 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"R4HEV7Hl7V4DafFsJQeI86BAGC3TfSj0kPTNYRxzeNU7K9iUtVzsEZ544WfgdA8isiVIpdDnmBg9O0CKn6HpRg==", "user"=>{"email"=>"olga@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "olga@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 10ms (ActiveRecord: 1.1ms | Allocations: 1999)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"R4HEV7Hl7V4DafFsJQeI86BAGC3TfSj0kPTNYRxzeNU7K9iUtVzsEZ544WfgdA8isiVIpdDnmBg9O0CKn6HpRg==", "user"=>{"email"=>"olga@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 648)
Completed 200 OK in 317ms (Views: 29.7ms | ActiveRecord: 0.0ms | Allocations: 10130)


Started POST "/login" for ::1 at 2020-04-21 20:57:44 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"yioInWqnshlf5xld2z+D/tOp8rbrsqTEAmuYCS266iW2gBRebh6zVsL2CVYeTAQvwcyiPugoFCivpBXirmh7tg==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Started POST "/login" for ::1 at 2020-04-21 20:57:44 +0100
Completed 302 Found in 348ms (ActiveRecord: 0.4ms | Allocations: 3839)


Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"yioInWqnshlf5xld2z+D/tOp8rbrsqTEAmuYCS266iW2gBRebh6zVsL2CVYeTAQvwcyiPugoFCivpBXirmh7tg==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 326ms (ActiveRecord: 1.2ms | Allocations: 3122)


Started GET "/" for ::1 at 2020-04-21 20:57:44 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 674)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 2751)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 678)
Completed 200 OK in 68ms (Views: 59.7ms | ActiveRecord: 3.1ms | Allocations: 12700)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:57:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 28.0ms | ActiveRecord: 2.2ms | Allocations: 13383)


Started GET "/logout" for ::1 at 2020-04-21 20:58:45 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 2411)


Started GET "/" for ::1 at 2020-04-21 20:58:45 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/login" for ::1 at 2020-04-21 20:58:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.0ms | Allocations: 10297)


Started POST "/login" for ::1 at 2020-04-21 20:58:51 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"T5SpEx4BxkJT6NaI6heTr77NYiWWCqJjRvZZwYy4mtarUANmkLFefJa/62fhV/o+no9E1J+2jBQQoX+KUBywlw==", "user"=>{"email"=>"aboki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "aboki@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.3ms | Allocations: 1990)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"T5SpEx4BxkJT6NaI6heTr77NYiWWCqJjRvZZwYy4mtarUANmkLFefJa/62fhV/o+no9E1J+2jBQQoX+KUBywlw==", "user"=>{"email"=>"aboki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 648)
Completed 200 OK in 283ms (Views: 22.5ms | ActiveRecord: 0.0ms | Allocations: 10133)


Started GET "/signup" for ::1 at 2020-04-21 20:58:54 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 152)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2328)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 710)
Completed 200 OK in 39ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 11158)


Started POST "/" for ::1 at 2020-04-21 20:59:41 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"8lXJftSC+g2dGCYS6neCWuvINrXFEcsabAeb1jgEJ8hY8iT9nqqTYeRk4FQIk1IAzfa4zAXB835Vghkw3+Sx6w==", "user"=>{"first_name"=>"week", "last_name"=>"week", "gender"=>"male", "date_of_birth"=>"2020-04-01", "email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "gender", "first_name", "last_name", "date_of_birth") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "wqeek@gmail.com"], ["encrypted_password", "$2a$11$hfxZZqE/tGfoLd31dRlSCuxg63PJ1oOTL7VgZeFQhXyEdUAFOoMZK"], ["created_at", "2020-04-21 19:59:41.363848"], ["updated_at", "2020-04-21 19:59:41.363848"], ["gender", "male"], ["first_name", "week"], ["last_name", "week"], ["date_of_birth", "2020-04-01"]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 316ms (ActiveRecord: 21.3ms | Allocations: 8493)


Started GET "/" for ::1 at 2020-04-21 20:59:41 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.7ms | Allocations: 659)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (3.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.0ms | Allocations: 673)
Completed 200 OK in 93ms (Views: 71.1ms | ActiveRecord: 4.3ms | Allocations: 12672)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 20:59:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 2911)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 32.7ms | ActiveRecord: 4.4ms | Allocations: 13396)


Started GET "/users" for ::1 at 2020-04-21 20:59:51 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 152.6ms | Allocations: 6599)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.1ms | Allocations: 674)
Completed 200 OK in 198ms (Views: 181.8ms | ActiveRecord: 3.2ms | Allocations: 16972)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:00:00 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"7u4HkxqLXeUhLSrqten5W84q8y2QOk9AWMzHPPM4tnTZUSHYxAm8V+p2dsfRa6kIHJ82GWs4gUOz79/r47emlQ==", "id"=>"2"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 20:00:00.572223"], ["updated_at", "2020-04-21 20:00:00.572223"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 55ms (ActiveRecord: 19.4ms | Allocations: 7755)


Started GET "/friends" for ::1 at 2020-04-21 21:00:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 38ms (Views: 28.9ms | ActiveRecord: 3.5ms | Allocations: 13396)


Started GET "/users" for ::1 at 2020-04-21 21:00:05 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (3.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 29.7ms | Allocations: 6228)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 42.2ms | ActiveRecord: 8.0ms | Allocations: 16603)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:00:08 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"h78pbL3aCu4gxSSgWx0iLnM4LSCZmc/u4y1blZ/GH7tbIgSIklCuIKqoiivllCbMF9XeJLCv/IAESMBlhIwZmg==", "id"=>"1"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (12.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 43ms (ActiveRecord: 18.7ms | Allocations: 7230)


Started GET "/friends" for ::1 at 2020-04-21 21:00:08 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 26.2ms | ActiveRecord: 3.0ms | Allocations: 13397)


Started GET "/logout" for ::1 at 2020-04-21 21:00:11 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 24ms (ActiveRecord: 0.3ms | Allocations: 2411)


Started GET "/" for ::1 at 2020-04-21 21:00:11 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 331)


Started GET "/login" for ::1 at 2020-04-21 21:00:11 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 684)
Completed 200 OK in 33ms (Views: 31.6ms | ActiveRecord: 0.0ms | Allocations: 10298)


Started POST "/login" for ::1 at 2020-04-21 21:00:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"g3+wcBemsgXEcjhgDWTJsWQ/B8KrtRV0oohyDYVJd2HBZgxaRenVmlcvtB3EbDd2NpqAZckUWQKfmJ4X49oHGw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 311ms (ActiveRecord: 1.1ms | Allocations: 2906)


Started GET "/" for ::1 at 2020-04-21 21:00:17 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 663)
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 119ms (Views: 109.7ms | ActiveRecord: 3.1ms | Allocations: 12682)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:00:21 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 39.0ms | Allocations: 10549)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 77ms (Views: 56.8ms | ActiveRecord: 8.4ms | Allocations: 21023)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 21:00:28 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"6YeXZFzsN56sBa9PiXoF6Zhi6aFvjANGjv5ZmeP4dwg1Q10RX5t+cOoIDR6pj2xVw6q0hQYsaaVp/8QUC2l2qA==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (25.4ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:00:28.624051"], ["id", 4]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:00:28.600471"], ["id", 4]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:00:28.706890"], ["id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:00:28.600471"], ["id", 3]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 150ms (ActiveRecord: 55.3ms | Allocations: 19692)


Started GET "/friends" for ::1 at 2020-04-21 21:00:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.8ms | Allocations: 7138)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 68ms (Views: 58.9ms | ActiveRecord: 3.1ms | Allocations: 17634)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 21:00:31 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"fsHoVTpN/mmqCRKDOlm+ZuKStxzq8EQMfYBY0vLVkhCoxTH1RmHS0j/R8qn7PmUXCJbjH6pjgS4y+vcToa2kdQ==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 3], ["id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:00:31.611895"], ["id", 5]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 3], ["id", 5], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:00:31.594153"], ["id", 5]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 65ms (ActiveRecord: 23.2ms | Allocations: 12206)


Started GET "/friends" for ::1 at 2020-04-21 21:00:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 9525)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 44.9ms | ActiveRecord: 3.8ms | Allocations: 20029)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 21:00:39 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"M3OwVoz1NdCJiz0AK7ptHK/qj1+pNBcxeDW247WgZ56/1WJeryjJAJLoszTrrHXcxddfQYHh15K5gmvHJBOGdw==", "id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 4]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 3]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 62ms (ActiveRecord: 37.0ms | Allocations: 6513)


Started GET "/friends" for ::1 at 2020-04-21 21:00:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 32.6ms | ActiveRecord: 3.7ms | Allocations: 16012)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 21:00:42 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"q6wnaa4sww4x5PBSfcvFCjzPT4g/shbpGqrENge2N0zXl1QtjlSq9Uhw7mc2yimWdjUhGJ9EQmI9mMeRExADVA==", "id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 5]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.3ms | Allocations: 6615)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 21:02:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 88.9ms | Allocations: 7266)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 679)
Completed 200 OK in 1688ms (Views: 267.5ms | ActiveRecord: 514.3ms | Allocations: 38735)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 21:02:25 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"dEm6FnWymb9x+ofAj8AZCs4nsSFTw0wzry8lNpPFadEIcslSVcrwRAhumfXEwfWWhN3fsfM1GLiIHSaRh2NdyQ==", "id"=>"3"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 5]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (123.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 160ms (ActiveRecord: 130.3ms | Allocations: 8494)


Started GET "/friends" for ::1 at 2020-04-21 21:02:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 33.9ms | ActiveRecord: 5.4ms | Allocations: 13393)


Started GET "/friends" for ::1 at 2020-04-21 21:02:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (23.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 36.3ms | Allocations: 2921)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 31.7ms | Allocations: 674)
Completed 200 OK in 117ms (Views: 84.0ms | ActiveRecord: 25.3ms | Allocations: 13400)


Started GET "/friends" for ::1 at 2020-04-21 21:02:37 +0100
Started GET "/friends" for ::1 at 2020-04-21 21:02:37 +0100
Processing by FriendshipsController#index as HTML
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mUser Load (24.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (6.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (8.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.0ms | Allocations: 6469)
  [1m[35m (6.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 44.3ms | Allocations: 9271)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.2ms | Allocations: 2046)
Completed 200 OK in 133ms (Views: 100.3ms | ActiveRecord: 13.5ms | Allocations: 23528)


[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 154ms (Views: 72.0ms | ActiveRecord: 45.8ms | Allocations: 27260)


Started GET "/friends" for ::1 at 2020-04-21 21:02:58 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 1296ms (Views: 1285.4ms | ActiveRecord: 2.5ms | Allocations: 13385)


Started GET "/friends" for ::1 at 2020-04-21 21:04:10 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 69ms (Views: 52.6ms | ActiveRecord: 8.5ms | Allocations: 13377)


Started GET "/users" for ::1 at 2020-04-21 21:04:13 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (173.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 222.9ms | Allocations: 6241)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 680)
Completed 200 OK in 253ms (Views: 69.2ms | ActiveRecord: 175.4ms | Allocations: 16830)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:04:18 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"GWqWdjaxVKtVP25mOcbOR7MFYzPhZuZ8TGX/RpWCnTX+ONg2mtTfPTEhEhomuVXH9f4ROEbCmbA4YNdxSUMIrw==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (6.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (71.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 20:04:18.875911"], ["updated_at", "2020-04-21 20:04:18.875911"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[36mFriendship Create (6.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 20:04:19.008850"], ["updated_at", "2020-04-21 20:04:19.008850"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (89.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 261ms (ActiveRecord: 176.1ms | Allocations: 8097)


Started GET "/friends" for ::1 at 2020-04-21 21:04:19 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 67ms (Views: 40.6ms | ActiveRecord: 10.4ms | Allocations: 13399)


Started GET "/users" for ::1 at 2020-04-21 21:04:23 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 6227)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 35.5ms | ActiveRecord: 2.4ms | Allocations: 16605)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:04:28 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"VylyHIeWrutyi3gKBRKkExUxnO18DzMHWFNVv9+ZZJu4anV7m9CjEHEcEqo5nfWhuDARs7ldowwcu7sO1q+VrQ==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 20:04:28.996615"], ["updated_at", "2020-04-21 20:04:28.996615"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 63ms (ActiveRecord: 16.6ms | Allocations: 7653)


Started GET "/friends" for ::1 at 2020-04-21 21:04:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 28.6ms | ActiveRecord: 3.3ms | Allocations: 13392)


Started GET "/friends" for ::1 at 2020-04-21 21:04:32 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 26.0ms | ActiveRecord: 3.1ms | Allocations: 13380)


Started GET "/users" for ::1 at 2020-04-21 21:04:34 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 6227)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 64ms (Views: 38.2ms | ActiveRecord: 10.8ms | Allocations: 16605)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:04:37 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"2RE0+IgNcxWDg5i0S13A8pex7TNPG2lcyCMCX0YxrVc+Q3q4JGj4g+ed5MhUIlty0UqfOOi/FpC8JipomvA4zQ==", "id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 31ms (ActiveRecord: 6.3ms | Allocations: 7215)


Started GET "/friends" for ::1 at 2020-04-21 21:04:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 2.4ms | Allocations: 13400)


Started GET "/logout" for ::1 at 2020-04-21 21:04:40 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 75ms (ActiveRecord: 2.5ms | Allocations: 2918)


Started GET "/" for ::1 at 2020-04-21 21:04:41 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 448)


Started GET "/login" for ::1 at 2020-04-21 21:04:41 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 1808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 686)
Completed 200 OK in 68ms (Views: 66.3ms | ActiveRecord: 0.0ms | Allocations: 10492)


Started POST "/login" for ::1 at 2020-04-21 21:04:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"BtJ2YHdPPJYfVWoSo1xL327eya8hntp7w2JZq9i2IhL6WtWpnhHM+cwPPTPbVIAc7gRxcGHKsMwIVk8fTi0kiA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (99.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 498ms (ActiveRecord: 99.4ms | Allocations: 2923)


Started GET "/" for ::1 at 2020-04-21 21:04:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 728)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 678)
Completed 200 OK in 41ms (Views: 34.3ms | ActiveRecord: 2.2ms | Allocations: 12917)


Started GET "/friends" for ::1 at 2020-04-21 21:04:48 +0100
Processing by FriendshipsController#index as HTML
  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mUser Load (98.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 156ms (Views: 46.8ms | ActiveRecord: 102.0ms | Allocations: 46169)


Started GET "/logout" for ::1 at 2020-04-21 21:04:51 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (733.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 745ms (ActiveRecord: 733.4ms | Allocations: 2419)


Started GET "/" for ::1 at 2020-04-21 21:04:55 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 338)


Started GET "/login" for ::1 at 2020-04-21 21:04:55 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1790)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.0ms | Allocations: 10296)


Started POST "/login" for ::1 at 2020-04-21 21:04:58 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"QOnCzCGWrDBvNxs0xK9oVz82dSHLvzHoLlVez6auLzwGmo4u1ZBeAn/8QpnyMkRCqVfS5glqQTCnjgndTQhOkQ==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (390.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 662ms (ActiveRecord: 390.8ms | Allocations: 2915)


Started GET "/" for ::1 at 2020-04-21 21:04:59 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (4.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (14.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 28.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 57ms (Views: 30.9ms | ActiveRecord: 19.3ms | Allocations: 12662)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-04-21 21:05:18 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 10.6ms | Allocations: 659)
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 673)
Completed 200 OK in 78ms (Views: 59.4ms | ActiveRecord: 7.2ms | Allocations: 12649)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:05:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 32.6ms | ActiveRecord: 3.6ms | Allocations: 13380)


Started GET "/friends" for ::1 at 2020-04-21 21:05:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 44.6ms | ActiveRecord: 4.8ms | Allocations: 13377)


Started GET "/users" for ::1 at 2020-04-21 21:05:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 43.5ms | Allocations: 6227)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 674)
Completed 200 OK in 119ms (Views: 77.9ms | ActiveRecord: 10.5ms | Allocations: 16605)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:05:52 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"6bv6h6HP8hg1WzIiprqVeVfQO4W37X/6CkW5VTqAD/R7zLSBKMdB+aYg3SGlvRwSmDevcv6QFvv2xIHtwtrWuw==", "id"=>"2"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 38ms (ActiveRecord: 3.4ms | Allocations: 7218)


Started GET "/friends" for ::1 at 2020-04-21 21:05:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 29.0ms | ActiveRecord: 2.7ms | Allocations: 13396)


Started GET "/logout" for ::1 at 2020-04-21 21:05:54 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.5ms | Allocations: 2414)


Started GET "/" for ::1 at 2020-04-21 21:05:54 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 339)


Started GET "/login" for ::1 at 2020-04-21 21:05:54 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 10295)


Started POST "/login" for ::1 at 2020-04-21 21:06:02 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"OSDryWXZQTYdjFwmHUemfq3WWOu9Ey5KooGd3MsqytfjEmudJcIXd2LhORim6BSlrkAU4O6a4V4hhet85CuNJg==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 278ms (ActiveRecord: 2.5ms | Allocations: 2901)


Started GET "/" for ::1 at 2020-04-21 21:06:02 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 673)
Completed 200 OK in 78ms (Views: 65.0ms | ActiveRecord: 2.0ms | Allocations: 12671)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:06:05 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (261.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 282.5ms | Allocations: 6231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 675)
Completed 200 OK in 349ms (Views: 75.8ms | ActiveRecord: 263.8ms | Allocations: 16617)


Started GET "/friends" for ::1 at 2020-04-21 21:06:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (34.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 51.5ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 674)
Completed 200 OK in 94ms (Views: 39.4ms | ActiveRecord: 37.6ms | Allocations: 13384)


Started GET "/users" for ::1 at 2020-04-21 21:06:19 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 6227)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 42.9ms | ActiveRecord: 5.2ms | Allocations: 16604)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:06:24 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Ni8HhqW3pXhjaUXiLLh3p7kvWu4sZhBN775KcyCDlXjv0ZYvJiYadp453+Y/iSTEvh5NeNojkt19JspRyfscOQ==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (15.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 41ms (ActiveRecord: 18.7ms | Allocations: 7229)


Started GET "/friends" for ::1 at 2020-04-21 21:06:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 27.5ms | ActiveRecord: 3.4ms | Allocations: 13400)


Started GET "/logout" for ::1 at 2020-04-21 21:06:27 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.5ms | Allocations: 2406)


Started GET "/" for ::1 at 2020-04-21 21:06:27 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 336)


Started GET "/login" for ::1 at 2020-04-21 21:06:27 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 684)
Completed 200 OK in 30ms (Views: 28.4ms | ActiveRecord: 0.0ms | Allocations: 10296)


Started POST "/login" for ::1 at 2020-04-21 21:06:34 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ZtAkQMtdfqRsxopJT05Z1jMmLnGAHqc5B2CjCQurtZWS96Lrqcf1zTNTsGLweXytWjib8+mfdjthFAZ5GO1mOw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 420ms (ActiveRecord: 0.6ms | Allocations: 2909)


Started GET "/" for ::1 at 2020-04-21 21:06:35 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 39ms (Views: 32.7ms | ActiveRecord: 2.0ms | Allocations: 12666)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:06:38 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 37.5ms | Allocations: 6402)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 106ms (Views: 61.3ms | ActiveRecord: 9.1ms | Allocations: 16881)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 21:06:42 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"mh3WUQ/mcbvRXcdyPQhNFVmqiHX6Ib1Gdh6is68rASIGdNuTOc3OaQnBDJEIIXQtMOxxxuco9lUdR9S6ADxWEQ==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (24.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (24.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:06:43.056320"], ["id", 7]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:06:43.004242"], ["id", 7]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 6], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.0ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:06:43.115766"], ["id", 6]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 6], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:06:43.004242"], ["id", 6]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 147ms (ActiveRecord: 74.8ms | Allocations: 19656)


Started GET "/friends" for ::1 at 2020-04-21 21:06:43 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 42.6ms | ActiveRecord: 2.7ms | Allocations: 16012)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 21:06:45 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"95FtwAczOSBg9UCPubgKbLTHjC02ruwUUXPGWqPT7iAf0kA25/UnWt5YsbWHVO/32dSMX+r3b/cKcqEIbCPL/A==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 7]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 44ms (ActiveRecord: 17.5ms | Allocations: 5098)


Started GET "/friends" for ::1 at 2020-04-21 21:06:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 32.3ms | ActiveRecord: 3.0ms | Allocations: 13396)


Started GET "/logout" for ::1 at 2020-04-21 21:06:51 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 6.0ms | Allocations: 2410)


Started GET "/" for ::1 at 2020-04-21 21:06:51 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 338)


Started GET "/login" for ::1 at 2020-04-21 21:06:51 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.0ms | Allocations: 10297)


Started POST "/login" for ::1 at 2020-04-21 21:06:58 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"dEDnOeSJ+ZfHMlhEJfJRn9g+CguEhu+NsO6EQoawD5cJQgM32PVLx5fPwGOLWbws0yzzF9Cy2MJjdtcbswbszQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 380ms (ActiveRecord: 0.4ms | Allocations: 2909)


Started GET "/" for ::1 at 2020-04-21 21:06:59 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 673)
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 2.9ms | Allocations: 12666)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:07:01 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 6230)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 34.7ms | ActiveRecord: 2.3ms | Allocations: 16601)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:07:05 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"O0YKRGBnDUNZXLFMbrEwinKD/i1DlIrGWdJrsqiY4m/Jn8hUrKfZpLMbvAwcvdypeSKg0cNXaD7iMe4bAJUEpw==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 36ms (ActiveRecord: 2.7ms | Allocations: 7219)


Started GET "/friends" for ::1 at 2020-04-21 21:07:05 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 29.7ms | ActiveRecord: 3.1ms | Allocations: 13393)


Started GET "/users" for ::1 at 2020-04-21 21:07:07 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 6227)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 36.0ms | ActiveRecord: 3.1ms | Allocations: 16607)


Started GET "/users" for ::1 at 2020-04-21 21:07:22 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 6300)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 21.4ms | Allocations: 1025)
Completed 200 OK in 264ms (Views: 255.8ms | ActiveRecord: 2.0ms | Allocations: 18341)


Started GET "/users" for ::1 at 2020-04-21 21:07:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 106ms (Views: 82.3ms | ActiveRecord: 3.2ms | Allocations: 16387)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:07:39 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"KDtge7ktqpw4lYPsmuEhZo3DXkfu2bPQd094d8yP55whBkPE9OpxtRXsPWZdG6DsloCr0rAtvljWpTaRo8PmvQ==", "id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (11.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 20:07:39.524965"], ["updated_at", "2020-04-21 20:07:39.524965"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (90.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 130ms (ActiveRecord: 105.4ms | Allocations: 7612)


Started GET "/friends" for ::1 at 2020-04-21 21:07:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 46.4ms | Allocations: 3693)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.4ms | Allocations: 678)
Completed 200 OK in 129ms (Views: 100.0ms | ActiveRecord: 7.6ms | Allocations: 14872)


Started GET "/logout" for ::1 at 2020-04-21 21:07:42 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 0.4ms | Allocations: 2417)


Started GET "/" for ::1 at 2020-04-21 21:07:42 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/login" for ::1 at 2020-04-21 21:07:42 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 92.5ms | Allocations: 618)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 122.3ms | Allocations: 2703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 685)
Completed 200 OK in 154ms (Views: 152.4ms | ActiveRecord: 0.0ms | Allocations: 12651)


Started POST "/login" for ::1 at 2020-04-21 21:07:47 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"t8PWeo6KVZ51CFnhjWrB8dWMZpWR/BZzyebxUPILPkiegifgyTto4dcwjfmiWGUo4y94uTJ/sM/gqfpYSAk0jw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 611ms (ActiveRecord: 1.0ms | Allocations: 4353)


Started GET "/" for ::1 at 2020-04-21 21:07:48 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 33.7ms | Allocations: 884)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 231.0ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.0ms | Allocations: 678)
Completed 200 OK in 290ms (Views: 280.2ms | ActiveRecord: 3.9ms | Allocations: 13827)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:07:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 5533)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 678)
Completed 200 OK in 64ms (Views: 48.9ms | ActiveRecord: 4.2ms | Allocations: 16011)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 21:08:04 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"raOjkrbyNfZah1m60z48RoeiJErmqMf1m5shn4paVwEsabFHq8NvNGI7IEftkdGk1NQhNrtpFxqYauB1mBTAPw==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 6]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 69ms (ActiveRecord: 16.2ms | Allocations: 5127)


Started GET "/friends" for ::1 at 2020-04-21 21:08:04 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 31.5ms | ActiveRecord: 4.7ms | Allocations: 13394)


Started GET "/friends" for ::1 at 2020-04-21 21:08:08 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.0ms | Allocations: 674)
Completed 200 OK in 59ms (Views: 38.1ms | ActiveRecord: 9.9ms | Allocations: 13382)


Started GET "/friends" for ::1 at 2020-04-21 21:08:19 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 674)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 2.3ms | Allocations: 13375)


Started GET "/users" for ::1 at 2020-04-21 21:08:20 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 86.4ms | Allocations: 6007)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 22.3ms | Allocations: 680)
Completed 200 OK in 167ms (Views: 132.6ms | ActiveRecord: 4.6ms | Allocations: 16388)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:08:23 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"B4CVQBbf6IQj0HTxWpb29eDf8HW4uF3Y6eSddbFy/t/8YD5H1hpPI38bcjaHIk0KLKP5CMGnaBIJGrbcUD2SBQ==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (18.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 20:08:23.972213"], ["updated_at", "2020-04-21 20:08:23.972213"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 78ms (ActiveRecord: 37.9ms | Allocations: 7612)


Started GET "/friends" for ::1 at 2020-04-21 21:08:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 28.0ms | ActiveRecord: 2.8ms | Allocations: 13394)


Started GET "/users" for ::1 at 2020-04-21 21:08:26 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 71ms (Views: 62.7ms | ActiveRecord: 2.9ms | Allocations: 16378)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:08:30 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"bPlZNpEUhqGoGlW5uTiOMo72YmRYna4FoNanLrfXFyunOWjyPVAaVrYRRRuMKpyWyOCuJdu9uLTn07FOXwCVUw==", "id"=>"3"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 34ms (ActiveRecord: 8.3ms | Allocations: 7216)


Started GET "/friends" for ::1 at 2020-04-21 21:08:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 44.9ms | ActiveRecord: 4.1ms | Allocations: 13395)


Started GET "/logout" for ::1 at 2020-04-21 21:08:33 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 2.6ms | Allocations: 2408)


Started GET "/" for ::1 at 2020-04-21 21:08:33 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 335)


Started GET "/login" for ::1 at 2020-04-21 21:08:33 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 685)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms | Allocations: 10309)


Started POST "/login" for ::1 at 2020-04-21 21:08:40 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"LFAzr5KKne0r863X/VKcoI9rlI9mSfOVJnS8WD/zGIVrQ6A0LCM2U38J+RHZzoXXPfk3hRGE8Jej1wylDNlRRA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 272ms (ActiveRecord: 0.6ms | Allocations: 2902)


Started GET "/" for ::1 at 2020-04-21 21:08:40 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 673)
Completed 200 OK in 40ms (Views: 32.3ms | ActiveRecord: 2.2ms | Allocations: 12665)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:08:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.2ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 68ms (Views: 49.0ms | ActiveRecord: 5.8ms | Allocations: 13380)


Started GET "/users" for ::1 at 2020-04-21 21:08:54 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 47.5ms | Allocations: 6003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 76ms (Views: 63.5ms | ActiveRecord: 3.7ms | Allocations: 16381)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:08:59 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"eAVAo1CVMkRx1dK6UVZaICk4fMehgBlZYXfFXj7vMPLyF0MAcMlHcfPReiZU0GT6i5gc0rUPYNQVvZgOvNTOwg==", "id"=>"2"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 30ms (ActiveRecord: 3.8ms | Allocations: 7239)


Started GET "/friends" for ::1 at 2020-04-21 21:08:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 29.0ms | ActiveRecord: 4.5ms | Allocations: 13402)


Started GET "/users" for ::1 at 2020-04-21 21:09:03 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 37.8ms | ActiveRecord: 3.7ms | Allocations: 16371)


Started GET "/logout" for ::1 at 2020-04-21 21:09:06 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 0.4ms | Allocations: 2416)


Started GET "/" for ::1 at 2020-04-21 21:09:06 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 339)


Started GET "/login" for ::1 at 2020-04-21 21:09:06 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 684)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.0ms | Allocations: 10298)


Started POST "/login" for ::1 at 2020-04-21 21:09:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"k96ZIz9zjlDtup8x6j0Jgtv6MLyMCYR0ktt2hWyce8/mvNQvwSuqgQvJ+GD0Yy66egPZSREoijYIxyppq0ByrQ==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 318ms (ActiveRecord: 1.6ms | Allocations: 2910)


Started GET "/" for ::1 at 2020-04-21 21:09:17 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.5ms | Allocations: 663)
  [1m[36mPost Load (21.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 36.5ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 673)
Completed 200 OK in 63ms (Views: 33.7ms | ActiveRecord: 24.4ms | Allocations: 12678)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:09:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 40.7ms | ActiveRecord: 6.6ms | Allocations: 13380)


Started GET "/users" for ::1 at 2020-04-21 21:09:22 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (13.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 34.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 11.9ms | Allocations: 674)
Completed 200 OK in 98ms (Views: 67.7ms | ActiveRecord: 17.1ms | Allocations: 16376)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:09:27 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"rClIqNYlGwJYESb32vQoBIk60zYhkB7O4nHzxbCDt7iD2UZdQPNPjy8mZLOcoFm5NJkSC4n43+9sDcOIdJpIig==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 25ms (ActiveRecord: 2.4ms | Allocations: 7221)


Started GET "/friends" for ::1 at 2020-04-21 21:09:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 57.2ms | Allocations: 2903)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 88ms (Views: 78.0ms | ActiveRecord: 3.6ms | Allocations: 13401)


Started GET "/logout" for ::1 at 2020-04-21 21:09:34 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 0.8ms | Allocations: 2413)


Started GET "/" for ::1 at 2020-04-21 21:09:34 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/login" for ::1 at 2020-04-21 21:09:34 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 51ms (Views: 49.8ms | ActiveRecord: 0.0ms | Allocations: 10300)


Started POST "/login" for ::1 at 2020-04-21 21:09:44 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"GFIi+vsM99WhZoNGjz6d2eLk2l5UAFONVoaMojqOfSSda+9lIwb4u/bYrZYF7u3zJABMA0LGE+i4d++f9rNweA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 264ms (ActiveRecord: 0.8ms | Allocations: 2901)


Started GET "/" for ::1 at 2020-04-21 21:09:44 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.7ms | Allocations: 663)
  [1m[36mPost Load (3.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.5ms | Allocations: 673)
Completed 200 OK in 56ms (Views: 43.6ms | ActiveRecord: 5.7ms | Allocations: 12663)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:09:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 34.1ms | ActiveRecord: 14.9ms | Allocations: 13377)


Started GET "/friends" for ::1 at 2020-04-21 21:10:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 47.2ms | Allocations: 4637)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 352ms (Views: 67.8ms | ActiveRecord: 101.3ms | Allocations: 36094)


Started GET "/logout" for ::1 at 2020-04-21 21:10:12 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 0.7ms | Allocations: 2916)


Started GET "/" for ::1 at 2020-04-21 21:10:14 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 438)


Started GET "/login" for ::1 at 2020-04-21 21:10:14 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 1808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 686)
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 0.0ms | Allocations: 10488)


Started POST "/login" for ::1 at 2020-04-21 21:12:12 +0100
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"+L/R78pWfupuQyRPyP/07PZpPzMaxxHK+/L3xDuiG8/SAUtmjU3aleHn0OeiELWsSgDI+J7/73r307w+fctB3w==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2578ms (ActiveRecord: 28.1ms | Allocations: 206968)


Started GET "/" for ::1 at 2020-04-21 21:12:16 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 66.9ms | Allocations: 1541)
  [1m[36mPost Load (4.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 199.6ms | Allocations: 7585)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 46.4ms | Allocations: 1080)
Completed 200 OK in 2773ms (Views: 2711.8ms | ActiveRecord: 9.0ms | Allocations: 55778)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:12:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (6.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 150.8ms | Allocations: 5899)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 679)
Completed 200 OK in 189ms (Views: 149.1ms | ActiveRecord: 28.2ms | Allocations: 17301)


Started GET "/users" for ::1 at 2020-04-21 21:12:29 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 168.1ms | Allocations: 6698)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.5ms | Allocations: 680)
Completed 200 OK in 217ms (Views: 187.9ms | ActiveRecord: 6.2ms | Allocations: 17862)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:12:36 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xSaMVOcfiqSt3UdPV+fkow/QCC0LwMsJjdmoDep+2MxN2sqzneWgWAyDwR27EpEUs8XNYsf7XuDLHB/a6R3DzQ==", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 97ms (ActiveRecord: 7.2ms | Allocations: 10960)


Started GET "/friends" for ::1 at 2020-04-21 21:12:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2908)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 32ms (Views: 23.3ms | ActiveRecord: 2.7ms | Allocations: 13416)


Started GET "/logout" for ::1 at 2020-04-21 21:12:38 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 56ms (ActiveRecord: 0.6ms | Allocations: 3113)


Started GET "/" for ::1 at 2020-04-21 21:12:39 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/login" for ::1 at 2020-04-21 21:12:39 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 24.7ms | Allocations: 738)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 188.6ms | Allocations: 3570)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.2ms | Allocations: 720)
Completed 200 OK in 242ms (Views: 239.3ms | ActiveRecord: 0.0ms | Allocations: 13557)


Started POST "/login" for ::1 at 2020-04-21 21:12:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"EYC79VLitvJ1zEGnHrVyuMTCr7/Vx2A6wJufBWyUqwK0qasPGWa1fYXm4rt+h7pArJ1VxdUg2Lz9WjhJKuQmsw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 290ms (ActiveRecord: 1.5ms | Allocations: 4377)


Started GET "/" for ::1 at 2020-04-21 21:12:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 678)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 2755)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 678)
Completed 200 OK in 58ms (Views: 40.4ms | ActiveRecord: 3.9ms | Allocations: 12705)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:12:48 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 2916)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 678)
Completed 200 OK in 42ms (Views: 29.0ms | ActiveRecord: 5.3ms | Allocations: 13515)


Started GET "/logout" for ::1 at 2020-04-21 21:12:53 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 4.2ms | Allocations: 2416)


Started GET "/" for ::1 at 2020-04-21 21:12:54 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 337)


Started GET "/login" for ::1 at 2020-04-21 21:12:54 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1793)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 684)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 10296)


Started POST "/login" for ::1 at 2020-04-21 21:13:01 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"yf+fhuFC1KlxyMOMo++/1d0VvaLTqk8zCQ/f4SXv0wv+8r+6lF5jQicu6uXHPjkvN1w9D1BgmE5+sj6QtdWWEA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 332ms (ActiveRecord: 1.9ms | Allocations: 2910)


Started GET "/" for ::1 at 2020-04-21 21:13:01 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (3.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 673)
Completed 200 OK in 40ms (Views: 26.5ms | ActiveRecord: 5.8ms | Allocations: 12679)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:13:04 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.4ms | Allocations: 2909)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 674)
Completed 200 OK in 70ms (Views: 46.1ms | ActiveRecord: 4.6ms | Allocations: 13500)


Started GET "/users" for ::1 at 2020-04-21 21:13:06 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 680)
Completed 200 OK in 58ms (Views: 44.8ms | ActiveRecord: 3.7ms | Allocations: 16394)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:13:10 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"qyeJvvXWRObkq3ho1pdTRRyO6PihGvnWCdx1rFoG21Ts7AyZ13YShMrKl6xnn50VsnrX8PNQSs5AgVP/dehqKg==", "id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 24ms (ActiveRecord: 3.8ms | Allocations: 7245)


Started GET "/friends" for ::1 at 2020-04-21 21:13:10 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 34.2ms | ActiveRecord: 3.1ms | Allocations: 13401)


Started GET "/logout" for ::1 at 2020-04-21 21:13:11 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 0.5ms | Allocations: 2429)


Started GET "/" for ::1 at 2020-04-21 21:13:11 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/login" for ::1 at 2020-04-21 21:13:11 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 1790)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.0ms | Allocations: 10307)


Started POST "/login" for ::1 at 2020-04-21 21:13:18 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"6DXpy2CTuM6/oSWAjfmV4UUkPkF/X62T9TUbjp2ZMNk0shu+Hc2NqUGpRl609zolF8CJTvaeKuGHcYzbnHFEFg==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 308ms (ActiveRecord: 0.5ms | Allocations: 2913)


Started GET "/" for ::1 at 2020-04-21 21:13:18 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 36ms (Views: 25.8ms | ActiveRecord: 3.8ms | Allocations: 12679)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:13:21 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (9.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (13.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 62.2ms | Allocations: 2914)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 14.8ms | Allocations: 674)
Completed 200 OK in 132ms (Views: 89.6ms | ActiveRecord: 26.2ms | Allocations: 13393)


Started GET "/friends" for ::1 at 2020-04-21 21:13:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (9.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 61ms (Views: 38.0ms | ActiveRecord: 12.0ms | Allocations: 13381)


Started GET "/logout" for ::1 at 2020-04-21 21:13:25 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 4.7ms | Allocations: 2415)


Started GET "/" for ::1 at 2020-04-21 21:13:25 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 336)


Started GET "/login" for ::1 at 2020-04-21 21:13:25 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 26.8ms | ActiveRecord: 0.0ms | Allocations: 10301)


Started POST "/login" for ::1 at 2020-04-21 21:13:30 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"mtmx7SZjNQeeuz6jpP6zR+Iy8vTfJV2nJblmVe3+Tx/D/dKP7jK9FHqCnSJHH+JoV6mQpBwA5R+wH592z53kwg==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 270ms (ActiveRecord: 1.0ms | Allocations: 2906)


Started GET "/" for ::1 at 2020-04-21 21:13:30 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.4ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 42ms (Views: 32.1ms | ActiveRecord: 4.5ms | Allocations: 12661)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:13:32 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 29.0ms | ActiveRecord: 4.6ms | Allocations: 13378)


Started GET "/users" for ::1 at 2020-04-21 21:13:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (5.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 75ms (Views: 39.7ms | ActiveRecord: 10.0ms | Allocations: 16380)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:13:41 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"68i+pNDXCR6Z05Ty3ia9MAqLyIgGfQvzd3Z2iYuSJCpEyCf0o94vUjP9Okdfg8+KXXk59m0K0o7JkFQXj90IGA==", "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 31ms (ActiveRecord: 3.1ms | Allocations: 7220)


Started GET "/friends" for ::1 at 2020-04-21 21:13:41 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 36.1ms | ActiveRecord: 3.1ms | Allocations: 13397)


Started GET "/friends" for ::1 at 2020-04-21 21:15:05 +0100
Processing by FriendshipsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 186)


Started GET "/login" for ::1 at 2020-04-21 21:15:05 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 684)
Completed 200 OK in 44ms (Views: 42.2ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/login" for ::1 at 2020-04-21 21:15:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"JeaV9JiNcXtSuCf1kBeOMAEgbcBs5j+Q7kg0uNW+MUIG9rwEyShGyoc43lGWlRWvVTcYQ8pjMcOEHgO3Za0r6A==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/friends
Completed 302 Found in 362ms (ActiveRecord: 1.5ms | Allocations: 2858)


Started GET "/friends" for ::1 at 2020-04-21 21:15:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (10.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 72ms (Views: 38.7ms | ActiveRecord: 16.4ms | Allocations: 13341)


Started GET "/friends" for ::1 at 2020-04-21 21:15:11 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.6ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 44.6ms | ActiveRecord: 2.6ms | Allocations: 13326)


Started GET "/logout" for ::1 at 2020-04-21 21:15:14 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.4ms | Allocations: 2355)


Started GET "/" for ::1 at 2020-04-21 21:15:14 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 284)


Started GET "/login" for ::1 at 2020-04-21 21:15:14 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.0ms | Allocations: 10243)


Started POST "/login" for ::1 at 2020-04-21 21:15:22 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"aaFH3cqB0tjHqSzacY538J6+jQQTs44gzuZKpQh/qsiqKOJgeNnoNZAFwV1H7znvjq4GoHoCnpBy9Tn9eT5/LQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 303ms (ActiveRecord: 1.0ms | Allocations: 2851)


Started GET "/" for ::1 at 2020-04-21 21:15:22 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 43ms (Views: 33.2ms | ActiveRecord: 4.8ms | Allocations: 12612)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:15:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.9ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 65ms (Views: 48.6ms | ActiveRecord: 4.5ms | Allocations: 13327)


Started GET "/users" for ::1 at 2020-04-21 21:15:32 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 33.3ms | ActiveRecord: 2.6ms | Allocations: 16316)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:15:37 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"KtpCy2xnqL/dA29HO8yR+l5cD1tpyYdf27KLW6nra4PcOKdyFbvdIfpLk7/9SuyGmxUrYboPg2KKlQPkwaFOCw==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 27ms (ActiveRecord: 3.3ms | Allocations: 7157)


Started GET "/friends" for ::1 at 2020-04-21 21:15:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.7ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 28.1ms | ActiveRecord: 3.0ms | Allocations: 13344)


Started GET "/logout" for ::1 at 2020-04-21 21:15:45 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 21:15:45 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-21 21:15:45 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.0ms | Allocations: 10243)


Started POST "/login" for ::1 at 2020-04-21 21:15:52 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"zgCV2E2TELBPJXGEEJgNdc7I3HjvR5Zravzv7yRzjE01w3yBXxV4GL6vcsWVuBTGntRigV+izQ6YozTZj7MT/w==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 391ms (ActiveRecord: 0.9ms | Allocations: 2852)


Started GET "/" for ::1 at 2020-04-21 21:15:52 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 8.0ms | Allocations: 663)
  [1m[36mPost Load (4.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 24.9ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 673)
Completed 200 OK in 69ms (Views: 46.8ms | ActiveRecord: 8.4ms | Allocations: 12617)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:15:54 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 56.8ms | Allocations: 2919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 123ms (Views: 95.4ms | ActiveRecord: 15.7ms | Allocations: 13455)


Started GET "/logout" for ::1 at 2020-04-21 21:15:57 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.9ms | Allocations: 2361)


Started GET "/" for ::1 at 2020-04-21 21:15:57 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-21 21:15:57 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.4ms | Allocations: 684)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 0.0ms | Allocations: 10246)


Started POST "/login" for ::1 at 2020-04-21 21:16:05 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"BooraBemdZq4oDxtNWPlDXYJGBgf79u97/76ivHqNGYuACbQqg9+o0n9vAemkwkSOpNxn/oN3jCsbxH2sq6gpw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 271ms (ActiveRecord: 0.8ms | Allocations: 2855)


Started GET "/" for ::1 at 2020-04-21 21:16:05 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 673)
Completed 200 OK in 37ms (Views: 28.7ms | ActiveRecord: 3.0ms | Allocations: 12622)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:16:08 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 6004)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.4ms | Allocations: 674)
Completed 200 OK in 74ms (Views: 54.4ms | ActiveRecord: 3.8ms | Allocations: 16335)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:16:13 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"WQnGm/sa4CVJ/dBd9snpS4frDjoXcq3lJiEGMATWbzoMdCw1k/7YSkuxh4Bw46ygkD+qXqJ1jS3FCxEiyXfSRQ==", "id"=>"3"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 30ms (ActiveRecord: 4.5ms | Allocations: 7172)


Started GET "/friends" for ::1 at 2020-04-21 21:16:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.8ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 45.1ms | ActiveRecord: 2.4ms | Allocations: 13341)


Started GET "/users" for ::1 at 2020-04-21 21:16:16 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 15.2ms | Allocations: 674)
Completed 200 OK in 59ms (Views: 47.8ms | ActiveRecord: 3.6ms | Allocations: 16321)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:16:19 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"BP1mPxG5a9bO47Vxah2uponJ7aI/2kMdS+TJJ8nbY3dZ00PTE6nq1x58xaAf+b3J5VMV0aqOyc3KbKfSLQlitw==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 31ms (ActiveRecord: 6.3ms | Allocations: 7172)


Started GET "/friends" for ::1 at 2020-04-21 21:16:19 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 34ms (Views: 25.3ms | ActiveRecord: 2.6ms | Allocations: 13342)


Started GET "/friends" for ::1 at 2020-04-21 21:16:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 38ms (Views: 28.8ms | ActiveRecord: 3.8ms | Allocations: 13325)


Started GET "/logout" for ::1 at 2020-04-21 21:16:24 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms | Allocations: 2352)


Started GET "/" for ::1 at 2020-04-21 21:16:24 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-21 21:16:24 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.9ms | Allocations: 684)
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/login" for ::1 at 2020-04-21 21:16:31 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"9Ax7YfEAP++oYDxtbxDRP2eC3u/hINahkJVXU/pw2tQ1Lix2ZFGhfWeFPIHVtsFa5pId8zZqXcIgFUrigri4Ag==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 264ms (ActiveRecord: 1.5ms | Allocations: 2850)


Started GET "/" for ::1 at 2020-04-21 21:16:31 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 6.6ms | Allocations: 663)
  [1m[36mPost Load (7.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 22.8ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 69ms (Views: 47.6ms | ActiveRecord: 17.3ms | Allocations: 12615)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:16:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 26.3ms | ActiveRecord: 3.6ms | Allocations: 13330)


Started GET "/logout" for ::1 at 2020-04-21 21:16:37 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms | Allocations: 2358)


Started GET "/" for ::1 at 2020-04-21 21:16:37 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-21 21:16:37 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.0ms | Allocations: 10241)


Started POST "/login" for ::1 at 2020-04-21 21:16:53 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"9qXJDEsvxitDqNu5GKxZFK7PkAawgOVJqpZlk67zS5+p1SWTaGMHOawfNLJUYfQGuDrE2AU8LV+8yVZyHmsjKA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 368ms (ActiveRecord: 1.1ms | Allocations: 4502)


Started GET "/" for ::1 at 2020-04-21 21:16:54 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.8ms | Allocations: 883)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 3205)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.2ms | Allocations: 1024)
Completed 200 OK in 114ms (Views: 105.4ms | ActiveRecord: 3.1ms | Allocations: 14709)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:16:56 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 64.8ms | Allocations: 3688)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 678)
Completed 200 OK in 120ms (Views: 108.8ms | ActiveRecord: 2.7ms | Allocations: 14788)


Started GET "/users" for ::1 at 2020-04-21 21:16:58 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 6565)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 680)
Completed 200 OK in 133ms (Views: 60.9ms | ActiveRecord: 16.3ms | Allocations: 17572)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:17:02 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"2kigMF8q0moU4IIhdoSRkWbHdoF79kjfMzdV+GdaYc6W9QL1xa2WCGCs4Z7jj9O2EWLbdOHhaWRNbTxCicKJyA==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 41ms (ActiveRecord: 5.1ms | Allocations: 7185)


Started GET "/friends" for ::1 at 2020-04-21 21:17:02 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 678)
Completed 200 OK in 46ms (Views: 30.4ms | ActiveRecord: 5.9ms | Allocations: 13358)


Started GET "/logout" for ::1 at 2020-04-21 21:17:04 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.6ms | Allocations: 2353)


Started GET "/" for ::1 at 2020-04-21 21:17:04 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 288)


Started GET "/login" for ::1 at 2020-04-21 21:17:04 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 17.2ms | Allocations: 618)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 36.2ms | Allocations: 2703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 685)
Completed 200 OK in 68ms (Views: 63.0ms | ActiveRecord: 0.0ms | Allocations: 12437)


Started POST "/login" for ::1 at 2020-04-21 21:17:11 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Uli6XMSGjRFYqg6h01ucYkU3T8z+og6PSDzGAb4cZrtg/EZ5h0F67yb6/M2MQ6hcN9wK7WO1xfS/3ja1hf7AVA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 7.6ms | Allocations: 2858)


Started GET "/" for ::1 at 2020-04-21 21:17:11 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 674)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2735)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 678)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 2.7ms | Allocations: 12635)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:17:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (8.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 2910)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 678)
Completed 200 OK in 116ms (Views: 86.5ms | ActiveRecord: 14.7ms | Allocations: 13341)


Started GET "/friends" for ::1 at 2020-04-21 21:19:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 3685)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 1025)
Completed 200 OK in 60ms (Views: 47.3ms | ActiveRecord: 3.1ms | Allocations: 15790)


Started GET "/friends" for ::1 at 2020-04-21 21:19:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (5.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 27.2ms | ActiveRecord: 9.4ms | Allocations: 13329)


Started GET "/users" for ::1 at 2020-04-21 21:19:26 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (12.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (14.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 78.3ms | Allocations: 6299)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 680)
Completed 200 OK in 177ms (Views: 129.5ms | ActiveRecord: 31.2ms | Allocations: 17304)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:19:31 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"4j64+A4eubt3BIoynNdIRRa96c3VercAi8Ypqk+79V9AV7JMeBLDmS3vLgRHMY+tDf182GZ1U+7vFABnbcohBg==", "id"=>"2"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 25ms (ActiveRecord: 3.8ms | Allocations: 7175)


Started GET "/friends" for ::1 at 2020-04-21 21:19:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 678)
Completed 200 OK in 38ms (Views: 25.2ms | ActiveRecord: 4.8ms | Allocations: 13363)


Started GET "/friends" for ::1 at 2020-04-21 21:26:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 3690)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 1025)
Completed 200 OK in 52ms (Views: 32.6ms | ActiveRecord: 7.4ms | Allocations: 15884)


Started GET "/friends" for ::1 at 2020-04-21 21:28:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 56.4ms | Allocations: 3689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 1025)
Completed 200 OK in 91ms (Views: 81.4ms | ActiveRecord: 3.8ms | Allocations: 15776)


Started GET "/friends" for ::1 at 2020-04-21 21:28:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 45ms (Views: 30.1ms | ActiveRecord: 4.9ms | Allocations: 13327)


Started GET "/users" for ::1 at 2020-04-21 21:28:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 25.3ms | Allocations: 6301)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 680)
Completed 200 OK in 62ms (Views: 42.4ms | ActiveRecord: 4.4ms | Allocations: 17304)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:28:35 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"kxYSEYdNTcb8pp3HeQkMsYhrCczXBGJ8OqF7ftjTTUQxfxil8UE35KZNOfGi78tZkyuc2WQLhpJec1Kz+qKZHQ==", "id"=>"2"}
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (19.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 52ms (ActiveRecord: 28.5ms | Allocations: 7185)


Started GET "/friends" for ::1 at 2020-04-21 21:28:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 678)
Completed 200 OK in 38ms (Views: 28.1ms | ActiveRecord: 4.5ms | Allocations: 13355)


Started GET "/logout" for ::1 at 2020-04-21 21:28:38 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 2.7ms | Allocations: 2354)


Started GET "/" for ::1 at 2020-04-21 21:28:38 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 283)


Started GET "/login" for ::1 at 2020-04-21 21:28:38 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 618)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 685)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.0ms | Allocations: 12593)


Started POST "/login" for ::1 at 2020-04-21 21:28:50 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"g4Hxyk09xB/u8h75m+58pjEZsDZ4co5v7cjNbhmShHM/Eed8zugsE7FaYqjm3Ttcf3wOVY9EsTSUIjRHqOP6zA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 318ms (ActiveRecord: 1.8ms | Allocations: 4313)


Started GET "/" for ::1 at 2020-04-21 21:28:50 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.6ms | Allocations: 883)
  [1m[36mPost Load (22.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 3221)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 678)
Completed 200 OK in 97ms (Views: 64.9ms | ActiveRecord: 25.2ms | Allocations: 13787)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:28:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 6122)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 678)
Completed 200 OK in 98ms (Views: 75.0ms | ActiveRecord: 8.2ms | Allocations: 26253)


Started GET "/users" for ::1 at 2020-04-21 21:28:55 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 6003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 680)
Completed 200 OK in 52ms (Views: 40.5ms | ActiveRecord: 5.7ms | Allocations: 16331)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:28:59 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"jkv7ecQxojE84uzz+T6W3P4+3hg1hQyNGxo0B7ZwQHGaF61QyilGZ+yc2fNq5fOcGOiW6u8f0GBQ+huJkIb2KA==", "id"=>"3"}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 33ms (ActiveRecord: 6.8ms | Allocations: 7166)


Started GET "/friends" for ::1 at 2020-04-21 21:28:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 35.3ms | ActiveRecord: 2.5ms | Allocations: 13345)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:29:05 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"X/eYAyy9dQH0B4oFgEsj6BmbAT9OSul+uVWnVTVlObG9qPUN+GLLMnCy/M2t9dlvhw6oHZ2ZbLVIkc060Lxicw==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 27ms (ActiveRecord: 3.1ms | Allocations: 7165)


Started GET "/friends" for ::1 at 2020-04-21 21:29:05 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 23.8ms | ActiveRecord: 3.5ms | Allocations: 13346)


Started GET "/logout" for ::1 at 2020-04-21 21:29:09 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms | Allocations: 2356)


Started GET "/" for ::1 at 2020-04-21 21:29:09 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 280)


Started GET "/login" for ::1 at 2020-04-21 21:29:09 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 685)
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.0ms | Allocations: 10259)


Started POST "/login" for ::1 at 2020-04-21 21:29:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"uKmZ5ivopOJiDk+GOCzqHTP1h6luyNGcbO3PFH/tUqnMGTjBMapC2Z9nuVySbOMpLfs2BVgQWhOXz1kDRtvlvw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 336ms (ActiveRecord: 2.3ms | Allocations: 2852)


Started GET "/" for ::1 at 2020-04-21 21:29:28 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.6ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.4ms | Allocations: 673)
Completed 200 OK in 72ms (Views: 57.9ms | ActiveRecord: 7.3ms | Allocations: 12614)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:29:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 26.2ms | ActiveRecord: 4.9ms | Allocations: 13334)


Started GET "/users" for ::1 at 2020-04-21 21:29:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 31.1ms | ActiveRecord: 2.2ms | Allocations: 16321)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:29:39 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"HELneMW2tt5QLp12kM8xZ3vgePf17CgSmqcNXdKNJQULHhtPaZcsjKr/eFjMjohEyioroBfK2V5QLjg/Q3Oarg==", "id"=>"2"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 32ms (ActiveRecord: 8.5ms | Allocations: 7168)


Started GET "/friends" for ::1 at 2020-04-21 21:29:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 34ms (Views: 25.4ms | ActiveRecord: 2.9ms | Allocations: 13349)


Started GET "/users" for ::1 at 2020-04-21 21:29:47 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 31.0ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.2ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 52.1ms | ActiveRecord: 4.6ms | Allocations: 16323)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:29:50 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"m5mAOYUQDzJN5VPejWyGuIryNOx5m2igGYe4oOle/VV3iEpgY3qAPXMXma5vVyHRak2M8vILSkuqL+aaZMiaug==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 27ms (ActiveRecord: 4.1ms | Allocations: 7163)


Started GET "/friends" for ::1 at 2020-04-21 21:29:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 38ms (Views: 26.4ms | ActiveRecord: 3.0ms | Allocations: 13335)


  [1m[36mFriendship Load (1.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFriendship Destroy (30.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 8]]
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 10]]
  [1m[35m (48.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFriendship Destroy (0.9ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 9]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 21:36:09 +0100
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 80.8ms | Allocations: 5858)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 21.8ms | Allocations: 1078)
Completed 200 OK in 4860ms (Views: 4516.6ms | ActiveRecord: 43.2ms | Allocations: 75943)


Started GET "/users" for ::1 at 2020-04-21 21:36:32 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 155.7ms | Allocations: 6704)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 680)
Completed 200 OK in 202ms (Views: 189.0ms | ActiveRecord: 3.2ms | Allocations: 17771)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:36:36 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"NOn4mwZlEUS9dNSw1lAKGFvv9wMz44VDEn7qBYXmO+AjtQSsqkSLFkelMZ6KEbM76iWkVNHFdA/Y999nFBiESw==", "id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (52.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 20:36:36.183112"], ["updated_at", "2020-04-21 20:36:36.183112"], ["status", "requested"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 191ms (ActiveRecord: 75.3ms | Allocations: 9565)


Started GET "/friends" for ::1 at 2020-04-21 21:36:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 2909)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.8ms | Allocations: 678)
Completed 200 OK in 75ms (Views: 59.8ms | ActiveRecord: 3.0ms | Allocations: 13362)


Started GET "/friends" for ::1 at 2020-04-21 21:36:40 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 87ms (Views: 68.8ms | ActiveRecord: 5.5ms | Allocations: 13325)


Started GET "/users" for ::1 at 2020-04-21 21:36:42 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 6003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 32.3ms | ActiveRecord: 4.2ms | Allocations: 16357)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:36:44 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"s8pQTZjOLVCDE0Fg3inA+KY7dA/Q6bBNiZ3egHd37ihf25oUfqSiX73hixA8EmeRRoTMEVt5kqY6NYC6+uGJxw==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 2240ms (ActiveRecord: 4.4ms | Allocations: 187006)


Started GET "/friends" for ::1 at 2020-04-21 21:36:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 26.1ms | ActiveRecord: 3.8ms | Allocations: 13353)


Started GET "/logout" for ::1 at 2020-04-21 21:36:49 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 101ms (ActiveRecord: 0.4ms | Allocations: 3360)


Started GET "/" for ::1 at 2020-04-21 21:36:50 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms | Allocations: 401)


Started GET "/login" for ::1 at 2020-04-21 21:36:50 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 737)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 265.0ms | Allocations: 3710)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 48.8ms | Allocations: 720)
Completed 200 OK in 344ms (Views: 341.8ms | ActiveRecord: 0.0ms | Allocations: 13652)


Started POST "/login" for ::1 at 2020-04-21 21:36:58 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"bdhp1AHw7YkTxorFpEhcNg0Bw2ieAcV8givu06goW7kJkGDqbrPZQFape3ev1BILfamO0BEhncFvW85E4JV6JA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 483ms (ActiveRecord: 1.1ms | Allocations: 5314)


Started GET "/" for ::1 at 2020-04-21 21:36:59 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 55.7ms | Allocations: 1367)
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 71.3ms | Allocations: 3717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 678)
Completed 200 OK in 101ms (Views: 90.3ms | ActiveRecord: 4.8ms | Allocations: 14308)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:37:05 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 6013)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 681)
Completed 200 OK in 54ms (Views: 35.3ms | ActiveRecord: 4.2ms | Allocations: 16417)


Started GET "/friends" for ::1 at 2020-04-21 21:37:07 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  Rendered friendships/index.html.erb within layouts/application (Duration: 35.9ms | Allocations: 7997)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 5.2ms | Allocations: 10618)


  
ActionView::Template::Error (undefined method `requested_friends' for #<Friendship::ActiveRecord_Associations_CollectionProxy:0x00007efdc02a2a78>
Did you mean?  require_dependency):
    62: 
    63: 
    64: <h2 class="has-text-centered is-size-2">Requested friends</h2>
    65:   <% @user.friendships.requested_friends.each do |requested_friend| %>
    66:     <div class="box">
    67:         <article class="media">
    68:           <div class="media-left">
  
app/views/friendships/index.html.erb:65
Started GET "/friends" for ::1 at 2020-04-21 21:37:43 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 32.9ms | Allocations: 7197)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 1025)
Completed 200 OK in 116ms (Views: 95.0ms | ActiveRecord: 6.0ms | Allocations: 19285)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 21:38:01 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"79fOTilblkX7+cAsG/keNuHGKLm/Cpn+2PBPsw78Septlr71N49lXTtsTPGCMxmc9sjZS/Odetbttdggvy1BUg==", "id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 11], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:38:01.779029"], ["id", 11]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 11], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:38:01.759174"], ["id", 11]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[35m (102.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 155ms (ActiveRecord: 108.9ms | Allocations: 12502)


Started GET "/friends" for ::1 at 2020-04-21 21:38:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 44.1ms | Allocations: 5525)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 118ms (Views: 80.1ms | ActiveRecord: 8.6ms | Allocations: 15980)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 21:38:05 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"4rbtlLEazskTlPGGGHiFKUMFL+Z019pFQfzqPJvjT8s4hWn2NJcmKRy3j+W3rlKqBGH53Qe9ZUSl87iswW89Hw==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Destroy (18.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 11]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Load (1.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:22:in `breakup'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 23.0ms | Allocations: 6642)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:24:in `block in breakup'
app/models/friendship.rb:22:in `breakup'
app/controllers/friendships_controller.rb:25:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 21:38:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 42.2ms | Allocations: 7279)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.8ms | Allocations: 679)
Completed 200 OK in 236ms (Views: 60.0ms | ActiveRecord: 42.5ms | Allocations: 38951)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 21:38:55 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"WTVMphB2IpEkEVa4MQ4DCZSytUdnSR+cRmDYmdSGFDiDBsjElfvKcSsyKNue2NSK09ZjfBQjoJ2ib4oJjgpm7A==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 11]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[35m (69.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:22:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 108ms (ActiveRecord: 75.3ms | Allocations: 8453)


Started GET "/friends" for ::1 at 2020-04-21 21:38:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 24.5ms | ActiveRecord: 3.5ms | Allocations: 13347)


Started GET "/users" for ::1 at 2020-04-21 21:38:59 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 6302)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 680)
Completed 200 OK in 48ms (Views: 34.4ms | ActiveRecord: 3.1ms | Allocations: 17409)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:39:04 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"If4i37H4rgbleGVGjsXV1ohwo9AMqEMoolUvmt14vP1bq4r3gZf5SJO9aCyw7UeWGHLF8wGYYwhvDoseHocPgQ==", "id"=>"3"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 20:39:04.903543"], ["updated_at", "2020-04-21 20:39:04.903543"], ["status", "requested"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 48ms (ActiveRecord: 21.6ms | Allocations: 6050)


Started GET "/friends" for ::1 at 2020-04-21 21:39:04 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 678)
Completed 200 OK in 40ms (Views: 29.4ms | ActiveRecord: 3.6ms | Allocations: 13353)


Started GET "/users" for ::1 at 2020-04-21 21:39:08 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 34.2ms | ActiveRecord: 3.4ms | Allocations: 16327)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:39:10 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"2m1WDr2lAKW/yVbAYLWItfA+nTvjTHHP+rZ0bmx3tc5T+BGHraip0MX6TiLfXImEjtPgPp5jhPUtQ/jp9WpMkA==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 20ms (ActiveRecord: 2.2ms | Allocations: 5599)


Started GET "/friends" for ::1 at 2020-04-21 21:39:10 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 31.8ms | ActiveRecord: 3.2ms | Allocations: 13347)


Started GET "/logout" for ::1 at 2020-04-21 21:39:12 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms | Allocations: 2868)


Started GET "/" for ::1 at 2020-04-21 21:39:13 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 386)


Started GET "/login" for ::1 at 2020-04-21 21:39:13 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 623)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.7ms | Allocations: 686)
Completed 200 OK in 38ms (Views: 36.0ms | ActiveRecord: 0.0ms | Allocations: 12614)


Started POST "/login" for ::1 at 2020-04-21 21:39:20 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"DlHF5/SNgR10jvyBVbcbjSomry4Q8C7iIM5yumN9X1Ey1rGQHD1L5fN2oq8kocPWJd4KhmnVGrjlXSDRCkw30w==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 290ms (ActiveRecord: 0.5ms | Allocations: 4333)


Started GET "/" for ::1 at 2020-04-21 21:39:20 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.7ms | Allocations: 941)
  [1m[36mPost Load (5.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 42ms (Views: 29.5ms | ActiveRecord: 6.8ms | Allocations: 13866)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:39:24 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (10.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 40.1ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 680)
Completed 200 OK in 79ms (Views: 52.8ms | ActiveRecord: 14.1ms | Allocations: 16329)


Started GET "/friends" for ::1 at 2020-04-21 21:39:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (5.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 2907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 678)
Completed 200 OK in 63ms (Views: 45.3ms | ActiveRecord: 8.5ms | Allocations: 13347)


Started GET "/friends" for ::1 at 2020-04-21 21:39:33 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 30.8ms | ActiveRecord: 4.8ms | Allocations: 13320)


Started GET "/users" for ::1 at 2020-04-21 21:39:34 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 55.7ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 144ms (Views: 132.5ms | ActiveRecord: 5.4ms | Allocations: 16321)


Started POST "/friends/create/2" for ::1 at 2020-04-21 21:39:42 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"T5fqd7Jk/IjThyj4FYXdgMl4QPhD0BKqpoehmRDY3qCsLZUmKuwbIcuQhtGHKCCRMbLPsqVtFWFQR2gmPNQD0Q==", "id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (11.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 20:39:42.067389"], ["updated_at", "2020-04-21 20:39:42.067389"], ["status", "requested"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 44ms (ActiveRecord: 27.8ms | Allocations: 5853)


Started GET "/friends" for ::1 at 2020-04-21 21:39:42 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 27.3ms | ActiveRecord: 3.0ms | Allocations: 13342)


Started GET "/users" for ::1 at 2020-04-21 21:39:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 38.5ms | ActiveRecord: 2.7ms | Allocations: 16319)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:39:52 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"80YSpC1Y3uGxAGlVBmzsVBb077JtQ+MPWTR14g0iNFVX1ySPOOgr5pRYCx5sjrZy18Od7CHKNKBtc7hKfZg06A==", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 33ms (ActiveRecord: 3.3ms | Allocations: 5534)


Started GET "/friends" for ::1 at 2020-04-21 21:39:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 33ms (Views: 24.6ms | ActiveRecord: 2.9ms | Allocations: 13346)


Started GET "/logout" for ::1 at 2020-04-21 21:39:54 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 2365)


Started GET "/" for ::1 at 2020-04-21 21:39:54 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-21 21:39:54 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 685)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.0ms | Allocations: 10253)


Started POST "/login" for ::1 at 2020-04-21 21:40:06 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"p4IMbpzWvmirp+NkEg9fCM/y1/UOL8kFHXOLgXIsAw8wWyDD1nmIdeSV7fQm3P7bdZmacCr9sl6zZ/kPsVvNGg==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 272ms (ActiveRecord: 1.0ms | Allocations: 2855)


Started GET "/" for ::1 at 2020-04-21 21:40:06 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 673)
Completed 200 OK in 43ms (Views: 36.6ms | ActiveRecord: 2.3ms | Allocations: 12605)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:40:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.3ms | Allocations: 6412)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 61ms (Views: 40.3ms | ActiveRecord: 9.9ms | Allocations: 16947)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 21:40:14 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"hBkmsC7nFVPzJVebvedBCwV1YT7cSPEnxrCtcbxmrFfN0gc5cSouGmucX7C3Q3kFz7M+aK8ibTVgurJBzSrGag==", "id"=>"2"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:40:15.023962"], ["id", 12]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:40:15.006410"], ["id", 12]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 62ms (ActiveRecord: 21.4ms | Allocations: 12473)


Started GET "/friends" for ::1 at 2020-04-21 21:40:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 32.8ms | ActiveRecord: 5.1ms | Allocations: 15964)


Started GET "/logout" for ::1 at 2020-04-21 21:40:19 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.6ms | Allocations: 2365)


Started GET "/" for ::1 at 2020-04-21 21:40:19 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 294)


Started GET "/login" for ::1 at 2020-04-21 21:40:19 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 684)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.0ms | Allocations: 10241)


Started POST "/login" for ::1 at 2020-04-21 21:40:26 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"YpnkWBQdd4inVLJsonCgnziXiXT0zWg1knrFfgwX5QD7iXVDUi/EuC+Fn7KSWMXl4bn4+sOqJQAytWmSrzbEUA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 1.6ms | Allocations: 2855)


Started GET "/" for ::1 at 2020-04-21 21:40:26 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 31ms (Views: 23.8ms | ActiveRecord: 3.0ms | Allocations: 12628)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:40:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 31.0ms | ActiveRecord: 3.0ms | Allocations: 13332)


Started GET "/logout" for ::1 at 2020-04-21 21:40:33 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.3ms | Allocations: 2356)


Started GET "/" for ::1 at 2020-04-21 21:40:33 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 283)


Started GET "/login" for ::1 at 2020-04-21 21:40:33 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 10240)


Started POST "/login" for ::1 at 2020-04-21 21:40:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"WgjD438gN9zaaTAhCze/ONKIRMVupDOCRHNYBW9rmswXzHyjKze3lcy2SnQOA4gNjYD/hJQmDsP5Iy+cy9TVhA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 304ms (ActiveRecord: 1.9ms | Allocations: 2852)


Started GET "/" for ::1 at 2020-04-21 21:40:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.7ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 673)
Completed 200 OK in 33ms (Views: 24.3ms | ActiveRecord: 3.9ms | Allocations: 12604)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:40:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 6400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 37.4ms | ActiveRecord: 6.6ms | Allocations: 16820)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 21:40:53 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"7h7RYoQWWDvxkuITFEV/mIF7YYrIT4AgcbnPdQBwqFglDO3Q5Mv9pUxR1LJJaVQxXvh8Ew4B+qsN+F+LGlYbUA==", "id"=>"1"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 13], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 20:40:53.431718"], ["id", 13]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 13], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 20:40:53.411401"], ["id", 13]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:30:in `accept_one_side'
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 80ms (ActiveRecord: 37.5ms | Allocations: 12143)


Started GET "/friends" for ::1 at 2020-04-21 21:40:53 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 32.2ms | ActiveRecord: 5.8ms | Allocations: 15966)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 21:41:28 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"7v8NMDFVD8HngzUA+dhO8NE3iZ8kCxvF3637k3XG9DxokCgTvmiBjTWY/o8dtqnPq+F4DqMPgY+IunVmhHhJ9g==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 13]]
  ↳ app/models/friendship.rb:23:in `block in breakup'
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:22:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 55ms (ActiveRecord: 30.0ms | Allocations: 5046)


Started GET "/friends" for ::1 at 2020-04-21 21:41:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.2ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 38.4ms | ActiveRecord: 4.1ms | Allocations: 13341)


Started GET "/logout" for ::1 at 2020-04-21 21:41:39 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2357)


Started GET "/" for ::1 at 2020-04-21 21:41:39 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 292)


Started GET "/login" for ::1 at 2020-04-21 21:41:40 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.2ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/login" for ::1 at 2020-04-21 21:41:43 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"wBtMxLlMrCp+OIuzaNWWw0yUmwEjWdx9yyE4/pbXnSaMAkRsmaIJ0S+7ifybt+kvdNAmtJsMqjYjjQ80+AyAWw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 312ms (ActiveRecord: 1.2ms | Allocations: 2848)


Started GET "/" for ::1 at 2020-04-21 21:41:43 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 673)
Completed 200 OK in 31ms (Views: 24.2ms | ActiveRecord: 2.2ms | Allocations: 12606)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:41:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (6.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (7.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 60.2ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.0ms | Allocations: 674)
Completed 200 OK in 129ms (Views: 102.7ms | ActiveRecord: 20.1ms | Allocations: 13340)


Started GET "/users" for ::1 at 2020-04-21 21:41:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 63ms (Views: 47.3ms | ActiveRecord: 4.6ms | Allocations: 16318)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:41:52 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"E4TN/uwUY/uYlBnXmg7RIlg5UQAD6qJiAOlHpDq5XgpYfEfPuheTLXYL7Pgsf709cWbFmjbW67AvfaNopjWzIQ==", "id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 26ms (ActiveRecord: 4.5ms | Allocations: 5543)


Started GET "/friends" for ::1 at 2020-04-21 21:41:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 27.8ms | ActiveRecord: 3.8ms | Allocations: 13349)


Started GET "/logout" for ::1 at 2020-04-21 21:41:54 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 53ms (ActiveRecord: 0.3ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 21:41:54 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-21 21:41:54 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.0ms | Allocations: 10244)


Started POST "/login" for ::1 at 2020-04-21 21:42:01 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"+Xl9bZ/II5Zk098caG/X7tH7lJ4zEjKyd80IpPAOdpi+84z/MNDWt2/wgPKtuzC1j2Deunjaa4dj++kfFHjWnA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (16.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 375ms (ActiveRecord: 16.5ms | Allocations: 2857)


Started GET "/" for ::1 at 2020-04-21 21:42:01 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.7ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 32ms (Views: 23.8ms | ActiveRecord: 2.4ms | Allocations: 12616)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 21:42:04 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 92ms (Views: 57.7ms | ActiveRecord: 8.9ms | Allocations: 16326)


Started GET "/friends" for ::1 at 2020-04-21 21:42:07 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 59ms (Views: 44.3ms | ActiveRecord: 2.6ms | Allocations: 13331)


Started GET "/logout" for ::1 at 2020-04-21 21:42:12 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2358)


Started GET "/" for ::1 at 2020-04-21 21:42:12 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 284)


Started GET "/login" for ::1 at 2020-04-21 21:42:12 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.0ms | Allocations: 10245)


Started POST "/login" for ::1 at 2020-04-21 21:42:22 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"JW62eFMPYAfeFqbRcK0LXm46dcxJL8/YbbBbyF9VZv62/t0zJH6aarDwcYvzMkIXyhtuFnXUr8EUJbHRLU74aA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 267ms (ActiveRecord: 6.4ms | Allocations: 2857)


Started GET "/" for ::1 at 2020-04-21 21:42:22 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (4.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 673)
Completed 200 OK in 60ms (Views: 42.5ms | ActiveRecord: 12.8ms | Allocations: 12612)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:42:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (5.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (10.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.3ms | Allocations: 674)
Completed 200 OK in 89ms (Views: 51.7ms | ActiveRecord: 19.5ms | Allocations: 13329)


Started GET "/users" for ::1 at 2020-04-21 21:42:27 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 34.1ms | ActiveRecord: 3.0ms | Allocations: 16326)


Started POST "/friends/create/3" for ::1 at 2020-04-21 21:42:31 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Nzkbc/qWdiEpN4Rd6VOWAjQj+X/mnjAszsNPlbiI6nUu6Mf5+WLk3BNDasToaVpXHrsTArL4f20G0XOJYipxIA==", "id"=>"3"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 27ms (ActiveRecord: 6.1ms | Allocations: 5535)


Started GET "/friends" for ::1 at 2020-04-21 21:42:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 2.9ms | Allocations: 13339)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:42:36 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"RQLmuQ3voGxzWLA8OVuIRcQp6eKXSsi5NS/2tfwMqjda7rypi0xLOvCieDoXVVJDfV5/9yBYFvC9ciqQJgOSlA==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 21ms (ActiveRecord: 5.5ms | Allocations: 5544)


Started GET "/friends" for ::1 at 2020-04-21 21:42:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 674)
Completed 200 OK in 34ms (Views: 24.5ms | ActiveRecord: 2.9ms | Allocations: 13344)


Started GET "/friends" for ::1 at 2020-04-21 21:42:38 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 675)
Completed 200 OK in 97ms (Views: 81.5ms | ActiveRecord: 3.1ms | Allocations: 13333)


Started GET "/logout" for ::1 at 2020-04-21 21:42:40 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 2.3ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 21:42:41 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-21 21:42:41 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 684)
Completed 200 OK in 30ms (Views: 28.4ms | ActiveRecord: 0.0ms | Allocations: 10240)


Started POST "/login" for ::1 at 2020-04-21 21:42:54 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"f/GzqfP/FBNXTfhnh4UzoZeV/fLfpJlqbP4HGlmwb2LfhyfDWFqflBeWWVSocKJJfoelsL4MCWC/8WJCtv4rrA==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 293ms (ActiveRecord: 0.6ms | Allocations: 2848)


Started GET "/" for ::1 at 2020-04-21 21:42:54 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 673)
Completed 200 OK in 33ms (Views: 25.2ms | ActiveRecord: 2.1ms | Allocations: 12611)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:42:56 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2909)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 38.9ms | ActiveRecord: 4.0ms | Allocations: 13453)


Started GET "/logout" for ::1 at 2020-04-21 21:43:00 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 21:43:00 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-21 21:43:00 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 10246)


Started POST "/login" for ::1 at 2020-04-21 21:43:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"FjMtRmiKE3ywMFnR52dCJ/+1jE5PxtVwJ16bQmRwhN2V+2RYi/EFQaP66CGs30t6bf0OJTtCVHcKAh1GN4xMhg==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 256ms (ActiveRecord: 1.5ms | Allocations: 2864)


Started GET "/" for ::1 at 2020-04-21 21:43:10 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 673)
Completed 200 OK in 35ms (Views: 27.1ms | ActiveRecord: 3.0ms | Allocations: 12626)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 21:58:26 +0100
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 87.7ms | Allocations: 5863)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 34.1ms | Allocations: 1079)
Completed 200 OK in 3809ms (Views: 3355.0ms | ActiveRecord: 30.8ms | Allocations: 75945)


Started GET "/users" for ::1 at 2020-04-21 21:58:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 110.4ms | Allocations: 6704)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 680)
Completed 200 OK in 142ms (Views: 130.1ms | ActiveRecord: 4.2ms | Allocations: 17819)


Started POST "/friends/create/1" for ::1 at 2020-04-21 21:58:39 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"875OSlpRA9uHCheltS9ryB2mynxefrPsWA9iWc7pooGOzjDbmvS0aV6fa4ftgDnxTC43rxkalVZQHiHYf1tKKQ==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.1ms | Allocations: 5785)


  
NoMethodError (undefined method `firendships' for #<User:0x00007f6f5c89e7e8>
Did you mean?  friendships
               friendships=):
  
app/controllers/friendships_controller.rb:14:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 21:59:19 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"875OSlpRA9uHCheltS9ryB2mynxefrPsWA9iWc7pooGOzjDbmvS0aV6fa4ftgDnxTC43rxkalVZQHiHYf1tKKQ==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
Completed 500 Internal Server Error in 622ms (ActiveRecord: 40.6ms | Allocations: 158715)


  
NameError (undefined local variable or method `friend' for #<FriendshipsController:0x00007f6f5c867130>
Did you mean?  @friend):
  
app/controllers/friendships_controller.rb:14:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 21:59:36 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"875OSlpRA9uHCheltS9ryB2mynxefrPsWA9iWc7pooGOzjDbmvS0aV6fa4ftgDnxTC43rxkalVZQHiHYf1tKKQ==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 20:59:36.832625"], ["updated_at", "2020-04-21 20:59:36.832625"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 2419ms (ActiveRecord: 68.4ms | Allocations: 216113)


Started GET "/friends" for ::1 at 2020-04-21 21:59:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 4647)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 680)
Completed 200 OK in 52ms (Views: 34.6ms | ActiveRecord: 6.0ms | Allocations: 15654)


Started GET "/logout" for ::1 at 2020-04-21 21:59:43 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 0.6ms | Allocations: 3377)


Started GET "/" for ::1 at 2020-04-21 21:59:44 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms | Allocations: 396)


Started GET "/login" for ::1 at 2020-04-21 21:59:44 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 3.0ms | Allocations: 737)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 146.9ms | Allocations: 3710)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.7ms | Allocations: 720)
Completed 200 OK in 190ms (Views: 188.2ms | ActiveRecord: 0.0ms | Allocations: 13652)


Started POST "/login" for ::1 at 2020-04-21 21:59:50 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"aueuyEsP3T2C7bL4vfptxiJvl6P3KXSEJzbXBG+Z3KypOrUlONu7OTVSlztapGXvcdHyYuEt5sbGZwKKxWL5Ug==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 547ms (ActiveRecord: 0.7ms | Allocations: 6914)


Started GET "/" for ::1 at 2020-04-21 21:59:50 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 60.7ms | Allocations: 1366)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 95.5ms | Allocations: 3717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 678)
Completed 200 OK in 127ms (Views: 118.6ms | ActiveRecord: 2.6ms | Allocations: 14310)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 21:59:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 2911)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 678)
Completed 200 OK in 43ms (Views: 27.7ms | ActiveRecord: 2.9ms | Allocations: 13337)


  [1m[36mFriendship Load (1.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFriendship Destroy (64.9ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 12]]
  [1m[36mFriendship Load (1.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFriendship Destroy (30.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 14]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 22:03:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.0ms | Allocations: 674)
Completed 200 OK in 280ms (Views: 271.4ms | ActiveRecord: 2.6ms | Allocations: 13327)


Started GET "/users" for ::1 at 2020-04-21 22:03:29 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 6010)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 680)
Completed 200 OK in 57ms (Views: 43.2ms | ActiveRecord: 4.6ms | Allocations: 16557)


Started POST "/friends/create/2" for ::1 at 2020-04-21 22:03:38 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"yLuHTNfrZf1SvA+qEmgUrOOgtQ1XE/7WNbdmNP7BIckjeIZodRhpfVwt7Zuabrto7iaLiUp8RFR93/BOusl6tg==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:03:38.174289"], ["updated_at", "2020-04-21 21:03:38.174289"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (1.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:03:38.207031"], ["updated_at", "2020-04-21 21:03:38.207031"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 71ms (ActiveRecord: 37.5ms | Allocations: 10252)


Started GET "/friends" for ::1 at 2020-04-21 22:03:38 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 674)
Completed 200 OK in 66ms (Views: 55.1ms | ActiveRecord: 2.1ms | Allocations: 13340)


  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/logout" for ::1 at 2020-04-21 22:04:24 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 0.3ms | Allocations: 2364)


Started GET "/" for ::1 at 2020-04-21 22:04:24 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 282)


Started GET "/login" for ::1 at 2020-04-21 22:04:24 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 207)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 22.6ms | Allocations: 1799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 685)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.0ms | Allocations: 10259)


Started POST "/login" for ::1 at 2020-04-21 22:04:33 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"gRMvq2gjqk0y6nT3XAzIVH5lhlR+DIjyW3DLaKXDwKqtessp+6HsS2KJiVaDVN+zwuku/CMXO+LJ+/n6hdLq3w==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 333ms (ActiveRecord: 2.0ms | Allocations: 2860)


Started GET "/" for ::1 at 2020-04-21 22:04:34 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 663)
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 673)
Completed 200 OK in 39ms (Views: 28.0ms | ActiveRecord: 3.6ms | Allocations: 12616)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:04:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 7462)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 674)
Completed 200 OK in 119ms (Views: 82.9ms | ActiveRecord: 23.6ms | Allocations: 24506)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 22:04:52 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"2n+sJzhQ6HPI+lWGnOU++HMDZKZIq4mWmkG0tY1ojUmzoSvqHXr4NIxjhoceYwsP5OjlJBrQzESBcCbSUbyuHg==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:04:52.840576"], ["id", 16]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 1], ["id", 16], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:04:52.817081"], ["id", 16]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:04:52.869166"], ["id", 15]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."id" != $2 LIMIT $3[0m  [["friend_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:04:52.817081"], ["id", 15]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 97ms (ActiveRecord: 26.0ms | Allocations: 19664)


Started GET "/friends" for ::1 at 2020-04-21 22:04:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 35.8ms | ActiveRecord: 4.4ms | Allocations: 15964)


  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 22:06:03 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"iNTQ/nzxtVCMwxmQ82OfEg4VbsL45TPQtWvEc+cRNn2L8xXOgjWrIOGud8WPYPJsTxr0YfzZpk8QLWiuql/OrA==", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 16]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 15]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (26.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 66ms (ActiveRecord: 31.4ms | Allocations: 6547)


Started GET "/friends" for ::1 at 2020-04-21 22:06:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 30.4ms | ActiveRecord: 3.3ms | Allocations: 13339)


  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 22:06:22 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 37.7ms | ActiveRecord: 4.7ms | Allocations: 16327)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:06:26 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"AC5IS7GVems6z9DfMLKDhZk3Cyh1CS1Ic1YW+dgZpA2Cj2RFp94t75OA5fCSy5ssYXQ2kkyEm6Y97f8MhpNXUg==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:06:26.522916"], ["updated_at", "2020-04-21 21:06:26.522916"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:06:26.550944"], ["updated_at", "2020-04-21 21:06:26.550944"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 59ms (ActiveRecord: 22.0ms | Allocations: 10256)


Started GET "/friends" for ::1 at 2020-04-21 22:06:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 59.4ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 92ms (Views: 81.3ms | ActiveRecord: 5.0ms | Allocations: 13341)


  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 22:06:42 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 6001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 41.0ms | ActiveRecord: 8.2ms | Allocations: 16330)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:06:47 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"+erEgCHh5ZwL7bm4XjaiKrm52zZgj0jHuhtl49zF/iYCtN74MUZHh6BAXtfDaeqYzzIyisjwYg9d2OwJ35oGRw==", "id"=>"3"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:06:47.383010"], ["updated_at", "2020-04-21 21:06:47.383010"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."friend_id" = $1 LIMIT $2[0m  [["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 75ms (ActiveRecord: 32.6ms | Allocations: 10258)


Started GET "/friends" for ::1 at 2020-04-21 22:06:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 41.9ms | ActiveRecord: 2.4ms | Allocations: 13344)


  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFriendship Destroy (21.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 17]]
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mFriendship Destroy (19.0ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 19]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Destroy (55.8ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 22:14:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 40.4ms | Allocations: 4456)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.3ms | Allocations: 679)
Completed 200 OK in 285ms (Views: 60.1ms | ActiveRecord: 9.4ms | Allocations: 35026)


Started GET "/users" for ::1 at 2020-04-21 22:14:25 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 680)
Completed 200 OK in 45ms (Views: 36.2ms | ActiveRecord: 2.9ms | Allocations: 16587)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:14:29 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"NGlmIafvnzJ6Kifb+s0NK8CjnG2mScf89vkNWGTqg2a2yEovsaTIttNlEvRYtBWCOOCh15/EcRK4QuStOmBwOQ==", "id"=>"1"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:14:29.435467"], ["updated_at", "2020-04-21 21:14:29.435467"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (1.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:14:29.487935"], ["updated_at", "2020-04-21 21:14:29.487935"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 127ms (ActiveRecord: 53.1ms | Allocations: 11424)


Started GET "/friends" for ::1 at 2020-04-21 22:14:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (5.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 69.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.9ms | Allocations: 674)
Completed 200 OK in 197ms (Views: 156.3ms | ActiveRecord: 11.8ms | Allocations: 13340)


  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 22:14:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 36.0ms | ActiveRecord: 3.4ms | Allocations: 16316)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:14:52 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"OB/RJQ4VV95KaqT78/L15p/pqxkDpmLjmzOwAxb4ymHDQctdHrL1xeHHQ5Rurb1U6WJCpavZSCt88DnpFacyAA==", "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:14:52.541988"], ["updated_at", "2020-04-21 21:14:52.541988"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (111.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:14:52.662775"], ["updated_at", "2020-04-21 21:14:52.662775"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 173ms (ActiveRecord: 141.6ms | Allocations: 7980)


Started GET "/friends" for ::1 at 2020-04-21 22:14:52 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 74ms (Views: 55.1ms | ActiveRecord: 12.9ms | Allocations: 13340)


  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/logout" for ::1 at 2020-04-21 22:16:21 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 2870)


Started GET "/" for ::1 at 2020-04-21 22:16:22 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 388)


Started GET "/login" for ::1 at 2020-04-21 22:16:22 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 686)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.0ms | Allocations: 10434)


Started POST "/login" for ::1 at 2020-04-21 22:16:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"rHTNNoINzW+zev1dJ8LX+5xog98CNvXYaEgBTbOwdHDDSIjcQ6MUABv5Jwl0AZ8kHD8Ir9kWpv25vemBlkREVA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 383ms (ActiveRecord: 0.9ms | Allocations: 2877)


Started GET "/" for ::1 at 2020-04-21 22:16:29 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.3ms | Allocations: 728)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 33ms (Views: 24.5ms | ActiveRecord: 2.8ms | Allocations: 12881)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:16:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (5.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (5.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 65.4ms | Allocations: 6414)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 107ms (Views: 79.5ms | ActiveRecord: 20.8ms | Allocations: 16958)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 22:16:55 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"+Lldot0IzGcGgqmeAkSQYtV5IXwCfQcsuM1XwBe/TJbPINPXQoioH59AjQcllFTik327MR8IZpdREZs6d4xiOQ==", "id"=>"2"}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:16:55.745919"], ["id", 23]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:16:55.728875"], ["id", 23]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:16:55.769668"], ["id", 22]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:16:55.728875"], ["id", 22]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 95ms (ActiveRecord: 36.4ms | Allocations: 15576)


Started GET "/friends" for ::1 at 2020-04-21 22:16:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.5ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 90ms (Views: 67.3ms | ActiveRecord: 6.9ms | Allocations: 15969)


  [1m[36mFriendship Load (1.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:17:33 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"M4tbJAIVw0RtTV2+22xgK8HDhOmDtwdeyZR18Uk8vR74D49+zMqtsre7KYDlLShU88kA7i2kpxtrrSUkOSWxWw==", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 23]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 22]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (38.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 64ms (ActiveRecord: 42.2ms | Allocations: 6521)


Started GET "/friends" for ::1 at 2020-04-21 22:17:33 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 27.5ms | ActiveRecord: 3.2ms | Allocations: 13343)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 22:18:08 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 35.8ms | ActiveRecord: 2.8ms | Allocations: 16321)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:18:13 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"pBz1BRsFLTcuz0bkXCYMqt+HmABsJkAU7YnB+3p+fv/APkiKTf7eGMO8wTz35tb7bN4xUjvVXDhOwFyvfJXMyg==", "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (19.1ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 21:18:13.323941"], ["updated_at", "2020-04-21 21:18:13.323941"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 21:18:13.373323"], ["updated_at", "2020-04-21 21:18:13.373323"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 80ms (ActiveRecord: 45.4ms | Allocations: 7984)


Started GET "/friends" for ::1 at 2020-04-21 22:18:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 34.5ms | ActiveRecord: 3.0ms | Allocations: 13344)


Started GET "/users" for ::1 at 2020-04-21 22:18:24 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.7ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 38.0ms | ActiveRecord: 3.7ms | Allocations: 16322)


Started POST "/friends/create/2" for ::1 at 2020-04-21 22:18:28 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"0oPzGPI8EPybbIRUnxc9qY5tRc7dIDDliMs3aG+T2I2ecbjEcK0mdBZbyL6y3ENqqe2bMb8vzRQp7RlRMqBHWQ==", "id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (6.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:18:28.746265"], ["updated_at", "2020-04-21 21:18:28.746265"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (1.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:18:28.787107"], ["updated_at", "2020-04-21 21:18:28.787107"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 113ms (ActiveRecord: 32.8ms | Allocations: 7978)


Started GET "/friends" for ::1 at 2020-04-21 22:18:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 43.5ms | ActiveRecord: 3.0ms | Allocations: 13342)


Started GET "/friends" for ::1 at 2020-04-21 22:18:32 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 31.6ms | ActiveRecord: 3.4ms | Allocations: 13324)


Started GET "/logout" for ::1 at 2020-04-21 22:18:35 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (12.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 12.0ms | Allocations: 2376)


Started GET "/" for ::1 at 2020-04-21 22:18:35 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 281)


Started GET "/login" for ::1 at 2020-04-21 22:18:35 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 159.3ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 684)
Completed 200 OK in 178ms (Views: 176.6ms | ActiveRecord: 0.0ms | Allocations: 10237)


Started POST "/login" for ::1 at 2020-04-21 22:18:46 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"zzrXFu5NPOQc2LmghSoogG/dLdGeR8Kb5YsFGUFgpn9ajlRkq4D2eSJINZcytjzQllrY1r28Y1NEGGK2Jrg2rw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 321ms (ActiveRecord: 0.9ms | Allocations: 2859)


Started GET "/" for ::1 at 2020-04-21 22:18:47 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.3ms | Allocations: 663)
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 673)
Completed 200 OK in 57ms (Views: 49.8ms | ActiveRecord: 2.7ms | Allocations: 12632)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:18:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (9.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 81.7ms | Allocations: 10689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 117ms (Views: 80.8ms | ActiveRecord: 19.0ms | Allocations: 21668)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 22:18:56 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"D5f+LR1oC67kmze9P2XjMaScvR3a+/k6TBQSzes4VMObSLzN99lip8NuXMKR0ZB/Mx7A07iqpyDnDF4brt83lA==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:18:56.254084"], ["id", 27]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:18:56.229044"], ["id", 27]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:18:56.278159"], ["id", 26]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:18:56.229044"], ["id", 26]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 101ms (ActiveRecord: 36.4ms | Allocations: 15238)


Started GET "/friends" for ::1 at 2020-04-21 22:18:56 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 45.7ms | ActiveRecord: 4.3ms | Allocations: 15960)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 22:19:02 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"TKO3dGYbjRHTwZ4iBnKd2TxTedHi8LJ9DIdcGOUxW1D7kyc2/BnJQGD3auUsqyTDZ0yoPP480hXGU5O46dAz7Q==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (7.1ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 27]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 26]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 63ms (ActiveRecord: 21.1ms | Allocations: 6456)


Started GET "/friends" for ::1 at 2020-04-21 22:19:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 3.4ms | Allocations: 13345)


Started GET "/friends" for ::1 at 2020-04-21 22:19:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 39.7ms | ActiveRecord: 2.5ms | Allocations: 13327)


Started GET "/users" for ::1 at 2020-04-21 22:19:11 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 74ms (Views: 58.4ms | ActiveRecord: 5.8ms | Allocations: 16321)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:19:15 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"vqEL3MxGSOt8TJ7tC5ubPhL9sd0Sv/cCQmLG5Q048CC3okJaJlvkPgTDGbZD+lGSwpxWhZiff7ll0atLdiBJ0g==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (8.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:19:15.893739"], ["updated_at", "2020-04-21 21:19:15.893739"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:19:15.930556"], ["updated_at", "2020-04-21 21:19:15.930556"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 76ms (ActiveRecord: 42.9ms | Allocations: 7976)


Started GET "/friends" for ::1 at 2020-04-21 22:19:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 2.9ms | Allocations: 13334)


Started GET "/users" for ::1 at 2020-04-21 22:19:18 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 82ms (Views: 66.0ms | ActiveRecord: 2.8ms | Allocations: 16327)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:19:21 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"qwNymsk0phY/IdFrZof8Lq4oAm+8GUweaWz/aWjDLrUVgmPiTtKzjcb1ag69skRHIupavEtKsPifVA+89VkVXA==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:19:21.383253"], ["updated_at", "2020-04-21 21:19:21.383253"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:19:21.414108"], ["updated_at", "2020-04-21 21:19:21.414108"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 65ms (ActiveRecord: 36.8ms | Allocations: 7982)


Started GET "/friends" for ::1 at 2020-04-21 22:19:21 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 35.1ms | ActiveRecord: 2.6ms | Allocations: 13356)


Started GET "/users" for ::1 at 2020-04-21 22:19:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.3ms | Allocations: 674)
Completed 200 OK in 63ms (Views: 46.9ms | ActiveRecord: 3.2ms | Allocations: 16326)


Started GET "/logout" for ::1 at 2020-04-21 22:19:57 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 0.8ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 22:19:57 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 285)


Started GET "/login" for ::1 at 2020-04-21 22:19:57 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 27.3ms | ActiveRecord: 0.0ms | Allocations: 10245)


Started POST "/login" for ::1 at 2020-04-21 22:20:04 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"aqVOZ8TCf1A6UIvdgLGD8b+cNBumywK52qty/LTJ5LpTC5tFzNZV2YOPdZXNx/DBu8OZB28NSM+6VwQrYad1zA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 289ms (ActiveRecord: 0.6ms | Allocations: 2853)


Started GET "/" for ::1 at 2020-04-21 22:20:04 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.7ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.8ms | Allocations: 673)
Completed 200 OK in 45ms (Views: 34.8ms | ActiveRecord: 4.8ms | Allocations: 12609)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:20:07 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 46.5ms | Allocations: 6400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 124ms (Views: 69.1ms | ActiveRecord: 5.7ms | Allocations: 16836)


Started GET "/logout" for ::1 at 2020-04-21 22:20:18 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.0ms | Allocations: 2362)


Started GET "/" for ::1 at 2020-04-21 22:20:18 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 293)


Started GET "/login" for ::1 at 2020-04-21 22:20:18 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 684)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.0ms | Allocations: 10246)


Started POST "/login" for ::1 at 2020-04-21 22:20:23 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"58grroyddnEvq3pTJGNV+Vz2QrFnOZFPup47BwdRfIkJmAkaZW/qOnZggEpwYxeBRNJESQeVuNxgStbJqWI+kg==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 400ms (ActiveRecord: 1.3ms | Allocations: 2859)


Started GET "/" for ::1 at 2020-04-21 22:20:24 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.8ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 673)
Completed 200 OK in 40ms (Views: 29.8ms | ActiveRecord: 4.8ms | Allocations: 12629)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:20:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 46.3ms | Allocations: 13333)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 83ms (Views: 57.6ms | ActiveRecord: 8.2ms | Allocations: 23872)


  [1m[36mFriendship Load (22.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started PUT "/friends/accept/2" for ::1 at 2020-04-21 22:22:09 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"foFfpJudr0NLm9zTokeI5hi78/0DcDdH+5qE4QY7nJO2BtgjVRMOl9vfo2Wyis3LCGQioWoMuHDpA7qVPryKqQ==", "id"=>"2"}
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:09.273456"], ["id", 21]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:09.290281"], ["id", 31]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:09.221197"], ["id", 21]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:09.221197"], ["id", 31]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:09.322572"], ["id", 20]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:09.337968"], ["id", 30]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:09.221197"], ["id", 20]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:09.221197"], ["id", 30]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 165ms (ActiveRecord: 29.9ms | Allocations: 46490)


Started GET "/friends" for ::1 at 2020-04-21 22:22:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 36.5ms | Allocations: 11059)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 75ms (Views: 62.0ms | ActiveRecord: 5.7ms | Allocations: 21503)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:22:22 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"yj6lpu5PWvK5kCXiuwOah9PCrLTfjdyK5sIG9BHdoC/SNmQF3/tvlZWFYFxzePITJ9l+yCbZB8fYGTVyPttY7g==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 21]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (1.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 20]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (13.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 53ms (ActiveRecord: 18.7ms | Allocations: 6460)


Started GET "/friends" for ::1 at 2020-04-21 22:22:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 7135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 41.5ms | ActiveRecord: 5.0ms | Allocations: 17573)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 22:22:27 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"QwMDIVt2RFAaa3A5HsbTOIUCncQnDZ6DD661sY6S8PRPWeprDnCovSMqNUwiUyJe6KXgVcOVCT5xg+Guy/UWKw==", "id"=>"3"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:27.117872"], ["id", 25]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:27.093062"], ["id", 25]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:22:27.141366"], ["id", 24]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:22:27.093062"], ["id", 24]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 98ms (ActiveRecord: 23.6ms | Allocations: 15242)


Started GET "/friends" for ::1 at 2020-04-21 22:22:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (28.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 92.8ms | Allocations: 9524)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 167ms (Views: 78.5ms | ActiveRecord: 43.5ms | Allocations: 19969)


Started GET "/friends" for ::1 at 2020-04-21 22:23:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 37.3ms | Allocations: 9524)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 95ms (Views: 81.6ms | ActiveRecord: 5.6ms | Allocations: 19953)


  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 22:28:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 39.4ms | Allocations: 9532)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 84ms (Views: 61.4ms | ActiveRecord: 8.7ms | Allocations: 20065)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 22:29:27 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"tD9Kn3Ez2Sz3r29TcHdBRfUfyJeUwUVqQtG3+waMulOiMKzmYj91p/U3pnwnL6hjtag5E0hk7FffBhzufTnlNg==", "id"=>"3"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (3.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 25]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 24]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (13.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 51ms (ActiveRecord: 22.3ms | Allocations: 6482)


Started GET "/friends" for ::1 at 2020-04-21 22:29:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 45ms (Views: 33.8ms | ActiveRecord: 4.9ms | Allocations: 15964)


Started GET "/users" for ::1 at 2020-04-21 22:29:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 37.0ms | ActiveRecord: 5.8ms | Allocations: 12409)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:29:35 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"zpYIPcf8RahxfiT7G9BcZZK8B/mnb56FAFusPVpXSlggDN6/VttcYrinjOIvMW0f1oUQC0Ft0NQ7xrTE0xbmsw==", "id"=>"3"}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[36mFriendship Create (39.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 21:29:36.002491"], ["updated_at", "2020-04-21 21:29:36.002491"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (63.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:14:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 21:29:36.144534"], ["updated_at", "2020-04-21 21:29:36.144534"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 209ms (ActiveRecord: 116.0ms | Allocations: 7978)


Started GET "/friends" for ::1 at 2020-04-21 22:29:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 83ms (Views: 62.0ms | ActiveRecord: 3.6ms | Allocations: 15966)


Started GET "/users" for ::1 at 2020-04-21 22:29:38 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2084)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 26.8ms | ActiveRecord: 2.7ms | Allocations: 12406)


Started GET "/users" for ::1 at 2020-04-21 22:29:49 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2084)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.5ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 27.4ms | ActiveRecord: 2.1ms | Allocations: 12403)


Started GET "/friends" for ::1 at 2020-04-21 22:29:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 65ms (Views: 50.3ms | ActiveRecord: 3.1ms | Allocations: 15950)


Started GET "/logout" for ::1 at 2020-04-21 22:29:56 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms | Allocations: 2364)


Started GET "/" for ::1 at 2020-04-21 22:29:56 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 287)


Started GET "/login" for ::1 at 2020-04-21 22:29:56 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 684)
Completed 200 OK in 28ms (Views: 26.3ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/login" for ::1 at 2020-04-21 22:30:04 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"JO0kaUZYUGeQgVeUS+MzGfvR61Q3NVcmLjDNeGjPF0QTDCSl1HQKXIuc3QVwM5pReTWnj2TSAGl+V83vWNlGMA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 325ms (ActiveRecord: 2.4ms | Allocations: 2858)


Started GET "/" for ::1 at 2020-04-21 22:30:04 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.7ms | Allocations: 663)
  [1m[36mPost Load (2.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 673)
Completed 200 OK in 37ms (Views: 28.4ms | ActiveRecord: 4.3ms | Allocations: 12630)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:30:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 41.3ms | Allocations: 10553)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.2ms | Allocations: 674)
Completed 200 OK in 71ms (Views: 54.2ms | ActiveRecord: 10.5ms | Allocations: 21092)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 22:30:21 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Mqcd5y1pZsLHXN/Lxdo2tbG/W3jNr12j6kjCWD/t3xCYlWd3THfmXj5ZJTt51uQ+ZBhK87bNDfzoyGvkrfE2hQ==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:30:21.496086"], ["id", 33]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:30:21.482104"], ["id", 33]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:30:21.517014"], ["id", 32]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:30:21.482104"], ["id", 32]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 94ms (ActiveRecord: 40.1ms | Allocations: 15256)


Started GET "/friends" for ::1 at 2020-04-21 22:30:21 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 7135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 42.5ms | ActiveRecord: 4.9ms | Allocations: 17577)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 22:30:24 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"ycEbyikRC8hYvPiPncGN357e2b+xjFjT8E3DuaQ8rWax04mHeQo8x9LvzSko8UMcusAEHWYV9cl5tiHoeaYtgQ==", "id"=>"2"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:46:in `find_user'
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:30:24.244339"], ["id", 29]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:30:24.220019"], ["id", 29]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:30:24.264766"], ["id", 28]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:30:24.220019"], ["id", 28]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 90ms (ActiveRecord: 40.2ms | Allocations: 15245)


Started GET "/friends" for ::1 at 2020-04-21 22:30:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.4ms | Allocations: 9524)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 41.3ms | ActiveRecord: 5.3ms | Allocations: 19962)


Started GET "/friends" for ::1 at 2020-04-21 22:30:32 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 39.1ms | Allocations: 9524)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 64ms (Views: 54.6ms | ActiveRecord: 4.4ms | Allocations: 19950)


Started GET "/logout" for ::1 at 2020-04-21 22:30:37 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 1.8ms | Allocations: 2359)


Started GET "/" for ::1 at 2020-04-21 22:30:37 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 284)


Started GET "/login" for ::1 at 2020-04-21 22:30:37 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.0ms | Allocations: 10248)


Started POST "/login" for ::1 at 2020-04-21 22:30:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"WyzsDws3IcfVONIu8n+RIuzd5etx9S0Gn/2oV/Pj1C7cu7LA642Wg5eYiBZIlUc+QBjfKLSK3vYFba66TfgtEw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 515ms (ActiveRecord: 0.6ms | Allocations: 2865)


Started GET "/" for ::1 at 2020-04-21 22:30:43 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.2ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 673)
Completed 200 OK in 43ms (Views: 34.4ms | ActiveRecord: 4.1ms | Allocations: 12640)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:30:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (4.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 72.8ms | Allocations: 9527)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.5ms | Allocations: 674)
Completed 200 OK in 130ms (Views: 102.0ms | ActiveRecord: 15.2ms | Allocations: 19950)


Started GET "/logout" for ::1 at 2020-04-21 22:30:51 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 0.4ms | Allocations: 2354)


Started GET "/" for ::1 at 2020-04-21 22:30:51 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-04-21 22:30:51 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 684)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 10245)


Started POST "/login" for ::1 at 2020-04-21 22:30:56 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"FzIjuqQE1nOP1ebJzdD87oHwoVK5BGYz5WaeYpjqcFWcjQ3RYjennE1lvZBFgV0sWgBllhn+u4Nd64LVCcZ7WQ==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 253ms (ActiveRecord: 1.5ms | Allocations: 2854)


Started GET "/" for ::1 at 2020-04-21 22:30:56 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2725)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 673)
Completed 200 OK in 40ms (Views: 31.6ms | ActiveRecord: 2.5ms | Allocations: 12607)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:30:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (3.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 69.6ms | Allocations: 9545)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.8ms | Allocations: 674)
Completed 200 OK in 128ms (Views: 98.6ms | ActiveRecord: 14.3ms | Allocations: 20083)


Started GET "/logout" for ::1 at 2020-04-21 22:31:44 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.0ms | Allocations: 2363)


Started GET "/" for ::1 at 2020-04-21 22:31:44 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 284)


Started GET "/login" for ::1 at 2020-04-21 22:31:44 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 684)
Completed 200 OK in 38ms (Views: 36.4ms | ActiveRecord: 0.0ms | Allocations: 10244)


Started POST "/login" for ::1 at 2020-04-21 22:37:30 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"L+csmM6Jka4oHTZip0140az8ciUSChm1JMMe8Pe4Ic26YJSI+Wamkwy4Q1ElncupyTM/Zq50jCfSezfL0Tr7nw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 372ms (ActiveRecord: 1.5ms | Allocations: 20315)


Started GET "/" for ::1 at 2020-04-21 22:37:33 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.6ms | Allocations: 730)
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 5249)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 679)
Completed 200 OK in 57ms (Views: 43.0ms | ActiveRecord: 4.6ms | Allocations: 15342)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:37:38 +0100
  
SyntaxError (/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/controllers/friendships_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting do or '{' or '('
...er_one !=  @friend && no colums present
...                         ^~~~~~
/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/controllers/friendships_controller.rb:18: else without rescue is useless
    else
    ^~~~
/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/controllers/friendships_controller.rb:48: syntax error, unexpected end, expecting end-of-input):
  
app/controllers/friendships_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting do or '{' or '('
app/controllers/friendships_controller.rb:18: else without rescue is useless
app/controllers/friendships_controller.rb:48: syntax error, unexpected end, expecting end-of-input
app/controllers/friendships_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting do or '{' or '('
app/controllers/friendships_controller.rb:18: else without rescue is useless
app/controllers/friendships_controller.rb:48: syntax error, unexpected end, expecting end-of-input
app/controllers/friendships_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting do or '{' or '('
app/controllers/friendships_controller.rb:18: else without rescue is useless
app/controllers/friendships_controller.rb:48: syntax error, unexpected end, expecting end-of-input
Started GET "/friends" for ::1 at 2020-04-21 22:52:18 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (21.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 103.8ms | Allocations: 11090)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 14.9ms | Allocations: 679)
Completed 200 OK in 858ms (Views: 530.4ms | ActiveRecord: 27.9ms | Allocations: 41524)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 22:52:30 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"ffDekyytokgMlIZ1ZaTFQ6+UcUagR6sLuoCH29pEla34yvq0L/xxbuVznd5FMkS4J+cnE9Kna2uEjrFjU12p7g==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (60.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (18.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 30]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.9ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 31]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (49.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 170ms (ActiveRecord: 131.5ms | Allocations: 9871)


Started GET "/friends" for ::1 at 2020-04-21 22:52:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 37.3ms | ActiveRecord: 4.2ms | Allocations: 15972)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 22:52:35 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"PuU0bas42EihgYudo54mp/AyxbJCVWB2FnPx7gP0pdliiVnS1ApQj4/nd9G+ipVuqYi8bN2lKt1l2sb3x+OKcA==", "id"=>"3"}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.9ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 28]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 29]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (19.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 46ms (ActiveRecord: 28.3ms | Allocations: 6454)


Started GET "/friends" for ::1 at 2020-04-21 22:52:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 34ms (Views: 24.3ms | ActiveRecord: 3.2ms | Allocations: 13340)


Started GET "/users" for ::1 at 2020-04-21 22:52:39 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 680)
Completed 200 OK in 40ms (Views: 28.9ms | ActiveRecord: 3.3ms | Allocations: 16593)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:52:43 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"8UkAIseD/i5/8durzYeMN3LVoQyoZUluYR7jPKrApovXOvequQC1ASUFBs4/rnj6V65TaGQLVdZcChOOGmODsQ==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.9ms | Allocations: 5674)


  
NoMethodError (undefined method `friendship' for #<User:0x00007f6f50582cf0>
Did you mean?  friendships
               friendships=
               friends
               friends=):
  
app/controllers/friendships_controller.rb:13:in `create'
Started GET "/users" for ::1 at 2020-04-21 22:53:04 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 41.1ms | Allocations: 7741)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 681)
Completed 200 OK in 348ms (Views: 52.7ms | ActiveRecord: 205.9ms | Allocations: 38913)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:53:08 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"v0tvmFL4xZijqp95IIeG8ySCPbn1NMTBzwF/JR32AAqZOJgQLHuOt/leQhzSrnI+AfnP3Tla2HnyFY+XrVUlMA==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 12ms (ActiveRecord: 1.7ms | Allocations: 3542)


Started GET "/friends" for ::1 at 2020-04-21 22:53:08 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 2914)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 678)
Completed 200 OK in 50ms (Views: 39.0ms | ActiveRecord: 2.8ms | Allocations: 13552)


Started GET "/users" for ::1 at 2020-04-21 22:53:14 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 52.3ms | Allocations: 6002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.0ms | Allocations: 674)
Completed 200 OK in 91ms (Views: 79.2ms | ActiveRecord: 3.3ms | Allocations: 16327)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:53:20 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"GivLHbsZdQzcB7aDyHtdWMcbIxcAcE0k5wm+HM3ChhmGX7gk1hkA+1zTic0f1d/W8z/mb3ltT8YQE/rO4cQujA==", "id"=>"3"}
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 19ms (ActiveRecord: 9.2ms | Allocations: 3291)


Started GET "/friends" for ::1 at 2020-04-21 22:53:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 28.8ms | ActiveRecord: 2.5ms | Allocations: 13345)


  [1m[36mFriendship Destroy (157.3ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (29.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 22:54:05 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 34.6ms | ActiveRecord: 2.7ms | Allocations: 13328)


Started GET "/users" for ::1 at 2020-04-21 22:54:07 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 69ms (Views: 52.2ms | ActiveRecord: 2.0ms | Allocations: 16325)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:54:10 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"2f9Sr4TK1SCnR6gHHdVHwwN34VbEF878p8aWb9UvACL/jKUn+kmeD/2zdWLv/LMOJgwTMgh50kSa0mbdZYwlGA==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 17ms (ActiveRecord: 2.3ms | Allocations: 3299)


Started GET "/friends" for ::1 at 2020-04-21 22:54:11 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 2.6ms | Allocations: 13339)


Started GET "/friends" for ::1 at 2020-04-21 22:54:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 4637)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 679)
Completed 200 OK in 143ms (Views: 31.8ms | ActiveRecord: 23.1ms | Allocations: 35913)


Started GET "/users" for ::1 at 2020-04-21 22:54:32 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 46.5ms | Allocations: 6010)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 680)
Completed 200 OK in 73ms (Views: 63.9ms | ActiveRecord: 2.5ms | Allocations: 16599)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:54:34 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"JF0lFER+P4MMo1wQpCeDZkiBI7rHrcTjagmspPsgoEoCLtKcOv10rFZXgXVWDnerbfrR3gvD2FtXHVwWS4OFcA==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 21ms (ActiveRecord: 2.1ms | Allocations: 3442)


Started GET "/friends" for ::1 at 2020-04-21 22:54:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 26.6ms | ActiveRecord: 2.4ms | Allocations: 13343)


Started GET "/friends" for ::1 at 2020-04-21 22:54:53 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 4637)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.9ms | Allocations: 679)
Completed 200 OK in 155ms (Views: 46.8ms | ActiveRecord: 27.4ms | Allocations: 35958)


Started GET "/users" for ::1 at 2020-04-21 22:54:55 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 35.3ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 680)
Completed 200 OK in 105ms (Views: 67.6ms | ActiveRecord: 8.9ms | Allocations: 16597)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:54:59 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"OyrnUfkieOyufUhV+awcX7Itnr9T3Wi2/Z1C5h9vd/EdWRDZh6Ezw/SJlTALheiSl1Zs25+zdA7AibJUr8xSyw==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (33.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:54:59.155907"], ["updated_at", "2020-04-21 21:54:59.155907"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:54:59.220810"], ["updated_at", "2020-04-21 21:54:59.220810"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (13.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:54:59.241154"], ["updated_at", "2020-04-21 21:54:59.241154"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 157ms (ActiveRecord: 105.5ms | Allocations: 14067)


Started GET "/friends" for ::1 at 2020-04-21 22:54:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.0ms | Allocations: 674)
Completed 200 OK in 73ms (Views: 56.2ms | ActiveRecord: 2.2ms | Allocations: 13337)


Started GET "/users" for ::1 at 2020-04-21 22:55:01 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (2.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 47.7ms | Allocations: 6002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 91ms (Views: 68.9ms | ActiveRecord: 6.1ms | Allocations: 16328)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:55:04 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"IUjPfRHQ3ljseRAhUsPsnKTK489d9WOQuMlvAJmgkSG9PLxEfNCrr2ytL2+FbW4SkO4mtyToYXJP0yvStaY5tA==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:55:04.811297"], ["updated_at", "2020-04-21 21:55:04.811297"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:55:04.835911"], ["updated_at", "2020-04-21 21:55:04.835911"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:55:04.856873"], ["updated_at", "2020-04-21 21:55:04.856873"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 84ms (ActiveRecord: 43.0ms | Allocations: 10589)


Started GET "/friends" for ::1 at 2020-04-21 22:55:04 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 38ms (Views: 29.9ms | ActiveRecord: 3.1ms | Allocations: 13345)


Started GET "/logout" for ::1 at 2020-04-21 22:55:16 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 2862)


Started GET "/" for ::1 at 2020-04-21 22:55:17 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 393)


Started GET "/login" for ::1 at 2020-04-21 22:55:17 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 22.6ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 686)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 0.0ms | Allocations: 10435)


Started POST "/login" for ::1 at 2020-04-21 22:55:20 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"w2GwwrRjqZOz7GqwZX2OG47+hJUorHywuLdOOP4plf7AnFBH7ygtYNcFaZaoDt4xEb4jb8KrQEo/W+Xl/0J44w==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 293ms (ActiveRecord: 0.7ms | Allocations: 2877)


Started GET "/" for ::1 at 2020-04-21 22:55:21 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.4ms | Allocations: 728)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 36ms (Views: 27.5ms | ActiveRecord: 3.0ms | Allocations: 12875)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:55:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 3030)
Started GET "/friends" for ::1 at 2020-04-21 22:55:23 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendering friendships/index.html.erb within layouts/application
  Rendered shared/_nav.html.erb (Duration: 1.7ms | Allocations: 674)
Completed 200 OK in 206ms (Views: 192.9ms | ActiveRecord: 5.1ms | Allocations: 44812)


  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (13.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 8731)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 85ms (Views: 57.1ms | ActiveRecord: 16.2ms | Allocations: 27755)


Started GET "/users" for ::1 at 2020-04-21 22:55:25 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.4ms | Allocations: 674)
Completed 200 OK in 94ms (Views: 79.2ms | ActiveRecord: 9.0ms | Allocations: 16323)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:55:28 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"qiZ0DYT3T8+AdBoe5AYJN9L8BeTxp8IXB/Jze+GS6451Lpb1fT/2r4qs+E6T6MlmnOrRF9TNjHcXbxJJKT9XLA==", "id"=>"1"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (21.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:55:28.786350"], ["updated_at", "2020-04-21 21:55:28.786350"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (13.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:55:28.828994"], ["updated_at", "2020-04-21 21:55:28.828994"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:55:28.862308"], ["updated_at", "2020-04-21 21:55:28.862308"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 120ms (ActiveRecord: 77.6ms | Allocations: 10592)


Started GET "/friends" for ::1 at 2020-04-21 22:55:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 40.4ms | ActiveRecord: 3.2ms | Allocations: 13346)


Started GET "/users" for ::1 at 2020-04-21 22:55:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 43.2ms | ActiveRecord: 4.5ms | Allocations: 16317)


Started POST "/friends/create/1" for ::1 at 2020-04-21 22:55:34 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"J59/94W7SilqM84LSXd0dFHTvOUlqX6bG3aNrY66+v/4l50PfHPzSWDrLFs+mbQlH8VoFgDDMPsL6+yfRhdGXQ==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:55:34.624145"], ["updated_at", "2020-04-21 21:55:34.624145"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (2.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:55:34.643794"], ["updated_at", "2020-04-21 21:55:34.643794"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:55:34.669574"], ["updated_at", "2020-04-21 21:55:34.669574"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 77ms (ActiveRecord: 30.1ms | Allocations: 10592)


Started GET "/friends" for ::1 at 2020-04-21 22:55:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 38.1ms | ActiveRecord: 2.1ms | Allocations: 13353)


Started GET "/logout" for ::1 at 2020-04-21 22:55:36 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms | Allocations: 2354)


Started GET "/" for ::1 at 2020-04-21 22:55:36 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 287)


Started GET "/login" for ::1 at 2020-04-21 22:55:36 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 684)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.0ms | Allocations: 10245)


Started POST "/login" for ::1 at 2020-04-21 22:55:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"XiHS/t4eGdonyujAFRHzA10eW1AR3q+FeQYeLV0YaAdQdMUP2ZEtfWqSplIMsHyQokTTBZBKxFZRBW8jINQy5w==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 299ms (ActiveRecord: 1.2ms | Allocations: 2853)


Started GET "/" for ::1 at 2020-04-21 22:55:43 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 673)
Completed 200 OK in 41ms (Views: 31.4ms | ActiveRecord: 3.0ms | Allocations: 12629)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:55:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 42.7ms | Allocations: 13249)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 88ms (Views: 64.5ms | ActiveRecord: 5.1ms | Allocations: 23676)


Started GET "/friends" for ::1 at 2020-04-21 22:57:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (10.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 57.2ms | Allocations: 14992)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 679)
Completed 200 OK in 163ms (Views: 61.0ms | ActiveRecord: 37.1ms | Allocations: 46494)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:57:33 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"2QxXpb7E/LYF6tJOg+RrN6HI6IYPUUcgv3MuUiIxwKbQ62tZWqw/65I6Wn5owk7HyuB/AOge7CvI34Va5mRgxQ==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 34]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (1.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 35]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 60ms (ActiveRecord: 27.5ms | Allocations: 9892)


Started GET "/friends" for ::1 at 2020-04-21 22:57:33 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 37.1ms | Allocations: 13243)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 58ms (Views: 45.6ms | ActiveRecord: 7.4ms | Allocations: 23677)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:57:37 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"2RcyYWIRjlxi4mMhxZ8JwOKlGYx8+JpH63RPyThRc1LQ8A6dhnlNAfUy6xEuuSwwiY2OCpu3MUyc2OTB/ATTMQ==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 36]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 41]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 41ms (ActiveRecord: 15.6ms | Allocations: 6461)


Started GET "/friends" for ::1 at 2020-04-21 22:57:37 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 10458)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 44.4ms | ActiveRecord: 5.9ms | Allocations: 20907)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:57:40 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"83AMym5m2VQPtyiXJOZwjP3uYeRWaQPbVr1bW+ZnHGv6lzA2ig4aCZhnoKfPwFV8lsb2YrEmqNAhEfBTIjK8CA==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 40]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (2.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 44]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 51ms (ActiveRecord: 24.3ms | Allocations: 6459)


Started GET "/friends" for ::1 at 2020-04-21 22:57:40 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 10458)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 47.9ms | ActiveRecord: 4.9ms | Allocations: 20898)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 22:57:44 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"fyDrqd2D+/FntxSuVPxT7y/bklGOtjYVLq2QY4J2YSx2x9dVOes4rPBnnJ6/2nYfRPMF12n5nR5ZATtrRiPBTw==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 42]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 3.8ms | Allocations: 6552)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:32:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 22:57:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 10461)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 40.3ms | ActiveRecord: 4.4ms | Allocations: 20881)


  [1m[36mFriendship Destroy (10.5ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/friends" for ::1 at 2020-04-21 22:58:04 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 33.5ms | ActiveRecord: 3.7ms | Allocations: 13321)


Started GET "/users" for ::1 at 2020-04-21 22:58:07 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 680)
Completed 200 OK in 47ms (Views: 39.2ms | ActiveRecord: 2.4ms | Allocations: 16551)


Started POST "/friends/create/2" for ::1 at 2020-04-21 22:58:10 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"4H9t1+BZ9qT6Iff0WTXB9obMIICdJTtmHEXQTI8MJqRwplhipVV7C9YRoY5uO8FCG73tHWTYyPGnA5SNipDz5w==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 21:58:10.716413"], ["updated_at", "2020-04-21 21:58:10.716413"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:58:10.768257"], ["updated_at", "2020-04-21 21:58:10.768257"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 88ms (ActiveRecord: 55.9ms | Allocations: 8821)


Started GET "/friends" for ::1 at 2020-04-21 22:58:10 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 2.8ms | Allocations: 13347)


Started GET "/users" for ::1 at 2020-04-21 22:58:12 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 86ms (Views: 60.5ms | ActiveRecord: 2.8ms | Allocations: 16321)


Started POST "/friends/create/2" for ::1 at 2020-04-21 22:58:15 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"vcI436p0mcHrzm9h0lRd0DQGzDACGUKD35JeCY3uAkktGw1q73gUbsf+ORvlWl1kqXcBrfvksRRk1BrIiHLXCg==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 21:58:15.202477"], ["updated_at", "2020-04-21 21:58:15.202477"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 74ms (ActiveRecord: 20.9ms | Allocations: 6002)


Started GET "/friends" for ::1 at 2020-04-21 22:58:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 28.9ms | ActiveRecord: 4.9ms | Allocations: 13340)


Started GET "/users" for ::1 at 2020-04-21 22:58:25 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 34.8ms | ActiveRecord: 2.3ms | Allocations: 16324)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:58:29 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"fNegCzdsn6bWpVNuf8rzZZTLBUsbiwDx1iuAX/XIfhvrdjDHW+H5EBdWmUAj4sz2bPEScBdM2iBphVg+LBXvow==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 21:58:29.155258"], ["updated_at", "2020-04-21 21:58:29.155258"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (2.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 21:58:29.173261"], ["updated_at", "2020-04-21 21:58:29.173261"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 66ms (ActiveRecord: 35.3ms | Allocations: 8639)


Started GET "/friends" for ::1 at 2020-04-21 22:58:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 25.2ms | ActiveRecord: 2.5ms | Allocations: 13338)


Started GET "/users" for ::1 at 2020-04-21 22:58:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 39.5ms | ActiveRecord: 2.6ms | Allocations: 16325)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:58:34 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"ThFxBLPsYn/4m+++f5abqLafj9FtISz+7eJF/9PoFhXZsOHI32EEyTloJZAjvqQ7TqWY6mHm9i9STJ2eCjWHrQ==", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 21:58:34.637738"], ["updated_at", "2020-04-21 21:58:34.637738"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 81ms (ActiveRecord: 53.7ms | Allocations: 5989)


Started GET "/friends" for ::1 at 2020-04-21 22:58:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 29.0ms | ActiveRecord: 4.6ms | Allocations: 13337)


Started GET "/logout" for ::1 at 2020-04-21 22:58:38 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms | Allocations: 2864)


Started GET "/" for ::1 at 2020-04-21 22:58:38 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 390)


Started GET "/login" for ::1 at 2020-04-21 22:58:38 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 686)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.0ms | Allocations: 10432)


Started POST "/login" for ::1 at 2020-04-21 22:58:45 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Tsp8z8nTNjOvHJkaSMx4cF9YndjbKiO5Tq0yeD/07/2K3exLgJP3u9hJikeeY44zLZ1gCDtauUNjhEIcN5ajdg==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 277ms (ActiveRecord: 0.6ms | Allocations: 2884)


Started GET "/" for ::1 at 2020-04-21 22:58:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.2ms | Allocations: 728)
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 2799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 9.2ms | Allocations: 678)
Completed 200 OK in 55ms (Views: 44.5ms | ActiveRecord: 3.3ms | Allocations: 12877)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 22:58:48 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 41.4ms | Allocations: 6400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 74ms (Views: 57.6ms | ActiveRecord: 5.5ms | Allocations: 16819)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 22:58:58 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"7AMq21uq2LEJOfROxUOxsbMkyVMIRqaopDITFGGtVtkIfp/iz+OqC+T/FoI1OUkPe39ppDHuksPq/ZFQmKBygg==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (3.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:58:58.201433"], ["id", 47]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:58:58.220745"], ["id", 48]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:58:58.176076"], ["id", 47]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:58:58.176076"], ["id", 48]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 21:58:58.246382"], ["id", 46]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 21:58:58.176076"], ["id", 46]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 112ms (ActiveRecord: 27.6ms | Allocations: 31165)


Started GET "/friends" for ::1 at 2020-04-21 22:58:58 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 9443)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 58ms (Views: 45.5ms | ActiveRecord: 2.8ms | Allocations: 19893)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 22:59:06 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"FY+a4bpfqUfIq2G9GS1RdtfkinM9QibsG+S2GLBo2YsK+XMLxGSHdrvQUDEziv5rxqNYSEmCc4msgGnL7v+7KQ==", "id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (17.0ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 47]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 46]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 97ms (ActiveRecord: 40.8ms | Allocations: 6466)


Started GET "/friends" for ::1 at 2020-04-21 22:59:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 74ms (Views: 47.7ms | ActiveRecord: 10.6ms | Allocations: 15962)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 22:59:08 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"aC1VVnJf1LAI6Bur4AP0UEi+DuRBtTW8oxEYqN/eJC93W7y8DGT6gXuTKifKpFtNWfnc3zV1YNkUdcd7gUlGjQ==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 48]]
  ↳ app/models/friendship.rb:24:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:25:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:23:in `breakup'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 5.8ms | Allocations: 6555)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:25:in `block in breakup'
app/models/friendship.rb:23:in `breakup'
app/controllers/friendships_controller.rb:32:in `deny'
Started GET "/users" for ::1 at 2020-04-21 22:59:24 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2087)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 29.5ms | ActiveRecord: 2.0ms | Allocations: 12412)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:59:28 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nYDvNnxlTpYaOSFfgBFoH7bnVMBOWWXzqNcv0qeMGf1GUJrHdohiOoPBLKRD56D43i+AG7qaLRfQF5lxJb1JYw==", "id"=>"3"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (2.3ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 21:59:28.522387"], ["updated_at", "2020-04-21 21:59:28.522387"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:59:28.549926"], ["updated_at", "2020-04-21 21:59:28.549926"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 70ms (ActiveRecord: 32.5ms | Allocations: 8643)


Started GET "/friends" for ::1 at 2020-04-21 22:59:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 35.9ms | ActiveRecord: 3.2ms | Allocations: 15966)


Started GET "/users" for ::1 at 2020-04-21 22:59:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2084)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 31.3ms | ActiveRecord: 1.8ms | Allocations: 12406)


Started POST "/friends/create/3" for ::1 at 2020-04-21 22:59:33 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"DKQTTCh4HfuKecYM/O+1hU31dQYl3D1PnLevCfGLNLvXdGa9IpUxVxOBy/c/GX1iJT2h3dEfdavkdxmqc7pkJQ==", "id"=>"3"}
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (12.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 21:59:33.194626"], ["updated_at", "2020-04-21 21:59:33.194626"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 109ms (ActiveRecord: 47.5ms | Allocations: 5994)


Started GET "/friends" for ::1 at 2020-04-21 22:59:33 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (2.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 35.6ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 91ms (Views: 65.6ms | ActiveRecord: 6.9ms | Allocations: 15965)


Started GET "/friends" for ::1 at 2020-04-21 23:01:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 7265)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 322ms (Views: 40.8ms | ActiveRecord: 30.7ms | Allocations: 38585)


Started GET "/users" for ::1 at 2020-04-21 23:01:43 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 680)
Completed 200 OK in 40ms (Views: 28.5ms | ActiveRecord: 2.9ms | Allocations: 13136)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:01:46 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"NxUQRSUiFRVlxhMxOM04dcJkxxSB26V8Xj7AbrOaYuLsxWW0L885ufw+Hsr7O/CSqqwTz3UY7Zgm/nbNMasyfA==", "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (8.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 22:01:46.692080"], ["updated_at", "2020-04-21 22:01:46.692080"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 62ms (ActiveRecord: 23.8ms | Allocations: 9498)


Started GET "/friends" for ::1 at 2020-04-21 23:01:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 32.2ms | ActiveRecord: 3.5ms | Allocations: 15972)


Started GET "/users" for ::1 at 2020-04-21 23:01:48 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2117)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 31.5ms | ActiveRecord: 2.1ms | Allocations: 12858)


Started GET "/users" for ::1 at 2020-04-21 23:01:51 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2117)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 36ms (Views: 27.1ms | ActiveRecord: 2.5ms | Allocations: 12862)


Started GET "/users" for ::1 at 2020-04-21 23:02:15 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.5ms | Allocations: 7741)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 681)
Completed 200 OK in 123ms (Views: 35.7ms | ActiveRecord: 22.3ms | Allocations: 38869)


Started GET "/users" for ::1 at 2020-04-21 23:02:21 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.8ms | Allocations: 674)
Completed 200 OK in 52ms (Views: 37.4ms | ActiveRecord: 2.2ms | Allocations: 16313)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:02:25 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"/FrthGn+7j8JApgD/gx3+nZDTMFXvD1czErPgDlnCi2O5iE2824GsuMlzKrW1epKeoCLqSMKQbCScHDYPFvnBw==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:02:25.946189"], ["updated_at", "2020-04-21 22:02:25.946189"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (36.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 72ms (ActiveRecord: 42.1ms | Allocations: 9593)


Started GET "/friends" for ::1 at 2020-04-21 23:02:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 5533)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.4ms | Allocations: 678)
Completed 200 OK in 48ms (Views: 37.4ms | ActiveRecord: 3.2ms | Allocations: 16190)


Started GET "/users" for ::1 at 2020-04-21 23:02:27 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 38.3ms | ActiveRecord: 6.4ms | Allocations: 16327)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:02:32 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"sTQwIhmmXPWubbM4rxFW61tV94i352lVptbcYodpzO5q5EXTE0twWTeVvsNs554MM50jU0MkIbHeFmrBBViccA==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 22:02:32.667971"], ["updated_at", "2020-04-21 22:02:32.667971"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (61.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 92ms (ActiveRecord: 64.5ms | Allocations: 5991)


Started GET "/friends" for ::1 at 2020-04-21 23:02:32 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 35.6ms | ActiveRecord: 4.5ms | Allocations: 15964)


Started GET "/friends" for ::1 at 2020-04-21 23:02:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 39.5ms | Allocations: 7262)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 12.7ms | Allocations: 679)
Completed 200 OK in 215ms (Views: 93.3ms | ActiveRecord: 26.4ms | Allocations: 38546)


Started GET "/users" for ::1 at 2020-04-21 23:02:50 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2092)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 680)
Completed 200 OK in 109ms (Views: 91.3ms | ActiveRecord: 2.0ms | Allocations: 12687)


Started GET "/friends" for ::1 at 2020-04-21 23:02:56 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 34.7ms | ActiveRecord: 3.9ms | Allocations: 15949)


Started GET "/logout" for ::1 at 2020-04-21 23:02:59 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 2867)


Started GET "/" for ::1 at 2020-04-21 23:02:59 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 382)


Started GET "/login" for ::1 at 2020-04-21 23:03:00 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 686)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.0ms | Allocations: 10431)


Started POST "/login" for ::1 at 2020-04-21 23:03:11 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"AKtILxlMHcWd0MxakBTsfEuJpmw4vFMLsL3cdW6Waf0uXeVkiLONZTr0ys9+uvswzJcjeRiK2pMCao6xrigSSw==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 401ms (ActiveRecord: 1.2ms | Allocations: 2873)


Started GET "/" for ::1 at 2020-04-21 23:03:11 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.1ms | Allocations: 728)
  [1m[36mPost Load (4.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.0ms | Allocations: 678)
Completed 200 OK in 117ms (Views: 99.0ms | ActiveRecord: 7.5ms | Allocations: 12864)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:03:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.4ms | Allocations: 10552)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 70ms (Views: 50.6ms | ActiveRecord: 8.7ms | Allocations: 21087)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 23:03:20 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"uxvt25Mr2lyqaes8gDI6cDtQ/x21rsrJO/zYJ+8hlsnTbhq8o+yGqaBvZDnur4MzVFY1jql6oEt3aQobsAWIsQ==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:20.678425"], ["id", 50]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.4ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:20.700157"], ["id", 51]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:20.640216"], ["id", 50]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:20.640216"], ["id", 51]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:20.727527"], ["id", 49]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:20.640216"], ["id", 49]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 131ms (ActiveRecord: 47.9ms | Allocations: 34670)


Started GET "/friends" for ::1 at 2020-04-21 23:03:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.5ms | Allocations: 11058)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 52.4ms | ActiveRecord: 4.4ms | Allocations: 21509)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 23:03:26 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"DrDL8j8Z3J/T7qEC58gBhS8gqp4Itt2cP77+qn0DtJotyEQlLyrYnNsLPxE5ZDzP/ONes3u0ZNCIZQsuNnCKSw==", "id"=>"2"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (3.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (3.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:26.909264"], ["id", 53]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (10.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:26.948394"], ["id", 54]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (1.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:26.988843"], ["id", 55]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (8.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:27.026552"], ["id", 57]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:26.876275"], ["id", 53]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:26.876275"], ["id", 54]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:26.876275"], ["id", 55]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:26.876275"], ["id", 57]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:03:27.071012"], ["id", 52]]
  ↳ app/models/friendship.rb:31:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:03:26.876275"], ["id", 52]]
  ↳ app/models/friendship.rb:32:in `accept_one_side'
  [1m[35m (423.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 653ms (ActiveRecord: 482.2ms | Allocations: 51557)


Started GET "/friends" for ::1 at 2020-04-21 23:03:27 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 40.9ms | Allocations: 20089)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 103ms (Views: 93.7ms | ActiveRecord: 4.1ms | Allocations: 30538)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:04:11 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"N7WYzVNNxIJbJsiqM24sQrAPW8QqFlEgRAmvsB541wz3nr7FA6Zg4BHWiDGCmoTu7XxXJBRONRqfVJ6LMner4A==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 50]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 49]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 195ms (ActiveRecord: 53.0ms | Allocations: 29449)


Started GET "/friends" for ::1 at 2020-04-21 23:04:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 107.2ms | Allocations: 19193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 679)
Completed 200 OK in 143ms (Views: 126.9ms | ActiveRecord: 9.2ms | Allocations: 30921)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 23:04:18 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"q6CNyt9DXb7wQIdnerbwet6/9PHxO7JQ8ow56lDX34usp4B1KM9/EL3VqF+gIwa5xgAksot0JgIqsENhC4+y1Q==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 53]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 52]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 48ms (ActiveRecord: 17.2ms | Allocations: 6463)


Started GET "/friends" for ::1 at 2020-04-21 23:04:18 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 42.9ms | Allocations: 14807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 67ms (Views: 56.7ms | ActiveRecord: 4.0ms | Allocations: 25252)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 23:04:22 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"HwbI5LBDo85rZqYf1tu4rYYArTl5qySTAcHQfhvG5x4YAcVbR8+BYCbziScMTk5unr99egPksMHZ/ar1QJ6KQA==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 54]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.2ms | Allocations: 6553)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:32:in `deny'
  [1m[36mFriendship Destroy (30.3ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:04:35 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 30.4ms | ActiveRecord: 3.1ms | Allocations: 13325)


Started GET "/users" for ::1 at 2020-04-21 23:05:35 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 680)
Completed 200 OK in 43ms (Views: 33.9ms | ActiveRecord: 2.3ms | Allocations: 16546)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:05:38 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"P6byhP+LDTGamEPem5tGiO7wLqfHmNXk4xcSENJQkkqezIYKi79062eca0ldgb/8f2bh3R3NVvgmUeMtW+8vRg==", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:05:38.521375"], ["updated_at", "2020-04-21 22:05:38.521375"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:05:38.559339"], ["updated_at", "2020-04-21 22:05:38.559339"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 92ms (ActiveRecord: 51.2ms | Allocations: 8816)


Started GET "/friends" for ::1 at 2020-04-21 23:05:38 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.3ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 28.5ms | ActiveRecord: 2.8ms | Allocations: 13348)


Started GET "/users" for ::1 at 2020-04-21 23:05:42 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.5ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 37.9ms | ActiveRecord: 5.3ms | Allocations: 16316)


Started GET "/users" for ::1 at 2020-04-21 23:07:28 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 7738)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 681)
Completed 200 OK in 206ms (Views: 37.8ms | ActiveRecord: 37.5ms | Allocations: 38878)


  [1m[36mFriendship Load (24.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Destroy (28.3ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:07:50 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"aC7qac29hxfBpuQSal+A4ma3iOHcwwVFdFc3hEfFroLJRJ7nuYn+zTyizIWsRXmW9yFHmwaWhlmxEca5znoTjg==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:07:50.735717"], ["updated_at", "2020-04-21 22:07:50.735717"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:07:50.768596"], ["updated_at", "2020-04-21 22:07:50.768596"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 81ms (ActiveRecord: 40.6ms | Allocations: 12276)


Started GET "/friends" for ::1 at 2020-04-21 23:07:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 2917)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 678)
Completed 200 OK in 68ms (Views: 53.2ms | ActiveRecord: 3.6ms | Allocations: 13558)


Started GET "/users" for ::1 at 2020-04-21 23:07:59 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 34.7ms | ActiveRecord: 4.9ms | Allocations: 16324)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:08:03 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cEZ3HJLht+2smXFoEO//1VNK63JrOzNGksKDxGqWYYzRLAOS5tXON1GdWf/W9QahwtwkCLFusFpXhHL54yncgA==", "id"=>"1"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:08:03.067939"], ["updated_at", "2020-04-21 22:08:03.067939"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 20.9ms | Allocations: 7266)


  
ActionView::MissingTemplate (Missing template friendships/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:21:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:08:57 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cEZ3HJLht+2smXFoEO//1VNK63JrOzNGksKDxGqWYYzRLAOS5tXON1GdWf/W9QahwtwkCLFusFpXhHL54yncgA==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:08:57.905241"], ["updated_at", "2020-04-21 22:08:57.905241"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Completed 500 Internal Server Error in 163ms (ActiveRecord: 62.1ms | Allocations: 30473)


  
ActionView::MissingTemplate (Missing template friendships/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:23:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:09:18 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cEZ3HJLht+2smXFoEO//1VNK63JrOzNGksKDxGqWYYzRLAOS5tXON1GdWf/W9QahwtwkCLFusFpXhHL54yncgA==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (2.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:09:19.246829"], ["updated_at", "2020-04-21 22:09:19.246829"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Completed 500 Internal Server Error in 185ms (ActiveRecord: 66.2ms | Allocations: 30516)


  
ActionView::MissingTemplate (Missing template friendships/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:23:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:09:28 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cEZ3HJLht+2smXFoEO//1VNK63JrOzNGksKDxGqWYYzRLAOS5tXON1GdWf/W9QahwtwkCLFusFpXhHL54yncgA==", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:09:28.218836"], ["updated_at", "2020-04-21 22:09:28.218836"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Completed 500 Internal Server Error in 65ms (ActiveRecord: 28.5ms | Allocations: 6548)


  
ActionView::MissingTemplate (Missing template friendships/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:23:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:11:50 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cEZ3HJLht+2smXFoEO//1VNK63JrOzNGksKDxGqWYYzRLAOS5tXON1GdWf/W9QahwtwkCLFusFpXhHL54yncgA==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (1.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:11:51.244963"], ["updated_at", "2020-04-21 22:11:51.244963"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 203ms (ActiveRecord: 69.2ms | Allocations: 29833)


Started GET "/posts" for ::1 at 2020-04-21 23:11:51 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 725)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 679)
Completed 200 OK in 114ms (Views: 105.7ms | ActiveRecord: 3.1ms | Allocations: 13451)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:11:57 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 4762)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 59ms (Views: 38.2ms | ActiveRecord: 9.1ms | Allocations: 15285)


Started GET "/users" for ::1 at 2020-04-21 23:11:59 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (14.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (12.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 86.9ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 680)
Completed 200 OK in 143ms (Views: 88.9ms | ActiveRecord: 40.5ms | Allocations: 16588)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:12:02 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"LKHOAkwcaiHjrjxFhcRzC8Ua5R3R1eTGYkRlIOMkolSNy7qMOCgT+x6qFNJD3op/VIwqZwuAZ9qnApQdapsfWA==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:12:02.850648"], ["updated_at", "2020-04-21 22:12:02.850648"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 75ms (ActiveRecord: 36.2ms | Allocations: 6016)


Started GET "/posts" for ::1 at 2020-04-21 23:12:02 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 659)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.2ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 673)
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 2.1ms | Allocations: 12598)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:12:15 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (4.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.8ms | Allocations: 4643)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 679)
Completed 200 OK in 190ms (Views: 38.9ms | ActiveRecord: 25.2ms | Allocations: 36002)


Started GET "/users" for ::1 at 2020-04-21 23:12:17 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (24.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 40.4ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 680)
Completed 200 OK in 116ms (Views: 74.8ms | ActiveRecord: 27.5ms | Allocations: 16590)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:12:20 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"SjIYn5twF9NNMzOTwJAnPTfvR/wgshnf5OwD8tsFI6vrWGwR70RuCbA3GwQGit5JpnmIhvrnmsMhqvLPUrqepw==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:12:21.027816"], ["updated_at", "2020-04-21 22:12:21.027816"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 68ms (ActiveRecord: 24.9ms | Allocations: 9491)


Started GET "/posts" for ::1 at 2020-04-21 23:12:21 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.7ms | Allocations: 724)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2785)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 678)
Completed 200 OK in 38ms (Views: 28.4ms | ActiveRecord: 2.3ms | Allocations: 12965)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:12:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 30.6ms | ActiveRecord: 5.0ms | Allocations: 13326)


Started GET "/logout" for ::1 at 2020-04-21 23:12:32 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 1.4ms | Allocations: 2860)


Started GET "/" for ::1 at 2020-04-21 23:12:32 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 285)


Started GET "/login" for ::1 at 2020-04-21 23:12:32 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 686)
Completed 200 OK in 58ms (Views: 48.1ms | ActiveRecord: 0.0ms | Allocations: 10434)


Started GET "/signup" for ::1 at 2020-04-21 23:12:38 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 14.0ms | Allocations: 213)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 153)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 97.8ms | Allocations: 3819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.8ms | Allocations: 710)
Completed 200 OK in 151ms (Views: 148.5ms | ActiveRecord: 0.0ms | Allocations: 13467)


Started POST "/login" for ::1 at 2020-04-21 23:12:46 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"1QOgmqiKRa57bfrHdKmq1zshBqNn6+1v/6orUW0ZgUi22zGskUhBu9lZQ1qxdUsVRUtWXf23hnV3pBp2cdZD6A==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 288ms (ActiveRecord: 0.5ms | Allocations: 2882)


Started GET "/" for ::1 at 2020-04-21 23:12:46 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 674)
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2751)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 678)
Completed 200 OK in 42ms (Views: 31.7ms | ActiveRecord: 3.3ms | Allocations: 12646)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:12:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (7.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 59.5ms | Allocations: 6414)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 678)
Completed 200 OK in 111ms (Views: 88.8ms | ActiveRecord: 12.5ms | Allocations: 16841)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 23:12:58 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"dfLH56YQupOqCbDylbkvrPZEEYj1ufCazq+V87VGTmofEaqgtXrBIBBKUwaN3FiPrMF/zwoImtr7AvfiUZOTig==", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.869259"], ["id", 61]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.884650"], ["id", 62]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.901327"], ["id", 63]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.916432"], ["id", 64]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.932693"], ["id", 65]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.976615"], ["id", 66]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:58.991646"], ["id", 67]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:59.006202"], ["id", 68]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 61]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 62]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 63]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 64]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 65]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 66]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 67]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 68]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:12:59.086628"], ["id", 60]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:12:58.846239"], ["id", 60]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (26.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 291ms (ActiveRecord: 48.8ms | Allocations: 93295)


Started GET "/friends" for ::1 at 2020-04-21 23:12:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 95.1ms | Allocations: 25290)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.5ms | Allocations: 674)
Completed 200 OK in 139ms (Views: 127.1ms | ActiveRecord: 5.7ms | Allocations: 35733)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 23:16:01 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"J3yyXetgxbZeKWELosjn4d1Z896o9Ml7/49eSUitdaUKEfJ/BdmWX/6+EQFVwOg/OMh8fbSe7WSFnyFhDDUQQg==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (26.9ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 61]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 60]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 148ms (ActiveRecord: 67.6ms | Allocations: 29385)


Started GET "/friends" for ::1 at 2020-04-21 23:16:02 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 68.2ms | Allocations: 24389)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 679)
Completed 200 OK in 153ms (Views: 100.3ms | ActiveRecord: 5.7ms | Allocations: 36120)


  [1m[36mFriendship Destroy (18.8ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:16:18 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 37.9ms | ActiveRecord: 4.1ms | Allocations: 13328)


Started GET "/users" for ::1 at 2020-04-21 23:16:26 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 680)
Completed 200 OK in 53ms (Views: 36.7ms | ActiveRecord: 3.9ms | Allocations: 16592)


  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/friends/create/2" for ::1 at 2020-04-21 23:16:36 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"GrXmxS3iivNGFw6UDLaLaMG0SBaomuzn+BIDFDBKhq652vbOYuCBZzUSXN0U4uKgf68jaBBJkCVT3dgm6sKSfQ==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:16:36.416531"], ["updated_at", "2020-04-21 22:16:36.416531"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:16:36.441106"], ["updated_at", "2020-04-21 22:16:36.441106"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 64ms (ActiveRecord: 26.9ms | Allocations: 8824)


Started GET "/friends" for ::1 at 2020-04-21 23:16:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 35.5ms | ActiveRecord: 2.5ms | Allocations: 13349)


  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (75.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-21 23:16:58 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 38.2ms | ActiveRecord: 5.1ms | Allocations: 16327)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:17:03 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"pNp4N1Jr1roihgsngJuVafQkbmFqyqcBB0/FLAI5474HtWg8HWndLlGDWW6Yz/yhSj8FH9IZ28OsgB4e2LH3bQ==", "id"=>"2"}
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:49:in `find_user'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:17:03.731578"], ["updated_at", "2020-04-21 22:17:03.731578"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 23.6ms | Allocations: 6547)


  
ActionView::MissingTemplate (Missing template friendships/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:23:in `create'
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (1.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFriendship Destroy (26.6ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 23:19:19 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 7741)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 681)
Completed 200 OK in 172ms (Views: 42.1ms | ActiveRecord: 27.1ms | Allocations: 38921)


  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/friends/create/2" for ::1 at 2020-04-21 23:19:43 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"DTpShj2q6//MfM7WUZscVIsjSR2+BYyeqT6OaoQbLEeuVUKNcqjga795nJ9Jz3WcNTgiYwbW8FwC8VVYXpM4lA==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (25.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:19:43.198159"], ["updated_at", "2020-04-21 22:19:43.198159"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:19:43.259412"], ["updated_at", "2020-04-21 22:19:43.259412"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 118ms (ActiveRecord: 61.5ms | Allocations: 12251)


Started GET "/friends" for ::1 at 2020-04-21 23:19:43 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 2914)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.9ms | Allocations: 678)
Completed 200 OK in 60ms (Views: 49.7ms | ActiveRecord: 4.6ms | Allocations: 13551)


  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:20:07 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.9ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 34.8ms | ActiveRecord: 4.8ms | Allocations: 13326)


Started GET "/users" for ::1 at 2020-04-21 23:20:11 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 32.4ms | ActiveRecord: 2.4ms | Allocations: 16321)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:20:14 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"1dvSPb2ZZTcAsmtAI6QXv5cGjQd5Ls8rQGoLqm92OvB2tMI28ptuo3O3OQk78H53KR3mecH9s+nrpdCYtf4uIw==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:20:14.752441"], ["updated_at", "2020-04-21 22:20:14.752441"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:20:14.782974"], ["updated_at", "2020-04-21 22:20:14.782974"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:20:14.802837"], ["updated_at", "2020-04-21 22:20:14.802837"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 81ms (ActiveRecord: 39.5ms | Allocations: 11268)


Started GET "/friends" for ::1 at 2020-04-21 23:20:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 32.5ms | ActiveRecord: 3.3ms | Allocations: 13349)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:21:25 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 40.6ms | Allocations: 4640)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 16.7ms | Allocations: 679)
Completed 200 OK in 238ms (Views: 88.7ms | ActiveRecord: 72.2ms | Allocations: 35916)


Started GET "/users" for ::1 at 2020-04-21 23:21:28 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.6ms | Allocations: 680)
Completed 200 OK in 54ms (Views: 39.5ms | ActiveRecord: 3.8ms | Allocations: 16593)


Started GET "/logout" for ::1 at 2020-04-21 23:21:31 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2867)


Started GET "/" for ::1 at 2020-04-21 23:21:31 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 392)


Started GET "/login" for ::1 at 2020-04-21 23:21:31 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 686)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.0ms | Allocations: 10437)


Started POST "/login" for ::1 at 2020-04-21 23:21:39 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"maEmUyiTNesC/vLVOYe9izgyD7WOk0gnJI0tyUKspZuOcPWLYr9H5G7NX+KsB6ge/8BLk83vf2jiRNvYEOSB2g==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 288ms (ActiveRecord: 0.7ms | Allocations: 2874)


Started GET "/" for ::1 at 2020-04-21 23:21:39 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.6ms | Allocations: 728)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 678)
Completed 200 OK in 69ms (Views: 62.6ms | ActiveRecord: 1.9ms | Allocations: 12873)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:21:42 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 10467)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 59ms (Views: 42.1ms | ActiveRecord: 9.4ms | Allocations: 20892)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 23:21:51 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"U+FucL0+LPTdEAgc1RFOmq5c1izWydouxa46WksiZge1H1ALqszwIopgeRG+iNifRtgXyAwosS1D46f6YzNmUA==", "id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:21:51.163862"], ["id", 73]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:21:51.180119"], ["id", 74]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:21:51.197751"], ["id", 76]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:21:51.118454"], ["id", 73]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:21:51.118454"], ["id", 74]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:21:51.118454"], ["id", 76]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:21:51.243946"], ["id", 72]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:21:51.259647"], ["id", 75]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:21:51.118454"], ["id", 72]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (2.2ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:21:51.118454"], ["id", 75]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 216ms (ActiveRecord: 39.3ms | Allocations: 60638)


Started GET "/friends" for ::1 at 2020-04-21 23:21:51 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 60.6ms | Allocations: 12081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.5ms | Allocations: 674)
Completed 200 OK in 96ms (Views: 81.9ms | ActiveRecord: 7.5ms | Allocations: 22528)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:21:56 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"ZImlVpD7bQzR2kAumocCrZArKkUUsg53y3dZZlLH/BCP2ZmvsG1k/RNr64kBwgmPyQs+YSoNcpZqeOANMlXDiA==", "id"=>"1"}
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 73]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 72]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 57ms (ActiveRecord: 27.9ms | Allocations: 6527)


Started GET "/friends" for ::1 at 2020-04-21 23:21:57 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.7ms | Allocations: 9440)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 36.4ms | ActiveRecord: 3.4ms | Allocations: 19888)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:22:00 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"5LDlEIA9S6YjrjZVbS4SZ8P2Y4uyU8gV4a1TxpFyCXsP4NnpoKtCV+EfnfL2axlFmtZ3r4zstPRAouqt8eA24w==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 74]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 75]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 48ms (ActiveRecord: 23.7ms | Allocations: 6460)


Started GET "/friends" for ::1 at 2020-04-21 23:22:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 33.2ms | ActiveRecord: 3.1ms | Allocations: 15963)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:22:05 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"ZJpsk/IAzMWvprQZrzFTuEnSblQpOPt3NwWC0pAuql+PylBq0pbFNG0XH740dFiaEPJ6cBeHh5aWCju58LyVxw==", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 76]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 5.7ms | Allocations: 6553)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:32:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 23:22:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 49.1ms | Allocations: 5528)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 76ms (Views: 65.8ms | ActiveRecord: 4.9ms | Allocations: 15949)


Started GET "/users" for ::1 at 2020-04-21 23:22:28 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 2085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 30.0ms | ActiveRecord: 7.3ms | Allocations: 12406)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:22:30 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"GMQOJR8xGUMvCYtIrovUqMHuvKHHqfBasAFBcie+3tCsfvPDXC1VZjlXMjdMot7mmeYJPtpxWQQSgo8CJGllpw==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (2.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", "2020-04-21 22:22:30.758972"], ["updated_at", "2020-04-21 22:22:30.758972"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 22:22:30.785887"], ["updated_at", "2020-04-21 22:22:30.785887"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 69ms (ActiveRecord: 26.7ms | Allocations: 8692)


Started GET "/friends" for ::1 at 2020-04-21 23:22:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 36.9ms | ActiveRecord: 3.2ms | Allocations: 15965)


Started GET "/logout" for ::1 at 2020-04-21 23:22:35 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 1.5ms | Allocations: 2361)


Started GET "/" for ::1 at 2020-04-21 23:22:35 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 285)


Started GET "/login" for ::1 at 2020-04-21 23:22:35 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 0.0ms | Allocations: 10246)


Started POST "/login" for ::1 at 2020-04-21 23:22:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"kYjhMZcetsILeJx3b2EYYvfKrxCl+ipk66wIN0tSDGZeKjqyIiWdtx3S+L99+Y38D1Nwo/qI+gM3BHs1Tzs+yA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 282ms (ActiveRecord: 0.5ms | Allocations: 2855)


Started GET "/" for ::1 at 2020-04-21 23:22:42 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.3ms | Allocations: 663)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 673)
Completed 200 OK in 32ms (Views: 25.4ms | ActiveRecord: 1.9ms | Allocations: 12611)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:22:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 6403)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 42.6ms | ActiveRecord: 6.5ms | Allocations: 16826)


Started GET "/logout" for ::1 at 2020-04-21 23:22:48 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 2367)


Started GET "/" for ::1 at 2020-04-21 23:22:48 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 283)


Started GET "/login" for ::1 at 2020-04-21 23:22:48 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 684)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.0ms | Allocations: 10244)


Started POST "/login" for ::1 at 2020-04-21 23:23:00 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"8CcbosRSJlN5UOjc5qHPTLQpCn1r50yqQg8cIgITSIuceoH3i1PmnIp3tF8J8VmaNFtfajSJrnmCaWkO01dWWw==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 0.5ms | Allocations: 2856)


Started GET "/" for ::1 at 2020-04-21 23:23:01 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 673)
Completed 200 OK in 47ms (Views: 39.1ms | ActiveRecord: 3.1ms | Allocations: 12623)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:23:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 44.0ms | ActiveRecord: 4.4ms | Allocations: 15943)


Started GET "/users" for ::1 at 2020-04-21 23:23:08 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.7ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 33.5ms | ActiveRecord: 2.3ms | Allocations: 12415)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:23:10 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xRiZ4neXDIwzd+eHaPPlaVMceRxKhC+9iHDBp1nr8YDIpRm+XWoRHfUXsGb3EOZ8omw33jJ9a5Elfo2taNEnHQ==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 2], ["created_at", "2020-04-21 22:23:10.502230"], ["updated_at", "2020-04-21 22:23:10.502230"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 44ms (ActiveRecord: 11.0ms | Allocations: 6008)


Started GET "/friends" for ::1 at 2020-04-21 23:23:10 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (11.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 674)
Completed 200 OK in 64ms (Views: 41.6ms | ActiveRecord: 14.3ms | Allocations: 15964)


Started GET "/logout" for ::1 at 2020-04-21 23:23:18 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 2.1ms | Allocations: 2358)


Started GET "/" for ::1 at 2020-04-21 23:23:18 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-21 23:23:18 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 684)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms | Allocations: 10253)


Started POST "/login" for ::1 at 2020-04-21 23:23:24 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Wf/T8Ik2AQ3ZqaaRAKuwjjBU8usdTFQoMfpJrz5Hc+nLVFBkU61rlsJ97pVZDz8qClg388WzK8l+a/Mzq6HY/Q==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wiki@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.5ms | Allocations: 1942)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"Wf/T8Ik2AQ3ZqaaRAKuwjjBU8usdTFQoMfpJrz5Hc+nLVFBkU61rlsJ97pVZDz8qClg388WzK8l+a/Mzq6HY/Q==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1787)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 648)
Completed 200 OK in 1214ms (Views: 27.9ms | ActiveRecord: 0.0ms | Allocations: 10137)


Started POST "/login" for ::1 at 2020-04-21 23:23:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"E6s1aeQMFY+kA1d2deCrXf2ah6Zo2ua1oQI3PUQZtn6BALb9Ppd/FL/XH3IsRCT5x5ZCvrAlmVTuk42h0f8dag==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 258ms (ActiveRecord: 0.7ms | Allocations: 2075)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"E6s1aeQMFY+kA1d2deCrXf2ah6Zo2ua1oQI3PUQZtn6BALb9Ppd/FL/XH3IsRCT5x5ZCvrAlmVTuk42h0f8dag==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 640)
Completed 200 OK in 261ms (Views: 23.6ms | ActiveRecord: 0.0ms | Allocations: 10113)


Started POST "/login" for ::1 at 2020-04-21 23:23:37 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"R6LbOrFvFUwE8Gu5gAcGGMYOmxyizt22udJE2UhiZ2XVCViua/R/1x8kI73Zo4m8/AJeBHoxolf2Q/5F3YTMcQ==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wiki@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (ActiveRecord: 1.9ms | Allocations: 1943)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"R6LbOrFvFUwE8Gu5gAcGGMYOmxyizt22udJE2UhiZ2XVCViua/R/1x8kI73Zo4m8/AJeBHoxolf2Q/5F3YTMcQ==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 648)
Completed 200 OK in 273ms (Views: 21.7ms | ActiveRecord: 0.0ms | Allocations: 10129)


Started POST "/login" for ::1 at 2020-04-21 23:23:41 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"4lF10FXmjNtUUTz1vGXgD8xu+lQnQHWEiHSnfg7e7M9w+vZEj33mQE+FdPHlwW+r9mI/TP+/CmXH5R3imzhH2w==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 269ms (ActiveRecord: 4.1ms | Allocations: 2081)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"4lF10FXmjNtUUTz1vGXgD8xu+lQnQHWEiHSnfg7e7M9w+vZEj33mQE+FdPHlwW+r9mI/TP+/CmXH5R3imzhH2w==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 36.6ms | Allocations: 640)
Completed 200 OK in 324ms (Views: 72.2ms | ActiveRecord: 0.0ms | Allocations: 10120)


Started POST "/login" for ::1 at 2020-04-21 23:25:18 +0100
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"wnQLQiXtlxQAZrA011JJkX+Y+etAityqkwxCr1pWn+JQ34jW/3b9jxuy+DCO9sY1RZQ885h1o0vcnfgzz7A09g==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2604ms (ActiveRecord: 20.3ms | Allocations: 206910)


Started GET "/" for ::1 at 2020-04-21 23:25:22 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 61.3ms | Allocations: 1541)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 245.8ms | Allocations: 7574)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 32.1ms | Allocations: 1081)
Completed 200 OK in 3008ms (Views: 2953.8ms | ActiveRecord: 5.9ms | Allocations: 53289)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:25:29 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 81.7ms | Allocations: 8526)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.4ms | Allocations: 679)
Completed 200 OK in 124ms (Views: 93.4ms | ActiveRecord: 12.1ms | Allocations: 19848)


Started GET "/logout" for ::1 at 2020-04-21 23:25:36 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 57ms (ActiveRecord: 0.6ms | Allocations: 3136)


Started GET "/" for ::1 at 2020-04-21 23:25:36 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-21 23:25:36 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 21.0ms | Allocations: 738)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 193.1ms | Allocations: 3571)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 720)
Completed 200 OK in 221ms (Views: 218.9ms | ActiveRecord: 0.0ms | Allocations: 13503)


Started POST "/login" for ::1 at 2020-04-21 23:25:43 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"fV3PNd6CDCjzIwcxEPw2YO7rLCAB9pYf6grkJArgTobAZIIXsoxnwfD6YtGjMch7MYzuj4YRjXZ70LGdM9ULHQ==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 367ms (ActiveRecord: 0.8ms | Allocations: 4335)


Started GET "/" for ::1 at 2020-04-21 23:25:43 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 678)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 2756)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 52ms (Views: 40.3ms | ActiveRecord: 2.7ms | Allocations: 12649)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:25:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (11.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 56.3ms | Allocations: 6422)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 9.2ms | Allocations: 678)
Completed 200 OK in 120ms (Views: 79.2ms | ActiveRecord: 21.3ms | Allocations: 16964)


Started PUT "/friends/accept/2" for ::1 at 2020-04-21 23:25:49 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"ZziAROOE6VqUJxZk8WibHt5qwgRLFVPhNV4tvBXsJ5EhGXVNoFaM2Yq8ZwWTboFwwhWwpMsO6E+yqzYOFUmEXw==", "id"=>"2"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 2]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:25:50.147448"], ["id", 78]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:25:50.164061"], ["id", 79]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:25:49.994951"], ["id", 78]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:25:49.994951"], ["id", 79]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:25:50.193472"], ["id", 77]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:25:49.994951"], ["id", 77]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 248ms (ActiveRecord: 31.0ms | Allocations: 37518)


Started GET "/friends" for ::1 at 2020-04-21 23:25:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 52.0ms | Allocations: 9441)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 86ms (Views: 73.8ms | ActiveRecord: 5.9ms | Allocations: 19887)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 23:27:50 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"fg01rVFVEYtviTnx/wcOsXHaet1KJ0ddIyc/das+0h7AfhCqa/yx9Yn7gNfBK9NrbLAZagbEmIJSDppPzNXe2w==", "id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 78]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 77]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 153ms (ActiveRecord: 49.5ms | Allocations: 29637)


Started GET "/friends" for ::1 at 2020-04-21 23:27:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 50.8ms | Allocations: 7268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 679)
Completed 200 OK in 79ms (Views: 64.3ms | ActiveRecord: 7.0ms | Allocations: 18989)


Started DELETE "/friends/deny/2" for ::1 at 2020-04-21 23:27:53 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"V7VLkHCaU/9OVC8MCp3fBk/xxadLiFanRGPnXD/1iBbpxm6XSjPzgagmlio0sQLcUpumEAdriXg1SkJmWB6E0w==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 79]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.2ms | Allocations: 6574)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:32:in `deny'
Started GET "/friends" for ::1 at 2020-04-21 23:27:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 48.6ms | ActiveRecord: 7.2ms | Allocations: 15952)


Started GET "/users" for ::1 at 2020-04-21 23:28:02 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"], ["user_id", 3], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 33.9ms | Allocations: 2443)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 680)
Completed 200 OK in 74ms (Views: 62.2ms | ActiveRecord: 3.5ms | Allocations: 13970)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:28:05 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"dSqYF52QpgZKVbynRQTRbk6DIM9oon4gmhbZgH1fjRL/vtLl39XgS8k+qfWyT9YpTmuwrfJgh6++gqHtlI7Law==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (17.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:28:06.024137"], ["updated_at", "2020-04-21 22:28:06.024137"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (1.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:28:06.064455"], ["updated_at", "2020-04-21 22:28:06.064455"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 85ms (ActiveRecord: 44.4ms | Allocations: 8873)


Started GET "/friends" for ::1 at 2020-04-21 23:28:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 5530)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.7ms | Allocations: 678)
Completed 200 OK in 73ms (Views: 60.8ms | ActiveRecord: 6.9ms | Allocations: 15989)


Started GET "/users" for ::1 at 2020-04-21 23:28:09 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"], ["user_id", 3], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 2118)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 75ms (Views: 61.9ms | ActiveRecord: 1.9ms | Allocations: 12865)


Started GET "/users" for ::1 at 2020-04-21 23:28:36 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"], ["user_id", 3], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 721)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 694)
Completed 200 OK in 184ms (Views: 38.4ms | ActiveRecord: 32.2ms | Allocations: 32347)


Started GET "/friends" for ::1 at 2020-04-21 23:28:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 7323)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 678)
Completed 200 OK in 67ms (Views: 46.2ms | ActiveRecord: 9.2ms | Allocations: 17937)


Started GET "/logout" for ::1 at 2020-04-21 23:29:04 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2863)


Started GET "/" for ::1 at 2020-04-21 23:29:05 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 384)


Started GET "/login" for ::1 at 2020-04-21 23:29:05 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 7.3ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 686)
Completed 200 OK in 33ms (Views: 31.6ms | ActiveRecord: 0.0ms | Allocations: 10435)


Started POST "/login" for ::1 at 2020-04-21 23:29:10 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"BQjgunh+iSaJ78vGkWCFfJHMY/my6pvh5zewHT06njE+/y6/Uoay134He0zo4sJ+hkqL6/+xJHBi7M1BOzitWw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 299ms (ActiveRecord: 0.5ms | Allocations: 2885)


Started GET "/" for ::1 at 2020-04-21 23:29:11 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 9.7ms | Allocations: 728)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 2799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 678)
Completed 200 OK in 44ms (Views: 36.1ms | ActiveRecord: 2.5ms | Allocations: 12871)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 23:29:14 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"], ["user_id", 1], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 2124)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 31.6ms | ActiveRecord: 3.1ms | Allocations: 12864)


Started GET "/friends" for ::1 at 2020-04-21 23:29:17 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 43.8ms | Allocations: 6399)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 76ms (Views: 59.7ms | ActiveRecord: 8.5ms | Allocations: 16820)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 23:29:22 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"iqfr8vyeC4mWNnSBYNbXC2bn3iNcFwVCfcVjaJmKv5sMO1G4XSrGpY5qYBooCwrJJGd510uu3Qmuh2ytEVLTmg==", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:29:22.908561"], ["id", 81]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:29:22.874599"], ["id", 81]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:29:22.929414"], ["id", 80]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:29:22.874599"], ["id", 80]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 100ms (ActiveRecord: 31.3ms | Allocations: 19016)


Started GET "/friends" for ::1 at 2020-04-21 23:29:22 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 46.2ms | ActiveRecord: 4.2ms | Allocations: 15961)


Started GET "/users" for ::1 at 2020-04-21 23:29:27 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"], ["user_id", 1], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 683)
Completed 200 OK in 42ms (Views: 25.6ms | ActiveRecord: 3.6ms | Allocations: 11470)


Started GET "/friends" for ::1 at 2020-04-21 23:29:28 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 5522)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 674)
Completed 200 OK in 89ms (Views: 77.8ms | ActiveRecord: 5.6ms | Allocations: 15959)


Started GET "/users" for ::1 at 2020-04-21 23:29:30 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"], ["user_id", 1], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 683)
Completed 200 OK in 43ms (Views: 29.3ms | ActiveRecord: 2.8ms | Allocations: 11460)


Started GET "/logout" for ::1 at 2020-04-21 23:29:33 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.8ms | Allocations: 2351)


Started GET "/" for ::1 at 2020-04-21 23:29:33 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 285)


Started GET "/login" for ::1 at 2020-04-21 23:29:33 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 684)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/login" for ::1 at 2020-04-21 23:29:41 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"6mxCWzX3WxzHoUzPClRcbtJerE24hqcS8+CT5YDpI4/fUtb18XwucLe3dYdSxRHpzXTdd47edzayAIDv3nRXdg==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 339ms (ActiveRecord: 1.7ms | Allocations: 2885)


Started GET "/" for ::1 at 2020-04-21 23:29:41 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 9.2ms | Allocations: 663)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 2739)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 40ms (Views: 33.0ms | ActiveRecord: 3.0ms | Allocations: 12628)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:29:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 5523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 83ms (Views: 62.3ms | ActiveRecord: 4.5ms | Allocations: 15943)


Started DELETE "/friends/deny/3" for ::1 at 2020-04-21 23:29:47 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"yj9+5WBkRJbi7MxXsw2vGD0ueqfJjOGzG6I0eu+3drM8xokmb4SKAVUzOA86mVvTVtQ4podqNWeE0Rm/lPN47g==", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (1.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (1.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 81]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 80]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 67ms (ActiveRecord: 36.2ms | Allocations: 6517)


Started GET "/friends" for ::1 at 2020-04-21 23:29:47 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (8.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 25.7ms | ActiveRecord: 10.4ms | Allocations: 13349)


Started GET "/friends" for ::1 at 2020-04-21 23:29:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 36.8ms | ActiveRecord: 5.6ms | Allocations: 13327)


Started GET "/users" for ::1 at 2020-04-21 23:29:52 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"], ["user_id", 1], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 683)
Completed 200 OK in 98ms (Views: 27.3ms | ActiveRecord: 2.0ms | Allocations: 11466)


Started GET "/users" for ::1 at 2020-04-21 23:29:55 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3) AND "users"."id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $4 AND "friendships"."status" = $5)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"], ["user_id", 1], ["status", "requested"]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 683)
Completed 200 OK in 38ms (Views: 25.2ms | ActiveRecord: 2.3ms | Allocations: 11460)


Started GET "/users" for ::1 at 2020-04-21 23:32:09 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 119ms (ActiveRecord: 23.4ms | Allocations: 24744)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  
NoMethodError (undefined method `pending_friends' for #<ActiveRecord::Associations::CollectionProxy []>):
  
app/controllers/users_controller.rb:4:in `index'
Started GET "/users" for ::1 at 2020-04-21 23:32:22 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:1
  Rendered users/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1217)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 694)
Completed 200 OK in 125ms (Views: 31.6ms | ActiveRecord: 23.2ms | Allocations: 30922)


Started GET "/users" for ::1 at 2020-04-21 23:32:57 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 89ms (ActiveRecord: 16.2ms | Allocations: 24729)


  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  
NoMethodError (undefined method `friends' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  find):
  
app/controllers/users_controller.rb:4:in `index'
Started GET "/users" for ::1 at 2020-04-21 23:33:50 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 7741)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 681)
Completed 200 OK in 146ms (Views: 42.1ms | ActiveRecord: 31.7ms | Allocations: 38887)


Started GET "/friends" for ::1 at 2020-04-21 23:33:55 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 2915)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.9ms | Allocations: 678)
Completed 200 OK in 59ms (Views: 31.2ms | ActiveRecord: 10.3ms | Allocations: 13634)


Started GET "/users" for ::1 at 2020-04-21 23:33:57 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 37.8ms | ActiveRecord: 7.4ms | Allocations: 16320)


Started GET "/users" for ::1 at 2020-04-21 23:35:12 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 103ms (ActiveRecord: 18.3ms | Allocations: 23385)


  
NoMethodError (undefined method `where' for #<User:0x00007f730de855f8>
Did you mean?  when):
  
app/controllers/users_controller.rb:4:in `index'
Started GET "/users" for ::1 at 2020-04-21 23:35:45 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 118ms (ActiveRecord: 24.0ms | Allocations: 23429)


  
NoMethodError (undefined method `users' for #<User:0x00007f72f8016f18>):
  
app/controllers/users_controller.rb:4:in `index'
Started GET "/users" for ::1 at 2020-04-21 23:36:05 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 32.3ms | Allocations: 7741)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 681)
Completed 200 OK in 194ms (Views: 58.4ms | ActiveRecord: 35.8ms | Allocations: 38924)


Started GET "/users" for ::1 at 2020-04-21 23:37:26 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 50ms (Views: 34.8ms | ActiveRecord: 9.0ms | Allocations: 16348)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:37:31 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"cg1cMrmk4qDalP1KFg6kMkoHUC2JWADk0WmtlmLWh3T1IrJqA5zxZckzBcjbAAUtES9OColAEMegbiQA+BZMzQ==", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:37:31.205528"], ["updated_at", "2020-04-21 22:37:31.205528"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:37:31.226408"], ["updated_at", "2020-04-21 22:37:31.226408"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 68ms (ActiveRecord: 29.0ms | Allocations: 12244)


Started GET "/friends" for ::1 at 2020-04-21 23:37:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2914)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 679)
Completed 200 OK in 110ms (Views: 89.0ms | ActiveRecord: 2.5ms | Allocations: 13561)


Started GET "/logout" for ::1 at 2020-04-21 23:37:36 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 4.1ms | Allocations: 2867)


Started GET "/" for ::1 at 2020-04-21 23:37:36 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 383)


Started GET "/login" for ::1 at 2020-04-21 23:37:36 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 686)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms | Allocations: 10432)


Started POST "/login" for ::1 at 2020-04-21 23:37:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"C87JKYxBlgPQYzFUFuVHZlfeLFqI9A+TsoTsz2M8vCaLHZupzNhYSJRK2vxvQI7Q6hK/l/S97f8gjb12OvgQyg==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 280ms (ActiveRecord: 0.9ms | Allocations: 2878)


Started GET "/" for ::1 at 2020-04-21 23:37:42 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.8ms | Allocations: 728)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (4.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 2789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 678)
Completed 200 OK in 53ms (Views: 42.9ms | ActiveRecord: 5.1ms | Allocations: 12865)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:37:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (6.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (4.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 50.3ms | Allocations: 7155)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 100ms (Views: 70.8ms | ActiveRecord: 20.3ms | Allocations: 17582)


Started GET "/logout" for ::1 at 2020-04-21 23:37:52 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms | Allocations: 2360)


Started GET "/" for ::1 at 2020-04-21 23:37:52 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 288)


Started GET "/login" for ::1 at 2020-04-21 23:37:52 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 684)
Completed 200 OK in 27ms (Views: 23.0ms | ActiveRecord: 0.0ms | Allocations: 10241)


Started POST "/login" for ::1 at 2020-04-21 23:37:57 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"5VRqkIobYoa9kDh0IXYknqooj/myvx6FBLdnrxXPSCEhmkn3PZw35IfzxZu64Jk/S+twYuqWACC6b66i7sd3uQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 269ms (ActiveRecord: 3.2ms | Allocations: 2854)


Started GET "/" for ::1 at 2020-04-21 23:37:57 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 673)
Completed 200 OK in 45ms (Views: 27.0ms | ActiveRecord: 2.4ms | Allocations: 12610)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:38:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 70ms (Views: 39.8ms | ActiveRecord: 15.2ms | Allocations: 13324)


Started GET "/users" for ::1 at 2020-04-21 23:38:03 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 36.4ms | ActiveRecord: 2.4ms | Allocations: 16325)


Started POST "/friends/create/3" for ::1 at 2020-04-21 23:38:08 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"K8NF5M/4S855JO8focdd+8tvu8tuGVhzKIYma/TxTsAVx/qk3vOvA2JYfHmJnaXyx39p+YGDBZWYxcB5G4gvvA==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:38:08.145347"], ["updated_at", "2020-04-21 22:38:08.145347"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 62ms (ActiveRecord: 22.0ms | Allocations: 6016)


Started GET "/friends" for ::1 at 2020-04-21 23:38:08 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 30.6ms | ActiveRecord: 2.8ms | Allocations: 13341)


Started GET "/logout" for ::1 at 2020-04-21 23:38:18 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2359)


Started GET "/" for ::1 at 2020-04-21 23:38:18 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-04-21 23:38:18 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 684)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.0ms | Allocations: 10243)


Started POST "/login" for ::1 at 2020-04-21 23:38:25 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"QGhZCEesh8Q1Lu5VCqadghYb8sJUtk51DFi/EFd8du1omydUJPTYXS6QYPSjDS89da7q/6tOGxR4rhO69oI9Zw==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wiki@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.5ms | Allocations: 1940)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"QGhZCEesh8Q1Lu5VCqadghYb8sJUtk51DFi/EFd8du1omydUJPTYXS6QYPSjDS89da7q/6tOGxR4rhO69oI9Zw==", "user"=>{"email"=>"wiki@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1787)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 648)
Completed 200 OK in 286ms (Views: 26.0ms | ActiveRecord: 0.0ms | Allocations: 10140)


Started POST "/login" for ::1 at 2020-04-21 23:38:28 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"qfx7h4YltgNnHBEzhRkIq5tm0cAKJSbUequBdtn1Q6eBDwXb5X3pmnyin5IssroU+NPJ/fXdc7UOXS3ceAsILQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 394ms (ActiveRecord: 2.1ms | Allocations: 2856)


Started GET "/" for ::1 at 2020-04-21 23:38:28 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 20.1ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (4.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 101ms (Views: 72.5ms | ActiveRecord: 5.7ms | Allocations: 12615)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-21 23:38:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 2909)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 56ms (Views: 38.3ms | ActiveRecord: 4.7ms | Allocations: 13444)


Started GET "/logout" for ::1 at 2020-04-21 23:38:33 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 0.8ms | Allocations: 2359)


Started GET "/" for ::1 at 2020-04-21 23:38:33 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms | Allocations: 284)


Started GET "/login" for ::1 at 2020-04-21 23:38:33 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 684)
Completed 200 OK in 34ms (Views: 29.6ms | ActiveRecord: 0.0ms | Allocations: 10240)


Started POST "/login" for ::1 at 2020-04-21 23:38:38 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"3XVaWFLlLjzmSsGXkXxHI/fo0d1D5Awno4w5QHYD6rcTcXjEwZi63EKhoAtNY9ydFk9Gf9gqIlLwO1T3pD53vA==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 270ms (ActiveRecord: 0.9ms | Allocations: 2854)


Started GET "/" for ::1 at 2020-04-21 23:38:39 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 7.5ms | Allocations: 663)
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 673)
Completed 200 OK in 62ms (Views: 46.6ms | ActiveRecord: 5.7ms | Allocations: 12634)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 23:38:41 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 2091)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 13.3ms | Allocations: 674)
Completed 200 OK in 105ms (Views: 91.6ms | ActiveRecord: 7.2ms | Allocations: 12430)


Started GET "/friends" for ::1 at 2020-04-21 23:38:43 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 42.3ms | Allocations: 7138)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.6ms | Allocations: 674)
Completed 200 OK in 98ms (Views: 74.3ms | ActiveRecord: 6.6ms | Allocations: 17561)


Started PUT "/friends/accept/1" for ::1 at 2020-04-21 23:38:46 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"9EaNOd2u/bER7GP7wkb/xhNsX/uzL+ZMJMOXzrhzKvXWP6xl5s0FPxODTQZia0vDJ6ZmO7MicFmlrA17cxGBkw==", "id"=>"1"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:38:46.869515"], ["id", 83]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:38:46.889821"], ["id", 84]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:38:46.846461"], ["id", 83]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (2.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:38:46.846461"], ["id", 84]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:38:46.925862"], ["id", 82]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:38:46.846461"], ["id", 82]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 136ms (ActiveRecord: 38.5ms | Allocations: 31179)


Started GET "/friends" for ::1 at 2020-04-21 23:38:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 63.4ms | Allocations: 12165)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.6ms | Allocations: 675)
Completed 200 OK in 141ms (Views: 124.0ms | ActiveRecord: 6.5ms | Allocations: 22610)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:40:58 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"nidgWnqk1s2S5QBbiFUiGsI8bk+XlU/vH2mJ9vlw09wSC+kfQuIR7iDbX3d6rLcEtsXoiT9bZ1MFdPyAOXwsCw==", "id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (31.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 83]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 82]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (76.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 258ms (ActiveRecord: 140.1ms | Allocations: 29378)


Started GET "/friends" for ::1 at 2020-04-21 23:40:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 55.4ms | Allocations: 11267)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 101ms (Views: 82.5ms | ActiveRecord: 5.5ms | Allocations: 22989)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-21 23:41:05 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"bzj8hnfJzr/NceU47eEqo8EC+5DSZDwRtdW5Llt7cXnjFHXDT48JnH9PuhQfGL+9tft9VnqqFK2vyMxYm3eOrg==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 84]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 3.5ms | Allocations: 6554)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:39:in `deny'
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Destroy (14.8ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:41:42 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 35.0ms | ActiveRecord: 2.8ms | Allocations: 13327)


Started GET "/friends" for ::1 at 2020-04-21 23:41:44 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.4ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 34.2ms | ActiveRecord: 3.8ms | Allocations: 13324)


Started GET "/users" for ::1 at 2020-04-21 23:41:46 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.4ms | Allocations: 680)
Completed 200 OK in 46ms (Views: 35.6ms | ActiveRecord: 2.0ms | Allocations: 16546)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:41:49 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xf8MDBLWwm7dA2pmQBmQFtg43VroqYoyp+1FGsK1EoYgjZzH3Gwwd7Z4oo+PB8txUOY/S4QnXQfmopOpJtqqPA==", "id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (14.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:41:49.318058"], ["updated_at", "2020-04-21 22:41:49.318058"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:41:49.388414"], ["updated_at", "2020-04-21 22:41:49.388414"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 113ms (ActiveRecord: 69.6ms | Allocations: 8825)


Started GET "/friends" for ::1 at 2020-04-21 23:41:49 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.7ms | Allocations: 674)
Completed 200 OK in 46ms (Views: 35.4ms | ActiveRecord: 4.1ms | Allocations: 13341)


Started GET "/users" for ::1 at 2020-04-21 23:41:53 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 64ms (Views: 52.0ms | ActiveRecord: 2.1ms | Allocations: 16322)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:41:56 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"S197znRgVXaVkmZPUjOvjFTqVfPvMsuWN5NbWJmc2FCuLesFutqnb/7prqadLfTr3DS34oO8HKN23I3rffNg6g==", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:41:56.207092"], ["updated_at", "2020-04-21 22:41:56.207092"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Completed 500 Internal Server Error in 175ms (ActiveRecord: 26.5ms | Allocations: 6939)


  
ActionView::MissingTemplate (Missing template /friends with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/chubiyojo/Desktop/private work/FACEBOOK-CLONE/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/devise-4.7.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/chubiyojo/.rvm/gems/ruby-2.6.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/friendships_controller.rb:23:in `create'
Started POST "/friends/create/1" for ::1 at 2020-04-21 23:42:44 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"S197znRgVXaVkmZPUjOvjFTqVfPvMsuWN5NbWJmc2FCuLesFutqnb/7prqadLfTr3DS34oO8HKN23I3rffNg6g==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:42:45.121467"], ["updated_at", "2020-04-21 22:42:45.121467"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (18.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 151ms (ActiveRecord: 41.2ms | Allocations: 29835)


Started GET "/posts" for ::1 at 2020-04-21 23:42:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.5ms | Allocations: 725)
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (3.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 679)
Completed 200 OK in 39ms (Views: 29.0ms | ActiveRecord: 4.4ms | Allocations: 13471)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mFriendship Destroy (36.7ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:42:59 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 4703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 678)
Completed 200 OK in 54ms (Views: 35.4ms | ActiveRecord: 6.3ms | Allocations: 15228)


Started GET "/users" for ::1 at 2020-04-21 23:43:02 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 680)
Completed 200 OK in 54ms (Views: 39.0ms | ActiveRecord: 2.2ms | Allocations: 16590)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:43:05 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"5zCiYdHVFtGi0fUO0u1KnOSm2jtxrlpHIXJP644VD+8CQjKqH2/kyMmqPecd8xH7bHg4Kh0gjXJgPZlYanq3VQ==", "id"=>"1"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 22:43:05.955820"], ["updated_at", "2020-04-21 22:43:05.955820"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:43:05.990150"], ["updated_at", "2020-04-21 22:43:05.990150"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 73ms (ActiveRecord: 40.3ms | Allocations: 8645)


Started GET "/friends" for ::1 at 2020-04-21 23:43:06 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.3ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 41.6ms | ActiveRecord: 2.7ms | Allocations: 13348)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-21 23:43:18 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 51ms (Views: 38.1ms | ActiveRecord: 3.6ms | Allocations: 16325)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:43:21 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"UH4l9AIHexeqT7OoOJUwusTuqh8WABLDxX7Vfs6Vfz61DLU/zL2JDsE0e0H3i2vdTDBIDnqOxfaEMQPNKvrHhA==", "id"=>"1"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:43:21.801310"], ["updated_at", "2020-04-21 22:43:21.801310"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 40ms (ActiveRecord: 16.0ms | Allocations: 6002)


Started GET "/posts" for ::1 at 2020-04-21 23:43:21 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.2ms | Allocations: 659)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 673)
Completed 200 OK in 35ms (Views: 28.3ms | ActiveRecord: 2.7ms | Allocations: 12612)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (1.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-21 23:44:37 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 37.8ms | ActiveRecord: 3.0ms | Allocations: 16353)


Started POST "/friends/create/1" for ::1 at 2020-04-21 23:44:40 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"rcNqE9KFvAVy+ny+FoQzr0F3gphvSkmY7tn55bxYAOlIsfrYHD9OHBmBtFfZmmjIyalgiQPEnq2vli9WWDe4Uw==", "id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 22:44:40.400373"], ["updated_at", "2020-04-21 22:44:40.400373"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 69ms (ActiveRecord: 35.6ms | Allocations: 5992)


Started GET "/posts" for ::1 at 2020-04-21 23:44:40 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.2ms | Allocations: 659)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 673)
Completed 200 OK in 87ms (Views: 67.8ms | ActiveRecord: 2.7ms | Allocations: 12621)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:45:11 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 113ms (Views: 73.9ms | ActiveRecord: 4.7ms | Allocations: 13325)


Started GET "/logout" for ::1 at 2020-04-21 23:45:13 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 3.4ms | Allocations: 2866)


Started GET "/" for ::1 at 2020-04-21 23:45:13 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 286)


Started GET "/login" for ::1 at 2020-04-21 23:45:13 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 686)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 0.0ms | Allocations: 10430)


Started POST "/login" for ::1 at 2020-04-21 23:45:18 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"YPlhOQ5XK2iCzhTc1kzsvtyBIW/ZfKnDV0s3+D6oB/w9UI/FxhRuCM1+DuHYmZx9D17+gsn/M2MU13MEUXKSbQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 255ms (ActiveRecord: 2.1ms | Allocations: 2868)


Started GET "/" for ::1 at 2020-04-21 23:45:19 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 663)
  [1m[36mPost Load (3.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 673)
Completed 200 OK in 51ms (Views: 41.4ms | ActiveRecord: 4.5ms | Allocations: 12607)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-21 23:45:23 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 6001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 674)
Completed 200 OK in 87ms (Views: 56.2ms | ActiveRecord: 13.6ms | Allocations: 16325)


Started GET "/friends" for ::1 at 2020-04-21 23:45:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 6403)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 116ms (Views: 80.1ms | ActiveRecord: 6.9ms | Allocations: 16822)


Started PUT "/friends/accept/3" for ::1 at 2020-04-21 23:45:29 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"Ngoxyn7Hv8zYOlr2UQdyrFpZKn9vqcJLKNIDOpAt7ZZ2CSBNY8bXxnrluU8uICDZ5neOjcixX7lgiDWZVoopzQ==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:45:29.863517"], ["id", 90]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:45:29.883574"], ["id", 91]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:45:29.902132"], ["id", 92]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:45:29.839669"], ["id", 90]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:45:29.839669"], ["id", 91]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:45:29.839669"], ["id", 92]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-21 22:45:29.939372"], ["id", 89]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-21 22:45:29.839669"], ["id", 89]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 144ms (ActiveRecord: 32.5ms | Allocations: 41537)


Started GET "/friends" for ::1 at 2020-04-21 23:45:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (3.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 74.5ms | Allocations: 12082)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 124ms (Views: 101.1ms | ActiveRecord: 9.3ms | Allocations: 22526)


  [1m[36mFriendship Destroy (32.0ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:48:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 4644)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.8ms | Allocations: 679)
Completed 200 OK in 416ms (Views: 172.5ms | ActiveRecord: 85.8ms | Allocations: 35945)


Started GET "/users" for ::1 at 2020-04-21 23:48:49 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 28.4ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 680)
Completed 200 OK in 68ms (Views: 50.9ms | ActiveRecord: 1.9ms | Allocations: 16596)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:48:53 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Sew7J6UHoIQxLqH68kQEE7xvf8c/jLqKQreceXSUGpxCqWy/JJySKM2WgzToFSQmj0zv3rFTmWji8gL+qELDBQ==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (27.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:48:53.344454"], ["updated_at", "2020-04-21 22:48:53.344454"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:48:53.406263"], ["updated_at", "2020-04-21 22:48:53.406263"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:16:in `create'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:16:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 114ms (ActiveRecord: 52.8ms | Allocations: 12146)


Started GET "/friends" for ::1 at 2020-04-21 23:48:53 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 28.9ms | ActiveRecord: 2.7ms | Allocations: 13344)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:49:03 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 53ms (Views: 42.2ms | ActiveRecord: 3.8ms | Allocations: 13329)


Started GET "/users" for ::1 at 2020-04-21 23:49:06 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 5.3ms | Allocations: 674)
Completed 200 OK in 54ms (Views: 43.4ms | ActiveRecord: 2.5ms | Allocations: 16323)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:49:09 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"0svIznxCtHMIlMwXJJ8CAjhTi4z0M66AavNxIEdE7jbZjp9W/dmG3/Qs7tk+ziI3C3AblXrsjWLKtu+nm5I3rw==", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:47:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:49:09.231746"], ["updated_at", "2020-04-21 22:49:09.231746"]]
  ↳ app/controllers/friendships_controller.rb:13:in `create'
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:13:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 38ms (ActiveRecord: 16.5ms | Allocations: 5989)


Started GET "/friends" for ::1 at 2020-04-21 23:49:09 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.0ms | Allocations: 674)
Completed 200 OK in 67ms (Views: 37.6ms | ActiveRecord: 3.5ms | Allocations: 13344)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Destroy (63.2ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-21 23:51:09 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 8040)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 13.9ms | Allocations: 1026)
Completed 200 OK in 262ms (Views: 145.4ms | ActiveRecord: 31.3ms | Allocations: 40684)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:51:18 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"b+7h2oCkW6g3RSqDWio0iDfD08F4MjiHPPr8tHdm04pkq7ZCAT9pBMv9CE1AexS9BOBD2PbtG2Wcv2Izq7AKEw==", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 22:51:18.052526"], ["updated_at", "2020-04-21 22:51:18.052526"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:51:18.085012"], ["updated_at", "2020-04-21 22:51:18.085012"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 82ms (ActiveRecord: 41.2ms | Allocations: 12238)


Started GET "/friends" for ::1 at 2020-04-21 23:51:18 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 3693)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 70ms (Views: 60.6ms | ActiveRecord: 3.1ms | Allocations: 14840)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:51:36 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 82ms (Views: 70.5ms | ActiveRecord: 6.1ms | Allocations: 13324)


Started GET "/users" for ::1 at 2020-04-21 23:51:43 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 6001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 680)
Completed 200 OK in 42ms (Views: 34.1ms | ActiveRecord: 2.2ms | Allocations: 16330)


Started POST "/friends/create/2" for ::1 at 2020-04-21 23:51:46 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"/S7bLGlpsSNp6KBbfrLs++GOi9+1HqYwkvVVQNw65+v2a4y06PKDj5VQgpVk48zO0q0bxjvBhdIysMvHAOw+cg==", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 22:51:46.070159"], ["updated_at", "2020-04-21 22:51:46.070159"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 45ms (ActiveRecord: 26.0ms | Allocations: 5988)


Started GET "/posts" for ::1 at 2020-04-21 23:51:46 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 24.1ms | Allocations: 933)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 43.3ms | Allocations: 3255)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 678)
Completed 200 OK in 78ms (Views: 66.2ms | ActiveRecord: 2.6ms | Allocations: 13907)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-21 23:52:05 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2910)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 678)
Completed 200 OK in 49ms (Views: 30.4ms | ActiveRecord: 7.1ms | Allocations: 13348)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/logout" for ::1 at 2020-04-21 23:53:44 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 2868)


Started GET "/" for ::1 at 2020-04-21 23:53:44 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 292)


Started GET "/login" for ::1 at 2020-04-21 23:53:44 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 7.9ms | Allocations: 623)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 39.8ms | Allocations: 2711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 1030)
Completed 200 OK in 85ms (Views: 82.7ms | ActiveRecord: 0.0ms | Allocations: 13584)


Started POST "/login" for ::1 at 2020-04-22 00:47:43 +0100
  [1m[35m (74.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"K7u7nOffQ85F4xnZWJ80t8eP6kPmESCFKovWYTvyB/8L8kWbzi6BshnuA1QWgvfbDDL4uHP7/LSAIvQlQ2qnMw==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (73.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7950ms (ActiveRecord: 220.7ms | Allocations: 206983)


Started GET "/" for ::1 at 2020-04-22 00:47:56 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 149.5ms | Allocations: 1541)
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (33.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 487.7ms | Allocations: 9684)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 159.1ms | Allocations: 1080)
Completed 200 OK in 9092ms (Views: 8910.9ms | ActiveRecord: 40.0ms | Allocations: 55945)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-22 00:48:27 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 323.2ms | Allocations: 8819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.9ms | Allocations: 681)
Completed 200 OK in 362ms (Views: 333.2ms | ActiveRecord: 20.3ms | Allocations: 20027)


  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Destroy (247.7ms)[0m  [1m[31mDELETE FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-22 00:49:32 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 36.9ms | ActiveRecord: 2.8ms | Allocations: 16332)


Started GET "/users" for ::1 at 2020-04-22 00:49:49 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 24.8ms | Allocations: 674)
Completed 200 OK in 63ms (Views: 51.2ms | ActiveRecord: 3.1ms | Allocations: 16322)


Started GET "/friends" for ::1 at 2020-04-22 00:49:53 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (5.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 3745)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 678)
Completed 200 OK in 83ms (Views: 66.2ms | ActiveRecord: 9.3ms | Allocations: 14931)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 00:51:53 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 4633)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 679)
Completed 200 OK in 284ms (Views: 46.6ms | ActiveRecord: 28.7ms | Allocations: 36331)


Started GET "/users" for ::1 at 2020-04-22 00:51:56 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 680)
Completed 200 OK in 46ms (Views: 36.9ms | ActiveRecord: 2.6ms | Allocations: 16595)


Started POST "/friends/create/2" for ::1 at 2020-04-22 00:52:01 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"vP4pvErlEB8mmg43k285pUe5lAmYTwXrMUGSwS8b1b9wu+qOpc5SVZXQBuKNIIlhRAtTZ7AelDpT9L14z+dLlg==", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (41.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 23:52:01.822966"], ["updated_at", "2020-04-21 23:52:01.822966"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (1.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 23:52:01.870046"], ["updated_at", "2020-04-21 23:52:01.870046"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 141ms (ActiveRecord: 61.5ms | Allocations: 9718)


Started GET "/friends" for ::1 at 2020-04-22 00:52:01 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 43.4ms | ActiveRecord: 3.1ms | Allocations: 13351)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-22 00:52:11 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 78ms (Views: 54.1ms | ActiveRecord: 7.8ms | Allocations: 16333)


Started POST "/friends/create/3" for ::1 at 2020-04-22 00:52:14 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"aCJb4YNY7LDAiUxTFfUcVGbyNUhCD84+rWPEEoH49/RaYw8J3jWuYKnU+l0yPqr8vFa+Q5OT8afiK2xeDgs2Ug==", "id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 23:52:14.723236"], ["updated_at", "2020-04-21 23:52:14.723236"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 23:52:14.731223"], ["updated_at", "2020-04-21 23:52:14.731223"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 57ms (ActiveRecord: 32.1ms | Allocations: 6000)


Started GET "/friends" for ::1 at 2020-04-22 00:52:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.5ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 36.9ms | ActiveRecord: 2.8ms | Allocations: 13339)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 00:52:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 31.1ms | ActiveRecord: 2.6ms | Allocations: 13333)


Started GET "/users" for ::1 at 2020-04-22 00:52:26 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 66ms (Views: 55.2ms | ActiveRecord: 4.6ms | Allocations: 16326)


Started POST "/friends/create/2" for ::1 at 2020-04-22 00:52:30 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"MvWVgJmy4gTBRJgfE3gpSUtoBXxeplRrfx2sUtZiSU/+sFaydpmgTnIOkMoNN5mNSNrCEnb3xbodqIPrNp7XZg==", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:40:in `find_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 23:52:30.326970"], ["updated_at", "2020-04-21 23:52:30.326970"], ["status", "pending"]]
  ↳ app/models/friendship.rb:17:in `block in request'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 23:52:30.332922"], ["updated_at", "2020-04-21 23:52:30.332922"], ["status", "requested"]]
  ↳ app/models/friendship.rb:18:in `block in request'
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `request'
Redirected to http://localhost:3000/friends
Completed 302 Found in 49ms (ActiveRecord: 18.3ms | Allocations: 6001)


Started GET "/friends" for ::1 at 2020-04-22 00:52:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 31.7ms | ActiveRecord: 3.8ms | Allocations: 13345)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "friendships"[0m
  [1m[36mFriendship Load (31.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (75.7ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id" FROM "friendships"[0m
  [1m[36mFriendship Destroy (118.9ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for ::1 at 2020-04-22 00:57:52 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 95.5ms | Allocations: 7557)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 7.5ms | Allocations: 681)
Completed 200 OK in 695ms (Views: 474.0ms | ActiveRecord: 6.2ms | Allocations: 37913)


Started POST "/friends/create/2" for ::1 at 2020-04-22 00:57:59 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"1hbDkICq6722gKdsI0dOOQvl1dY3ZM/fqBUURF4xyKcaUwCib4Gp9wXKr7k9CP79CFcSuB81Xg7KoDv9vs1Wjg==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (1.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-21 23:58:00.056642"], ["updated_at", "2020-04-21 23:58:00.056642"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 23:58:00.094348"], ["updated_at", "2020-04-21 23:58:00.094348"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 113ms (ActiveRecord: 39.0ms | Allocations: 12268)


Started GET "/friends" for ::1 at 2020-04-22 00:58:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 2917)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 10.9ms | Allocations: 678)
Completed 200 OK in 95ms (Views: 76.9ms | ActiveRecord: 3.0ms | Allocations: 13558)


Started GET "/users" for ::1 at 2020-04-22 00:58:04 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 48ms (Views: 34.5ms | ActiveRecord: 2.7ms | Allocations: 16318)


  [1m[36mFriendship Load (188.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id" FROM "friendships"[0m
Started POST "/friends/create/2" for ::1 at 2020-04-22 00:58:20 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"8/hcjC83SDKKQ+T+65dmi4d8+hXdJhFNPeD1MxvS93U/vZ++wBwKeDkJ7Cv12NZPhM49e/V3gJxfVdqK+y5pXA==", "id"=>"2"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-21 23:58:20.651965"], ["updated_at", "2020-04-21 23:58:20.651965"]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 38ms (ActiveRecord: 20.0ms | Allocations: 6004)


Started GET "/posts" for ::1 at 2020-04-22 00:58:20 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.3ms | Allocations: 743)
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 678)
Completed 200 OK in 56ms (Views: 44.9ms | ActiveRecord: 4.2ms | Allocations: 12991)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id" FROM "friendships"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id" FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-22 00:59:28 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 50.2ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 77ms (Views: 64.5ms | ActiveRecord: 4.8ms | Allocations: 16452)


Started POST "/friends/create/3" for ::1 at 2020-04-22 00:59:31 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"wdwsZvLHRx1TxrSGrgbu8ZiRt6970FQd0z8PehSYl3PznXiOr6oFzTqbAoiJzVhZQjU8pKpMa4Scd6c2m2tW1Q==", "id"=>"3"}
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-21 23:59:31.777345"], ["updated_at", "2020-04-21 23:59:31.777345"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (26.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-21 23:59:31.831248"], ["updated_at", "2020-04-21 23:59:31.831248"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 145ms (ActiveRecord: 94.9ms | Allocations: 8663)


Started GET "/friends" for ::1 at 2020-04-22 00:59:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 6.1ms | Allocations: 674)
Completed 200 OK in 58ms (Views: 44.4ms | ActiveRecord: 4.2ms | Allocations: 13340)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id" FROM "friendships"[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/logout" for ::1 at 2020-04-22 01:00:31 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 55ms (ActiveRecord: 0.6ms | Allocations: 3203)


Started GET "/" for ::1 at 2020-04-22 01:00:32 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 291)


Started GET "/login" for ::1 at 2020-04-22 01:00:32 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 27.0ms | Allocations: 737)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 160.2ms | Allocations: 3576)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 720)
Completed 200 OK in 224ms (Views: 221.9ms | ActiveRecord: 0.0ms | Allocations: 13511)


Started POST "/login" for ::1 at 2020-04-22 01:00:42 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"tdq3Q4tQJSlkHtzz6gw+55rW57/RdrFZ3JvOsfIX7NVmHIHp7TGgAcFlRA6X9lwDcOJuNzczDENrawX91i1Hsw==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 369ms (ActiveRecord: 0.6ms | Allocations: 4341)


Started GET "/" for ::1 at 2020-04-22 01:00:42 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.0ms | Allocations: 674)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2751)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 678)
Completed 200 OK in 38ms (Views: 26.7ms | ActiveRecord: 3.0ms | Allocations: 12643)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-22 01:00:46 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (5.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 56.9ms | Allocations: 6426)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 102ms (Views: 80.1ms | ActiveRecord: 14.0ms | Allocations: 16975)


Started PUT "/friends/accept/1" for ::1 at 2020-04-22 01:00:50 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"LDVQbrgbuO0sHSH/ZGnL4AeSqK3FwOPrtkflZmp8HMN4j6R8ljVevvXutA3ywk/gumquotMXNPgy9V0oqpBiQg==", "id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:00:50.540028"], ["id", 109]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:00:50.519689"], ["id", 109]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:00:50.562424"], ["id", 108]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:00:50.519689"], ["id", 108]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 97ms (ActiveRecord: 34.6ms | Allocations: 15608)


Started GET "/friends" for ::1 at 2020-04-22 01:00:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 44.6ms | ActiveRecord: 5.2ms | Allocations: 15965)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/logout" for ::1 at 2020-04-22 01:01:08 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.9ms | Allocations: 2366)


Started GET "/" for ::1 at 2020-04-22 01:01:08 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-22 01:01:08 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1793)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 684)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.0ms | Allocations: 10244)


Started POST "/login" for ::1 at 2020-04-22 01:01:17 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"34nevt9j1xlIIDfOXDJOz0wJJXaR0YV3zb/c9OqyFOUm4Oy8roD/aLrSqeQR+wagsmJxIQnTLBC8Ux6yZfPOBQ==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 263ms (ActiveRecord: 0.6ms | Allocations: 2853)


Started GET "/" for ::1 at 2020-04-22 01:01:18 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.5ms | Allocations: 663)
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 673)
Completed 200 OK in 32ms (Views: 25.3ms | ActiveRecord: 2.7ms | Allocations: 12631)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-22 01:01:20 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 79.8ms | Allocations: 6403)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.5ms | Allocations: 674)
Completed 200 OK in 172ms (Views: 137.1ms | ActiveRecord: 11.5ms | Allocations: 16835)


Started PUT "/friends/accept/1" for ::1 at 2020-04-22 01:01:24 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"wOkZveJZTTQ/SglKr9FAV2u3MeGN2TNKbnWo9ZWdehXqNyFZQgMIX7Ot5MiThNMCcV42J0HTDsVu5v9kzDykdA==", "id"=>"1"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:01:24.392066"], ["id", 107]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:01:24.407981"], ["id", 106]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:01:24.362528"], ["id", 107]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Update (0.9ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:01:24.362528"], ["id", 106]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (1.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:01:24.441363"], ["id", 105]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:01:24.362528"], ["id", 105]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 119ms (ActiveRecord: 29.8ms | Allocations: 30851)


Started GET "/friends" for ::1 at 2020-04-22 01:01:24 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 9441)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.9ms | Allocations: 674)
Completed 200 OK in 59ms (Views: 49.4ms | ActiveRecord: 4.4ms | Allocations: 19887)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 01:02:40 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 64.1ms | Allocations: 11190)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 679)
Completed 200 OK in 196ms (Views: 74.8ms | ActiveRecord: 42.2ms | Allocations: 42693)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-22 01:02:45 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"JJulyJK6BZT9zU0ioIs8nUJedJs/7NPDd0xghzxhEJG26YDBHBliCMGxmh3ac5xeeJI491bx/Q57+FNWvi/p4Q==", "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 107]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 105]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 66ms (ActiveRecord: 23.3ms | Allocations: 9897)


Started GET "/friends" for ::1 at 2020-04-22 01:02:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (2.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 68.7ms | Allocations: 5525)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 674)
Completed 200 OK in 110ms (Views: 98.4ms | ActiveRecord: 6.5ms | Allocations: 15964)


Started DELETE "/friends/deny/1" for ::1 at 2020-04-22 01:02:49 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"2CT8JwINmv3fu1uIvjIJJoh6IRliWPZGh+559F8CJw1KVtkujK79YePHjLfEyqnlsrZtdQtF2IuLWkol3UzefQ==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.6ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 106]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 4.8ms | Allocations: 6576)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/friendship.rb:18:in `block in breakup'
app/models/friendship.rb:16:in `breakup'
app/controllers/friendships_controller.rb:39:in `deny'
  [1m[36mFriendship Destroy (26.7ms)[0m  [1m[31mDELETE FROM "friendships"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 01:03:07 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 29.7ms | ActiveRecord: 6.7ms | Allocations: 13335)


Started GET "/users" for ::1 at 2020-04-22 01:03:10 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 6006)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 680)
Completed 200 OK in 46ms (Views: 35.8ms | ActiveRecord: 2.7ms | Allocations: 16597)


Started POST "/friends/create/1" for ::1 at 2020-04-22 01:03:13 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"iQDWNdJ6Q9dH8ZjFXjzFHv+ZTjlDv2h/AoxASnhkkO8XpeaSSCBd6NhC55hX+MlUzFJpo4lhjatjYQGHMjM8zw==", "id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-22 00:03:13.636005"], ["updated_at", "2020-04-22 00:03:13.636005"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-22 00:03:13.670227"], ["updated_at", "2020-04-22 00:03:13.670227"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 78ms (ActiveRecord: 34.3ms | Allocations: 8827)


Started GET "/friends" for ::1 at 2020-04-22 01:03:13 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 40ms (Views: 30.8ms | ActiveRecord: 3.3ms | Allocations: 13346)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/users" for ::1 at 2020-04-22 01:03:21 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 49ms (Views: 35.8ms | ActiveRecord: 2.2ms | Allocations: 16323)


Started POST "/friends/create/1" for ::1 at 2020-04-22 01:03:24 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"BZN8wLfIHpXzngvj1OrBTzilPlH02F518KqE+n6PvWGbNkxnLZIAqmwtdL7dLs0FC24Zyz4Gu6GRR8U3NNgRQQ==", "id"=>"1"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 20ms (ActiveRecord: 5.7ms | Allocations: 3304)


Started GET "/posts" for ::1 at 2020-04-22 01:03:24 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.4ms | Allocations: 724)
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 2795)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 38ms (Views: 29.9ms | ActiveRecord: 3.2ms | Allocations: 12943)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 01:03:45 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 43ms (Views: 30.6ms | ActiveRecord: 3.2ms | Allocations: 13328)


Started GET "/users" for ::1 at 2020-04-22 01:03:46 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 5998)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 8.3ms | Allocations: 674)
Completed 200 OK in 109ms (Views: 99.9ms | ActiveRecord: 3.4ms | Allocations: 16322)


Started POST "/friends/create/1" for ::1 at 2020-04-22 01:03:50 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"bookRNFKBQq9kuZOnxM9OduEFXeEVPk/ZU43C7N8P0fwLxTjSxAbNSIhmROW1zFz6E8y7U6KHOsEo3bG+SuTZw==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 17ms (ActiveRecord: 3.8ms | Allocations: 3293)


Started GET "/posts" for ::1 at 2020-04-22 01:03:50 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 659)
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (4.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 673)
Completed 200 OK in 53ms (Views: 41.9ms | ActiveRecord: 6.0ms | Allocations: 12625)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-22 01:03:58 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 58ms (Views: 39.3ms | ActiveRecord: 7.6ms | Allocations: 16325)


Started GET "/logout" for ::1 at 2020-04-22 01:04:02 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms | Allocations: 2861)


Started GET "/" for ::1 at 2020-04-22 01:04:02 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 289)


Started GET "/login" for ::1 at 2020-04-22 01:04:02 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.6ms | Allocations: 686)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.0ms | Allocations: 10435)


Started POST "/login" for ::1 at 2020-04-22 01:04:09 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"LHG0wIt4DH2Un5CBhUiVR/LD8AOBemF0+8nczpmmZFU3doKeJNyJB8WgXbyXVZZS86z5z/HR9W8+wpNwrmMYGQ==", "user"=>{"email"=>"adamachubi@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "adamachubi@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 386ms (ActiveRecord: 5.3ms | Allocations: 2873)


Started GET "/" for ::1 at 2020-04-22 01:04:10 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 663)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (2.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 1.3ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 673)
Completed 200 OK in 46ms (Views: 35.6ms | ActiveRecord: 3.6ms | Allocations: 12613)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-22 01:04:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 6402)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 42.4ms | ActiveRecord: 5.5ms | Allocations: 16830)


Started PUT "/friends/accept/2" for ::1 at 2020-04-22 01:04:17 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"kBQZezJ06eK/tbx2Aqrb7vSo6pLuuoffCrYDSPwkmY9ywE3V7dPJckrWkF31SkQ+DOlS09wi6/kuW8Qi1vzZMw==", "id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (1.4ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:04:17.674714"], ["id", 111]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:04:17.649718"], ["id", 111]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:04:17.695021"], ["id", 110]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:04:17.649718"], ["id", 110]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 94ms (ActiveRecord: 40.3ms | Allocations: 15557)


Started GET "/friends" for ::1 at 2020-04-22 01:04:17 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.5ms | Allocations: 674)
Completed 200 OK in 39ms (Views: 30.5ms | ActiveRecord: 3.2ms | Allocations: 15958)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started DELETE "/friends/deny/2" for ::1 at 2020-04-22 01:04:26 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"HHRkzx65w83eSVIdPikefqyYVvxZQNV0V1wnEk+qnFTr0Xm6ly6FR0ETiyOdR9QD8jfQC/qi+sbm25rqiemjeA==", "id"=>"2"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (1.1ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 111]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.7ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 110]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 64ms (ActiveRecord: 32.1ms | Allocations: 6460)


Started GET "/friends" for ::1 at 2020-04-22 01:04:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 34.0ms | ActiveRecord: 2.7ms | Allocations: 13338)


Started GET "/users" for ::1 at 2020-04-22 01:04:31 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 37.5ms | ActiveRecord: 2.7ms | Allocations: 16320)


Started POST "/friends/create/2" for ::1 at 2020-04-22 01:04:34 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"LSJ80uC6I58NXIfBClNFbhuiarJb/dGUChT+nffvbMcR0kYEWKDHEpSsoqmIAPzQfeiepxVMz2xh/hslPT/Txg==", "id"=>"2"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 2], ["created_at", "2020-04-22 00:04:34.875585"], ["updated_at", "2020-04-22 00:04:34.875585"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (3.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", "2020-04-22 00:04:34.905556"], ["updated_at", "2020-04-22 00:04:34.905556"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 73ms (ActiveRecord: 36.5ms | Allocations: 8640)


Started GET "/friends" for ::1 at 2020-04-22 01:04:34 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 37ms (Views: 25.7ms | ActiveRecord: 2.7ms | Allocations: 13343)


Started GET "/users" for ::1 at 2020-04-22 01:04:36 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 70ms (Views: 49.1ms | ActiveRecord: 3.0ms | Allocations: 16322)


Started POST "/friends/create/3" for ::1 at 2020-04-22 01:04:39 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"VaBP6bx6Ze3WjT8USxCJcsVA+SwgC0RgK7A1nkzETr0FJU8CPbIPiOcSKut0zOVSxiIQOasVMDcj7r4o/Ptgsg==", "id"=>"3"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 3], ["created_at", "2020-04-22 00:04:39.623181"], ["updated_at", "2020-04-22 00:04:39.623181"], ["status", "pending"]]
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:17:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at", "status") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 1], ["created_at", "2020-04-22 00:04:39.644605"], ["updated_at", "2020-04-22 00:04:39.644605"], ["status", "requested"]]
  ↳ app/controllers/friendships_controller.rb:18:in `create'
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/friendships_controller.rb:18:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 71ms (ActiveRecord: 28.7ms | Allocations: 8638)


Started GET "/friends" for ::1 at 2020-04-22 01:04:39 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.7ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 32.5ms | ActiveRecord: 2.9ms | Allocations: 13347)


Started GET "/users" for ::1 at 2020-04-22 01:04:41 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.6ms | Allocations: 674)
Completed 200 OK in 57ms (Views: 40.6ms | ActiveRecord: 6.5ms | Allocations: 16316)


Started POST "/friends/create/3" for ::1 at 2020-04-22 01:04:45 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"irNDwILd0pWTiYRKfVfKrFcIRTA47O8NXcP2RtQFiaHaNkMrAxW48KIWkbVCi6aMVGqsJbPym1pVnX3wZDqnrg==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/posts
Completed 302 Found in 23ms (ActiveRecord: 1.6ms | Allocations: 3297)


Started GET "/posts" for ::1 at 2020-04-22 01:04:45 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.9ms | Allocations: 659)
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2720)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.1ms | Allocations: 673)
Completed 200 OK in 39ms (Views: 30.5ms | ActiveRecord: 2.4ms | Allocations: 12620)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/friends" for ::1 at 2020-04-22 01:05:00 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 47ms (Views: 33.3ms | ActiveRecord: 2.7ms | Allocations: 13333)


Started GET "/friends" for ::1 at 2020-04-22 01:05:26 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 4637)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 679)
Completed 200 OK in 191ms (Views: 41.9ms | ActiveRecord: 31.7ms | Allocations: 35917)


Started GET "/users" for ::1 at 2020-04-22 01:05:28 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 6005)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 4.1ms | Allocations: 680)
Completed 200 OK in 78ms (Views: 59.7ms | ActiveRecord: 5.2ms | Allocations: 16589)


Started POST "/friends/create/2" for ::1 at 2020-04-22 01:05:31 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"OO3rXNJyQXShgdC3Fsq93DKh7zcrihd42ibvz3tFVhkEHdGKamil+Thx9d+UmQRiVOsbImU7CYCxzAp3sZXpGA==", "id"=>"2"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 29ms (ActiveRecord: 4.9ms | Allocations: 3446)


Started GET "/friends" for ::1 at 2020-04-22 01:05:31 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2902)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 35ms (Views: 25.1ms | ActiveRecord: 2.6ms | Allocations: 13344)


Started GET "/users" for ::1 at 2020-04-22 01:05:37 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 1], ["user_id", 1], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 32.3ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.8ms | Allocations: 674)
Completed 200 OK in 61ms (Views: 49.3ms | ActiveRecord: 2.6ms | Allocations: 16322)


Started POST "/friends/create/2" for ::1 at 2020-04-22 01:05:41 +0100
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"T14uc+Nllvv4ruNPkFAH47hZiv82GUikGxhs+1jejnlzrhSlW39ydmFexicSA75d3hN+6nioVlxw8olDkg4xeA==", "id"=>"2"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:15:in `create'
Redirected to http://localhost:3000/friends
Completed 302 Found in 52ms (ActiveRecord: 5.1ms | Allocations: 3306)


Started GET "/friends" for ::1 at 2020-04-22 01:05:41 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 1], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.2ms | Allocations: 674)
Completed 200 OK in 41ms (Views: 32.7ms | ActiveRecord: 2.8ms | Allocations: 13349)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/logout" for ::1 at 2020-04-22 01:05:59 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 0.4ms | Allocations: 2874)


Started GET "/" for ::1 at 2020-04-22 01:05:59 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 388)


Started GET "/login" for ::1 at 2020-04-22 01:05:59 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 212)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 686)
Completed 200 OK in 30ms (Views: 26.8ms | ActiveRecord: 0.0ms | Allocations: 10441)


Started POST "/login" for ::1 at 2020-04-22 01:06:08 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"tXccuLAYssA4WY0/RT/gzdcPLaQCY8su/WIIws/YhQs4q4bpzZPs/8GlUxVRngZTLvnGprphq/WoAf0RP86KjA==", "user"=>{"email"=>"dan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 310ms (ActiveRecord: 2.8ms | Allocations: 2871)


Started GET "/" for ::1 at 2020-04-22 01:06:08 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.1ms | Allocations: 728)
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 2]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.0ms | Allocations: 678)
Completed 200 OK in 44ms (Views: 31.2ms | ActiveRecord: 2.0ms | Allocations: 12868)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-22 01:06:11 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 2], ["user_id", 2], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 6000)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.9ms | Allocations: 674)
Completed 200 OK in 44ms (Views: 33.0ms | ActiveRecord: 2.9ms | Allocations: 16322)


Started GET "/friends" for ::1 at 2020-04-22 01:06:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 6403)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 55ms (Views: 42.3ms | ActiveRecord: 6.2ms | Allocations: 16821)


Started PUT "/friends/accept/1" for ::1 at 2020-04-22 01:06:16 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"BuN8P0PSNl8/o2QIGN1GvLtwYYsNzl+hBxjLmRn5ILbBjv8ALLcspEbW/PmmnSJzlLl8oy6n0TJ9AbDN1pUdXQ==", "id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:06:16.703200"], ["id", 113]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:06:16.650882"], ["id", 113]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 2]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:06:16.736365"], ["id", 112]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:06:16.650882"], ["id", 112]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 143ms (ActiveRecord: 30.6ms | Allocations: 18905)


Started GET "/friends" for ::1 at 2020-04-22 01:06:16 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 25.4ms | Allocations: 5524)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.3ms | Allocations: 674)
Completed 200 OK in 69ms (Views: 56.8ms | ActiveRecord: 4.0ms | Allocations: 15966)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started DELETE "/friends/deny/1" for ::1 at 2020-04-22 01:06:50 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"fyu+/jQUsUqcFgpeZL7RbeF2hTv8OFqtImZIGWuMpcx6UvsU38+cmJqN3EKCcz3Hkeo86/9TCHoAkXqZs7MQtQ==", "id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 113]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 2], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 112]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 49ms (ActiveRecord: 20.6ms | Allocations: 6526)


Started GET "/friends" for ::1 at 2020-04-22 01:06:50 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 2], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 674)
Completed 200 OK in 42ms (Views: 32.9ms | ActiveRecord: 2.5ms | Allocations: 13339)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started GET "/logout" for ::1 at 2020-04-22 01:07:03 +0100
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms | Allocations: 2361)


Started GET "/" for ::1 at 2020-04-22 01:07:03 +0100
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)


Started GET "/login" for ::1 at 2020-04-22 01:07:03 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 206)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.2ms | Allocations: 684)
Completed 200 OK in 31ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 10242)


Started POST "/login" for ::1 at 2020-04-22 01:07:11 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"TfPvO+xR86plsqjbnnmnA7NO6UXV2nA8tftSXwtxrir+zV6+3HI9L3HMkoI2ELvP1eS7cP6GjEnm1dTr5AJLJw==", "user"=>{"email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "wqeek@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 265ms (ActiveRecord: 9.0ms | Allocations: 2853)


Started GET "/" for ::1 at 2020-04-22 01:07:11 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.0ms | Allocations: 663)
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.4ms | Allocations: 673)
Completed 200 OK in 53ms (Views: 45.7ms | ActiveRecord: 2.2ms | Allocations: 12612)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/friends" for ::1 at 2020-04-22 01:07:14 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (3.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (9.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (13.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:70
  Rendered friendships/index.html.erb within layouts/application (Duration: 111.4ms | Allocations: 6418)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.0ms | Allocations: 674)
Completed 200 OK in 188ms (Views: 129.6ms | ActiveRecord: 35.1ms | Allocations: 16957)


Started PUT "/friends/accept/1" for ::1 at 2020-04-22 01:07:17 +0100
Processing by FriendshipsController#accept as HTML
  Parameters: {"authenticity_token"=>"fsQrZ7swum0WBx75IXiueW7oq6UjiCIsTah/EzkAA7qNOH8iHMpYMOWXxVALIEhlZrbNxJOP5gIf0bA5JESnig==", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 3], ["friend_id", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.8ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:07:17.150345"], ["id", 115]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:07:17.134583"], ["id", 115]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 1], ["friend_id", 3]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "status" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["status", "accepted"], ["updated_at", "2020-04-22 00:07:17.170383"], ["id", 114]]
  ↳ app/models/friendship.rb:24:in `accept_one_side'
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "updated_at" = $1 WHERE "friendships"."id" = $2[0m  [["updated_at", "2020-04-22 00:07:17.134583"], ["id", 114]]
  ↳ app/models/friendship.rb:25:in `accept_one_side'
  [1m[35m (201.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:6:in `accept'
Redirected to http://localhost:3000/friends
Completed 302 Found in 262ms (ActiveRecord: 209.0ms | Allocations: 15258)


Started GET "/friends" for ::1 at 2020-04-22 01:07:17 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:36
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:41
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:65
  Rendered friendships/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 5520)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 674)
Completed 200 OK in 60ms (Views: 42.5ms | ActiveRecord: 5.7ms | Allocations: 15964)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "friendships"."user_id", "friendships"."friend_id", "friendships"."status" FROM "friendships"[0m
Started DELETE "/friends/deny/1" for ::1 at 2020-04-22 01:07:30 +0100
Processing by FriendshipsController#deny as HTML
  Parameters: {"authenticity_token"=>"NdfO+l67KuNRlAwJ7Q5PCJqG5b+KRshKUpJVxPl9noxlt6NSRCkKq6mkgb5OHKKRkC7AUp7ms50DV+SHHc35Rw==", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/friendships_controller.rb:54:in `find_user'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 3], ["friend_id", 1], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 115]]
  ↳ app/models/friendship.rb:17:in `block in breakup'
  [1m[36mFriendship Load (0.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 1], ["friend_id", 3], ["LIMIT", 1]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 114]]
  ↳ app/models/friendship.rb:18:in `block in breakup'
  [1m[35m (51.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/friendship.rb:16:in `breakup'
Redirected to http://localhost:3000/friends
Completed 302 Found in 89ms (ActiveRecord: 59.6ms | Allocations: 6470)


Started GET "/friends" for ::1 at 2020-04-22 01:07:30 +0100
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/friendships/index.html.erb:6
  [1m[35m (5.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/views/friendships/index.html.erb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2[0m  [["user_id", 3], ["status", "requested"]]
  ↳ app/views/friendships/index.html.erb:31
  Rendered friendships/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 2904)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.5ms | Allocations: 674)
Completed 200 OK in 62ms (Views: 47.6ms | ActiveRecord: 7.9ms | Allocations: 13349)


Started GET "/" for ::1 at 2020-04-24 23:06:16 +0100
  [1m[35m (80.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#index as HTML
  [1m[36mUser Load (45.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3122.9ms | Allocations: 183495)
  [1m[36mPost Load (27.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (56.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3349.1ms | Allocations: 189635)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 14.4ms | Allocations: 998)
Completed 200 OK in 12312ms (Views: 11691.4ms | ActiveRecord: 336.7ms | Allocations: 415525)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-04-24 23:06:44 +0100
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $2 AND "friendships"."status" = $3)[0m  [["id", 3], ["user_id", 3], ["status", "accepted"]]
  ↳ app/views/users/index.html.erb:1
  [1m[36mActiveStorage::Attachment Load (23.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/users/index.html.erb:6
  Rendered users/index.html.erb within layouts/application (Duration: 202.5ms | Allocations: 8861)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.6ms | Allocations: 613)
Completed 200 OK in 261ms (Views: 212.0ms | ActiveRecord: 33.5ms | Allocations: 19627)


Started GET "/profile" for ::1 at 2020-04-24 23:06:49 +0100
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.4ms | Allocations: 214)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 135.9ms | Allocations: 4485)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.1ms | Allocations: 613)
Completed 200 OK in 204ms (Views: 176.3ms | ActiveRecord: 1.0ms | Allocations: 15688)


Started GET "/" for ::1 at 2020-04-24 23:06:52 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.8ms | Allocations: 674)
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2752)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 3.3ms | Allocations: 610)
Completed 200 OK in 41ms (Views: 27.9ms | ActiveRecord: 4.0ms | Allocations: 12202)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/posts" for ::1 at 2020-04-24 23:07:35 +0100
Processing by PostsController#create as HTML
  Parameters: {"authenticity_token"=>"kquh6m638l4+da3jQe26vPa3b16+08QMBYCWCImjygmSSYJDRJEBTldb7p5urKXMszbtnlfCPjsDdFesIciayg==", "post"=>{"content"=>"<p>Hello am coming</p>", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f97bae3fd10 @tempfile=#<Tempfile:/tmp/RackMultipart20200424-5782-flub6q.jpg>, @original_filename="foto_no_exif (1).jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[image]\"; filename=\"foto_no_exif (1).jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Post"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mPost Create (199.7ms)[0m  [1m[32mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "<p>Hello am coming</p>"], ["user_id", 3], ["created_at", "2020-04-24 22:07:35.887892"], ["updated_at", "2020-04-24 22:07:35.887892"]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mActiveStorage::Blob Load (50.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mActiveStorage::Blob Create (15.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "criebojzer08n5jnvqk8q18ggwy3"], ["filename", "foto_no_exif (1).jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 12781], ["checksum", "JX8b6gTT6cvWyjV8HjHX6w=="], ["created_at", "2020-04-24 22:07:36.875423"]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mActiveStorage::Attachment Create (16.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-04-24 22:07:36.897364"]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[36mPost Update (3.3ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = $1 WHERE "posts"."id" = $2[0m  [["updated_at", "2020-04-24 22:07:36.921977"], ["id", 1]]
  ↳ app/controllers/posts_controller.rb:14:in `create'
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/posts_controller.rb:14:in `create'
[36m  Disk Storage (33.8ms) [0m[32mUploaded file to key: criebojzer08n5jnvqk8q18ggwy3 (checksum: JX8b6gTT6cvWyjV8HjHX6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 17f57bd5-ba92-4983-b0cf-9c73a1e28636) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f97bb9ad2b0 @uri=#<URI::GID gid://facebook-clone/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/
Completed 302 Found in 1568ms (ActiveRecord: 387.5ms | Allocations: 69987)


Started GET "/" for ::1 at 2020-04-24 23:07:37 +0100
Processing by PostsController#index as HTML
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636] Performing ActiveStorage::AnalyzeJob (Job ID: 17f57bd5-ba92-4983-b0cf-9c73a1e28636) from Async(active_storage_analysis) enqueued at 2020-04-24T22:07:37Z with arguments: #<GlobalID:0x00007f97cc05c0b0 @uri=#<URI::GID gid://facebook-clone/ActiveStorage::Blob/1>>
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636] [36m  Disk Storage (5.1ms) [0m[34mDownloaded file from key: criebojzer08n5jnvqk8q18ggwy3[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636] Skipping image analysis because the mini_magick gem isn't installed
  Rendered posts/_form.html.erb (Duration: 9.8ms | Allocations: 1460)
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636]   [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mPost Load (41.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636]   [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17f57bd5-ba92-4983-b0cf-9c73a1e28636] Performed ActiveStorage::AnalyzeJob (Job ID: 17f57bd5-ba92-4983-b0cf-9c73a1e28636) from Async(active_storage_analysis) in 72.28ms
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (16.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (26.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (1.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  Rendered comments/_form.html.erb (Duration: 14.7ms | Allocations: 1856)
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 116.2ms | Allocations: 9729)
  Rendered posts/index.html.erb within layouts/application (Duration: 237.5ms | Allocations: 21850)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 610)
Completed 200 OK in 268ms (Views: 165.9ms | ActiveRecord: 96.2ms | Allocations: 32440)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--031e053c4b38e602f15e98f44c63e0fdf2e9f142/foto_no_exif%20(1).jpg" for ::1 at 2020-04-24 23:07:38 +0100
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--031e053c4b38e602f15e98f44c63e0fdf2e9f142", "filename"=>"foto_no_exif (1)"}
  [1m[36mActiveStorage::Blob Load (4.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.4ms) [0m[34mGenerated URL for file at key: criebojzer08n5jnvqk8q18ggwy3 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9/foto_no_exif%20(1).jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22foto_no_exif+%25281%2529.jpg%22%3B+filename%2A%3DUTF-8%27%27foto_no_exif%2520%25281%2529.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9/foto_no_exif%20(1).jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22foto_no_exif+%25281%2529.jpg%22%3B+filename%2A%3DUTF-8%27%27foto_no_exif%2520%25281%2529.jpg
Completed 302 Found in 39ms (ActiveRecord: 4.8ms | Allocations: 2299)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9/foto_no_exif%20(1).jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22foto_no_exif+%25281%2529.jpg%22%3B+filename%2A%3DUTF-8%27%27foto_no_exif%2520%25281%2529.jpg" for ::1 at 2020-04-24 23:07:39 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"foto_no_exif %281%29.jpg\"; filename*=UTF-8''foto_no_exif%20%281%29.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9", "filename"=>"foto_no_exif (1)"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/profile" for ::1 at 2020-04-24 23:07:55 +0100
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2333)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 1.3ms | Allocations: 613)
Completed 200 OK in 36ms (Views: 25.9ms | ActiveRecord: 1.3ms | Allocations: 11875)


Started PUT "/" for ::1 at 2020-04-24 23:08:07 +0100
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"7Qb9Z7vVnkjjSH5AH3xc446h3I3p7wGFwJ1MUXJm4WJNhvWb+tZe1GPLrClZgCrr/LgtI4fN3vpFTGZJ7ep2ew==", "user"=>{"first_name"=>"week", "last_name"=>"week", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x00007f97bc2eaa30 @tempfile=#<Tempfile:/tmp/RackMultipart20200424-5782-1fna4tz.png>, @original_filename="dad (1).png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"dad (1).png\"\r\nContent-Type: image/png\r\n">, "date_of_birth"=>"2020-04-01", "email"=>"wqeek@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (47.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "89hfe9fybbf7h8hxka9wc1h7byiu"], ["filename", "dad (1).png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 70840], ["checksum", "6WxUueL2ITH2Hijj7EkELw=="], ["created_at", "2020-04-24 22:08:07.922937"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 3], ["blob_id", 2], ["created_at", "2020-04-24 22:08:07.976101"]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1 WHERE "users"."id" = $2[0m  [["updated_at", "2020-04-24 22:08:07.982537"], ["id", 3]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.1ms) [0m[32mUploaded file to key: 89hfe9fybbf7h8hxka9wc1h7byiu (checksum: 6WxUueL2ITH2Hijj7EkELw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 329fd2fc-17eb-476b-9e2c-d0fadbd1db1e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f97b8b59a30 @uri=#<URI::GID gid://facebook-clone/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e] Performing ActiveStorage::AnalyzeJob (Job ID: 329fd2fc-17eb-476b-9e2c-d0fadbd1db1e) from Async(active_storage_analysis) enqueued at 2020-04-24T22:08:08Z with arguments: #<GlobalID:0x00007f97cc08ec40 @uri=#<URI::GID gid://facebook-clone/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 89hfe9fybbf7h8hxka9wc1h7byiu[0m
Redirected to http://localhost:3000/
Completed 302 Found in 594ms (ActiveRecord: 68.2ms | Allocations: 28723)


[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e] Skipping image analysis because the mini_magick gem isn't installed
Started GET "/" for ::1 at 2020-04-24 23:08:08 +0100
Processing by PostsController#index as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e]   [1m[35m (8.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.4ms | Allocations: 661)
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e]   [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [329fd2fc-17eb-476b-9e2c-d0fadbd1db1e] Performed ActiveStorage::AnalyzeJob (Job ID: 329fd2fc-17eb-476b-9e2c-d0fadbd1db1e) from Async(active_storage_analysis) in 89.0ms
  [1m[36mPost Load (2.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (4.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:9
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:6
  Rendered comments/_form.html.erb (Duration: 13.4ms | Allocations: 3234)
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 55.3ms | Allocations: 11254)
  Rendered posts/index.html.erb within layouts/application (Duration: 89.6ms | Allocations: 18478)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 605)
Completed 200 OK in 132ms (Views: 102.7ms | ActiveRecord: 19.5ms | Allocations: 30153)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6/dad%20(1).png" for ::1 at 2020-04-24 23:08:08 +0100
Processing by ActiveStorage::BlobsController#show as PNG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--eaa3905cb97501ad10e522eb1e0240125e7b4ab6", "filename"=>"dad (1)"}
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 89hfe9fybbf7h8hxka9wc1h7byiu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png
Completed 302 Found in 12ms (ActiveRecord: 1.2ms | Allocations: 1915)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-24 23:08:08 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893", "filename"=>"dad (1)"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9/foto_no_exif%20(1).jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22foto_no_exif+%25281%2529.jpg%22%3B+filename%2A%3DUTF-8%27%27foto_no_exif%2520%25281%2529.jpg" for ::1 at 2020-04-24 23:08:08 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"foto_no_exif %281%29.jpg\"; filename*=UTF-8''foto_no_exif%20%281%29.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9", "filename"=>"foto_no_exif (1)"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 363)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/posts/1/comments" for ::1 at 2020-04-24 23:08:15 +0100
Processing by CommentsController#create as HTML
  Parameters: {"authenticity_token"=>"lsERwylZUxRlu9+WvK9a2l7fW3CvdpABxEm5mleU8I6f+JJ/xYqdqZNHE5zCxcB0s4FXRSARDTIVjGCcNhgtig==", "comment"=>{"content"=>"hello"}, "commit"=>"Create Comment", "post_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/comments_controller.rb:38:in `find_post'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/comments_controller.rb:12:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/comments_controller.rb:12:in `create'
  [1m[36mComment Create (66.4ms)[0m  [1m[32mINSERT INTO "comments" ("content", "created_at", "updated_at", "user_id", "post_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hello"], ["created_at", "2020-04-24 22:08:15.754975"], ["updated_at", "2020-04-24 22:08:15.754975"], ["user_id", 3], ["post_id", 1]]
  ↳ app/controllers/comments_controller.rb:12:in `create'
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/comments_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 122ms (ActiveRecord: 93.9ms | Allocations: 7807)


Started GET "/" for ::1 at 2020-04-24 23:08:15 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 2.5ms | Allocations: 659)
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:9
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/posts/_post.html.erb:60
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 866.6ms | Allocations: 213559)
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 945.1ms | Allocations: 222953)
  Rendered posts/index.html.erb within layouts/application (Duration: 997.7ms | Allocations: 229308)
Completed 500 Internal Server Error in 1013ms (ActiveRecord: 10.1ms | Allocations: 231407)


  
ActionView::Template::Error (undefined local variable or method `post' for #<#<Class:0x0000557de72dfc20>:0x00007f97bc326b48>
Did you mean?  @post
               @posts):
     5: 
     6:     
     7:     <article class="media">
     8:       <% if post.user.avatar.attached? %>
     9:            <figure class="media-left">
    10:         <p class="image is-48x48">
    11:               <%= image_tag comment.user.avatar,size: '100' %>
  
app/views/comments/_comment.html.erb:8
app/views/posts/_post.html.erb:60
app/views/posts/index.html.erb:6
Started GET "/" for ::1 at 2020-04-24 23:08:51 +0100
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 35.0ms | Allocations: 880)
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY created_at DESC[0m  [["user_id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" = $3[0m  [["record_type", "Post"], ["name", "image"], ["record_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."status" = $2) ORDER BY created_at DESC[0m  [["user_id", 3], ["status", "accepted"]]
  ↳ app/models/user.rb:31:in `user_friends_post'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:8
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:9
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/posts/_post.html.erb:38
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:47
  [1m[36mComment Load (0.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/views/posts/_post.html.erb:60
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_comment.html.erb:8
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/comments/_comment.html.erb:11
  Rendered collection of comments/_comment.html.erb [1 times] (Duration: 8.3ms | Allocations: 3404)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:5
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/comments/_form.html.erb:6
  Rendered comments/_form.html.erb (Duration: 11.7ms | Allocations: 3508)
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 56.8ms | Allocations: 17113)
  Rendered posts/index.html.erb within layouts/application (Duration: 122.6ms | Allocations: 24067)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_nav.html.erb (Duration: 2.8ms | Allocations: 957)
Completed 200 OK in 188ms (Views: 169.5ms | ActiveRecord: 8.8ms | Allocations: 35189)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9/foto_no_exif%20(1).jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22foto_no_exif+%25281%2529.jpg%22%3B+filename%2A%3DUTF-8%27%27foto_no_exif%2520%25281%2529.jpg" for ::1 at 2020-04-24 23:08:52 +0100
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"foto_no_exif %281%29.jpg\"; filename*=UTF-8''foto_no_exif%20%281%29.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhZM0pwWldKdmFucGxjakE0YmpWcWJuWnhhemh4TVRoblozZDVNd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpWFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1admRHOWZibTlmWlhocFppQWxNamd4SlRJNUxtcHdaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWm05MGIxOXViMTlsZUdsbUpUSXdKVEk0TVNVeU9TNXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWQT09IiwiZXhwIjoiMjAyMC0wNC0yNFQyMjoxMjozOC45NzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--e22ef971df0a4184ec2e155da76b02da9cbd33a9", "filename"=>"foto_no_exif (1)"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893/dad%20(1).png?content_type=image%2Fpng&disposition=inline%3B+filename%3D%22dad+%25281%2529.png%22%3B+filename%2A%3DUTF-8%27%27dad%2520%25281%2529.png" for ::1 at 2020-04-24 23:08:52 +0100
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"content_type"=>"image/png", "disposition"=>"inline; filename=\"dad %281%29.png\"; filename*=UTF-8''dad%20%281%29.png", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhPRGxvWm1VNVpubGlZbVkzYURob2VHdGhPWGRqTVdnM1lubHBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SaFpDQWxNamd4SlRJNUxuQnVaeUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuWkdGa0pUSXdKVEk0TVNVeU9TNXdibWNHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc1cGJXRm5aUzl3Ym1jR093WlUiLCJleHAiOiIyMDIwLTA0LTI0VDIyOjEzOjA4LjY0N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e5799955ee638324cc1dc49c8d3f1bbf90347893", "filename"=>"dad (1)"}
Completed 304 Not Modified in 19ms (ActiveRecord: 0.0ms | Allocations: 368)


  
ActionController::RoutingError (No route matches [GET] "/assets/tinymce/plugins/uploadimage/plugin.js"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/method_override.rb:24:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
